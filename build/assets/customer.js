"use strict";!function(){var e="b2c-menu--to-right",t=document.querySelector(".b2c-menu"),o=document.querySelector(".b2c-menu__content"),r=document.querySelector(".b2c-menu__trigger");(t||o||r)&&(o.style.animation="none",r.addEventListener("click",function(){o.style.animation="",t.classList.toggle("b2c-menu--active")}),window.addEventListener("scroll",function(){0<window.scrollY-232?t.classList.add(e):t.classList.remove(e)}))}(),function(){function e(e){return"[".concat(e,"]")}function o(e){e.style.display="none"}function r(e){e.style.display="block"}var n="rh-country-data-section",c="rh-country-data-trigger",i="rh-country-data",a="rh-country-data-title",u="rh-bg-gold",l=document.querySelectorAll(e(i)),d=document.querySelectorAll(e(n)),t=document.querySelectorAll(e(c)),s=document.querySelectorAll(e(a));l.forEach(o),d.forEach(o),s.forEach(function(e){return e.classList.remove(u)}),t.forEach(function(t){t.addEventListener("click",function(){var e;l.forEach(o),d.forEach(o),s.forEach(function(e){return e.classList.remove(u)}),r(document.querySelector((e=t.getAttribute(c),"[".concat(i,' = "').concat(e,'"]')))),r(document.querySelector((e=t.getAttribute("rh-country-data-section-trigger"),"[".concat(n,' = "').concat(e,'"]')))),document.querySelectorAll((e=t.getAttribute(c),"[".concat(a,' = "').concat(e,'"]'))).forEach(function(e){return e.classList.add(u)})})})}(),function(){var e,t=document.querySelector(".mobile-sidebar"),o=document.querySelector(".mobile-sidebar-trigger"),r=document.querySelector(".mobile-sidebar__close-trigger"),n=document.querySelector(".mobile-sidebar__screenlock"),c=document.querySelectorAll(".mobile-sidebar__item"),i="mobile-sidebar--active";t&&o&&r&&n&&0!==c.length&&(e=function(){document.body.style.overflow="auto",t.classList.remove(i)},c.forEach(function(e){var t=e.querySelector(".mobile-sidebar__submenu-trigger"),o=e.querySelector(".mobile-sidebar__submenu");t.addEventListener("click",function(){document.querySelectorAll(".mobile-sidebar__submenu").forEach(function(e){e!==o&&e.classList.remove("mobile-sidebar__submenu--active")}),o.classList.toggle("mobile-sidebar__submenu--active")})}),window.addEventListener("resize",function(){769<=window.innerWidth&&e()}),o.addEventListener("click",function(){document.body.style.overflow="hidden",t.classList.add(i)}),r.addEventListener("click",e),n.addEventListener("click",e))}(),function(){var e=document.querySelectorAll(".rh-accordion");e&&e.forEach(function(e){e.querySelector(".rh-accordion__trigger").addEventListener("click",function(){e.classList.toggle("rh-accordion--active")})})}(),function(){var e,t,o=document.querySelector(".search-form-switch__button_tour"),r=document.querySelector(".search-form-switch__button_hotel"),n=document.querySelector(".search-form-switch__form_tour"),c=document.querySelector(".search-form-switch__form_hotel");o&&r&&n&&c&&(e="search-form-switch__button--active",t="search-form-switch__form--active",o.addEventListener("click",function(){o.classList.add(e),n.classList.add(t),r.classList.remove(e),c.classList.remove(t)}),r.addEventListener("click",function(){r.classList.add(e),c.classList.add(t),o.classList.remove(e),n.classList.remove(t)}))}(),document.addEventListener("DOMContentLoaded",function(){var e=".b2b-top-slider";document.querySelector(e)&&new Splide(e,{type:"loop",autoplay:!0,arrows:!1}).mount()}),document.addEventListener("DOMContentLoaded",function(){var e=".with-you-slider";document.querySelector(e)&&new Splide(e,{type:"loop",pagination:!1}).mount()}),document.addEventListener("DOMContentLoaded",function(){var e=".our-guests-slider",t=".our-guests-slider--mobile";document.querySelector(e)&&new Splide(e,{type:"loop",autoplay:!0,arrows:!0,pagination:!1,gap:20,perPage:3}).mount(),document.querySelector(t)&&new Splide(t,{type:"loop",autoplay:!0,arrows:!0,pagination:!1,perPage:1}).mount()}),document.addEventListener("DOMContentLoaded",function(){var e=".our-goods-slider";document.querySelector(e)&&new Splide(e,{type:"loop",autoplay:!1,arrows:!1,perPage:1}).mount()}),document.addEventListener("DOMContentLoaded",function(){var e=".b2c-blog-slider",t=".b2c-blog-slider--mobile";document.querySelector(e)&&new Splide(e,{type:"loop",autoplay:!1,arrows:!0,pagination:!1,gap:20,perPage:4}).mount(),document.querySelector(t)&&new Splide(t,{type:"loop",autoplay:!0,arrows:!0,pagination:!1,perPage:1}).mount()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImIyYy1tZW51LmpzIiwiY291bnRyeS1pbmZvLWhhbmRsZXIuanMiLCJtb2JpbGUtc2lkZWJhci5qcyIsInJoLWFjY29yZGlvbi5qcyIsInNlYXJjaC1mcm9tLXN3aXRjaC5qcyIsInNwbGlkZS1pbml0aWF0b3IuanMiXSwibmFtZXMiOlsiYjJjTWVudVRvUmlnaHRDbGFzcyIsImIyY01lbnVFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYjJjTWVudUNvbnRlbnRFbGVtZW50IiwiYjJjVHJpZ2dlckVsZW1lbnQiLCJzdHlsZSIsImFuaW1hdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ3aW5kb3ciLCJzY3JvbGxZIiwiYWRkIiwicmVtb3ZlIiwiYXR0cmlidXRlTmFtZVRvUXVlcnkiLCJhdHRyaWJ1dGVOYW1lIiwiY29uY2F0IiwiaGlkZUVsZW1lbnQiLCJlbGVtZW50IiwiZGlzcGxheSIsInNob3dFbGVtZW50IiwiZGF0YVNlY3Rpb25BdHRyaWJ1dGVOYW1lIiwiZGF0YVRyaWdnZXJBdHRyaWJ1dGVOYW1lIiwiZGF0YUF0dHJpYnV0ZU5hbWUiLCJkYXRhVGl0bGVBdHRyaWJ1dGVOYW1lIiwiZ29sZEJnQ2xhc3MiLCJkYXRhcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkYXRhU2VjdGlvbnMiLCJkYXRhVHJpZ2dlcnMiLCJkYXRhVGl0bGVzIiwiZm9yRWFjaCIsImRhdGFUaXRsZSIsImRhdGFUcmlnZ2VyIiwiaWQiLCJnZXRBdHRyaWJ1dGUiLCJjbG9zZVNpZGViYXIiLCJtb2JpbGVTaWRlYmFyRWxlbWVudCIsIm1vYmlsZVNpZGViYXJUcmlnZ2VyRWxlbWVudCIsIm1vYmlsZVNpZGViYXJDbG9zZVRyaWdnZXJFbGVtZW50IiwibW9iaWxlU2lkZWJhclNjcmVlbmxvY2tFbGVtZW50IiwibW9iaWxlU2lkZWJhckl0ZW1FbGVtZW50cyIsIm1vYmlsZVNpZGViYXJBY3RpdmVDbGFzcyIsImxlbmd0aCIsImJvZHkiLCJvdmVyZmxvdyIsIm1vYmlsZVNpZGViYXJJdGVtRWxlbWVudCIsInRyaWdnZXIiLCJzdWJtZW51Iiwic3VibWVudUVhY2giLCJpbm5lcldpZHRoIiwiYWNjb3JkaW9uRWxlbWVudHMiLCJhY2NvcmRpb24iLCJidXR0b25BY3RpdmVDbGFzcyIsImZvcm1BY3RpdmVDbGFzcyIsInRvdXJTZWFyY2hCdXR0b25FbGVtZW50IiwiaG90ZWxTZWFyY2hCdXR0b25FbGVtZW50IiwidG91clNlYXJjaEZvcm1FbGVtZW50IiwiaG90ZWxTZWFyY2hGb3JtRWxlbWVudCIsInNsaWRlckVsZW1lbnRRdWVyeSIsIlNwbGlkZSIsInR5cGUiLCJhdXRvcGxheSIsImFycm93cyIsIm1vdW50IiwicGFnaW5hdGlvbiIsInNsaWRlckVsZW1lbnRRdWVyeU1vYmlsZSIsImdhcCIsInBlclBhZ2UiXSwibWFwcGluZ3MiOiJjQUFBLFdBQ0EsSUFLQUEsRUFBQSxxQkFFQUMsRUFBQUMsU0FBQUMsY0FQQSxhQVFBQyxFQUFBRixTQUFBQyxjQVBBLHNCQVFBRSxFQUFBSCxTQUFBQyxjQVBBLHVCQVNBRixHQUFBRyxHQUFBQyxLQUlBRCxFQUFBRSxNQUFBQyxVQUFBLE9BZUFGLEVBQUFHLGlCQUFBLFFBTEEsV0FDQUosRUFBQUUsTUFBQUMsVUFBQSxHQUNBTixFQUFBUSxVQUFBQyxPQXZCQSxzQkEyQkFDLE9BQUFILGlCQUFBLFNBZEEsV0FDQSxFQUFBRyxPQUFBQyxRQUFBLElBQ0FYLEVBQUFRLFVBQUFJLElBQUFiLEdBRUFDLEVBQUFRLFVBQUFLLE9BQUFkLE1BdEJBLEdDQUEsV0FZQSxTQUFBZSxFQUFBQyxHQUFBLE1BQUEsSUFBQUMsT0FBQUQsRUFBQSxLQXdCQSxTQUFBRSxFQUFBQyxHQUNBQSxFQUFBYixNQUFBYyxRQUFBLE9BT0EsU0FBQUMsRUFBQUYsR0FDQUEsRUFBQWIsTUFBQWMsUUFBQSxRQTVDQSxJQUNBRSxFQUFBLDBCQUNBQyxFQUFBLDBCQUNBQyxFQUFBLGtCQUNBQyxFQUFBLHdCQUNBQyxFQUFBLGFBMENB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Q0FFLFlBQUEsRUFDQUUsSUFBQSxHQUNBQyxRQUFBLElBQ0FKLFFBR0EvRCxTQUFBQyxjQUFBZ0UsSUFDQSxJQUFBTixPQUFBTSxFQUFBLENBQ0FMLEtBQUEsT0FDQUMsVUFBQSxFQUNBQyxRQUFBLEVBQ0FFLFlBQUEsRUFDQUcsUUFBQSxJQUNBSiIsImZpbGUiOiJjdXN0b21lci5qcyIsInNvdXJjZXNDb250ZW50IjpbIigoKSA9PiB7XHJcbiAgY29uc3QgYjJjTWVudVF1ZXJ5ID0gXCIuYjJjLW1lbnVcIjtcclxuICBjb25zdCBiMmNNZW51Q29udGVudFF1ZXJ5ID0gXCIuYjJjLW1lbnVfX2NvbnRlbnRcIjtcclxuICBjb25zdCBiMmNUcmlnZ2VyUXVlcnkgPSBcIi5iMmMtbWVudV9fdHJpZ2dlclwiO1xyXG5cclxuICBjb25zdCBiMmNNZW51QWN0aXZlQ2xhc3MgPSBcImIyYy1tZW51LS1hY3RpdmVcIjtcclxuICBjb25zdCBiMmNNZW51VG9SaWdodENsYXNzID0gXCJiMmMtbWVudS0tdG8tcmlnaHRcIjtcclxuXHJcbiAgY29uc3QgYjJjTWVudUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGIyY01lbnVRdWVyeSk7XHJcbiAgY29uc3QgYjJjTWVudUNvbnRlbnRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihiMmNNZW51Q29udGVudFF1ZXJ5KTtcclxuICBjb25zdCBiMmNUcmlnZ2VyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYjJjVHJpZ2dlclF1ZXJ5KTtcclxuXHJcbiAgaWYgKCFiMmNNZW51RWxlbWVudCAmJiAhYjJjTWVudUNvbnRlbnRFbGVtZW50ICYmICFiMmNUcmlnZ2VyRWxlbWVudCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgYjJjTWVudUNvbnRlbnRFbGVtZW50LnN0eWxlLmFuaW1hdGlvbiA9IFwibm9uZVwiO1xyXG4gIFxyXG4gIGNvbnN0IGhhbmRsZVNjcm9sbCA9ICgpID0+IHtcclxuICAgIGlmICh3aW5kb3cuc2Nyb2xsWSAtIDIzMiA+IDApIHtcclxuICAgICAgYjJjTWVudUVsZW1lbnQuY2xhc3NMaXN0LmFkZChiMmNNZW51VG9SaWdodENsYXNzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGIyY01lbnVFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoYjJjTWVudVRvUmlnaHRDbGFzcyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdG9nZ2xlTWVudSA9ICgpID0+IHtcclxuICAgIGIyY01lbnVDb250ZW50RWxlbWVudC5zdHlsZS5hbmltYXRpb24gPSBcIlwiO1xyXG4gICAgYjJjTWVudUVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShiMmNNZW51QWN0aXZlQ2xhc3MpO1xyXG4gIH07XHJcblxyXG4gIGIyY1RyaWdnZXJFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVNZW51KTtcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwpO1xyXG59KSgpOyIsIigoKSA9PiB7XHJcbiAgY29uc3QgZGF0YVNlY3Rpb25UcmlnZ2VyQXR0cmlidXRlTmFtZSA9IFwicmgtY291bnRyeS1kYXRhLXNlY3Rpb24tdHJpZ2dlclwiO1xyXG4gIGNvbnN0IGRhdGFTZWN0aW9uQXR0cmlidXRlTmFtZSA9IFwicmgtY291bnRyeS1kYXRhLXNlY3Rpb25cIjtcclxuICBjb25zdCBkYXRhVHJpZ2dlckF0dHJpYnV0ZU5hbWUgPSBcInJoLWNvdW50cnktZGF0YS10cmlnZ2VyXCI7XHJcbiAgY29uc3QgZGF0YUF0dHJpYnV0ZU5hbWUgPSBcInJoLWNvdW50cnktZGF0YVwiO1xyXG4gIGNvbnN0IGRhdGFUaXRsZUF0dHJpYnV0ZU5hbWUgPSBcInJoLWNvdW50cnktZGF0YS10aXRsZVwiO1xyXG4gIGNvbnN0IGdvbGRCZ0NsYXNzID0gXCJyaC1iZy1nb2xkXCI7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVOYW1lXHJcbiAgICogQHJldHVybnMgIHtzdHJpbmd9XHJcbiAgICovXHJcbiAgY29uc3QgYXR0cmlidXRlTmFtZVRvUXVlcnkgPSBhdHRyaWJ1dGVOYW1lID0+IGBbJHthdHRyaWJ1dGVOYW1lfV1gO1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bWJlcn0gaWRcclxuICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgKi9cclxuICAgY29uc3QgY3JlYXRlUXVlcnlGb3JEYXRhQnlJZCA9IGlkID0+IGBbJHtkYXRhQXR0cmlidXRlTmFtZX0gPSBcIiR7aWR9XCJdYDtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudW1iZXJ9IGlkXHJcbiAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICovXHJcbiAgY29uc3QgY3JlYXRlUXVlcnlGb3JEYXRhU2VjdGlvbkJ5SWQgPSBpZCA9PiBgWyR7ZGF0YVNlY3Rpb25BdHRyaWJ1dGVOYW1lfSA9IFwiJHtpZH1cIl1gO1xyXG5cclxuICAgLyoqXHJcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudW1iZXJ9IGlkXHJcbiAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICovXHJcbiAgY29uc3QgY3JlYXRlUXVlcnlGb3JEYXRhVGl0bGVCeUlkID0gaWQgPT4gYFske2RhdGFUaXRsZUF0dHJpYnV0ZU5hbWV9ID0gXCIke2lkfVwiXWA7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcclxuICAgKiBAcmV0dXJucyB7dm9pZH0gXHJcbiAgICovXHJcbiAgY29uc3QgaGlkZUVsZW1lbnQgPSBlbGVtZW50ID0+IHtcclxuICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcclxuICAgKiBAcmV0dXJucyB7dm9pZH0gXHJcbiAgICovXHJcbiAgY29uc3Qgc2hvd0VsZW1lbnQgPSBlbGVtZW50ID0+IHtcclxuICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICB9O1xyXG5cclxuICBjb25zdCBkYXRhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYXR0cmlidXRlTmFtZVRvUXVlcnkoZGF0YUF0dHJpYnV0ZU5hbWUpKTtcclxuICBjb25zdCBkYXRhU2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGF0dHJpYnV0ZU5hbWVUb1F1ZXJ5KGRhdGFTZWN0aW9uQXR0cmlidXRlTmFtZSkpO1xyXG4gIGNvbnN0IGRhdGFUcmlnZ2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYXR0cmlidXRlTmFtZVRvUXVlcnkoZGF0YVRyaWdnZXJBdHRyaWJ1dGVOYW1lKSk7XHJcbiAgY29uc3QgZGF0YVRpdGxlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYXR0cmlidXRlTmFtZVRvUXVlcnkoZGF0YVRpdGxlQXR0cmlidXRlTmFtZSkpO1xyXG5cclxuICBkYXRhcy5mb3JFYWNoKGRhdGEgPT4gaGlkZUVsZW1lbnQoZGF0YSkpO1xyXG4gIGRhdGFTZWN0aW9ucy5mb3JFYWNoKGRhdGFTZWN0aW9uID0+IGhpZGVFbGVtZW50KGRhdGFTZWN0aW9uKSk7XHJcbiAgZGF0YVRpdGxlcy5mb3JFYWNoKGRhdGFUaXRsZSA9PiBkYXRhVGl0bGUuY2xhc3NMaXN0LnJlbW92ZShnb2xkQmdDbGFzcykpO1xyXG5cclxuICBkYXRhVHJpZ2dlcnMuZm9yRWFjaChkYXRhVHJpZ2dlciA9PiB7XHJcbiAgICBkYXRhVHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBkYXRhcy5mb3JFYWNoKGRhdGEgPT4gaGlkZUVsZW1lbnQoZGF0YSkpO1xyXG4gICAgICBkYXRhU2VjdGlvbnMuZm9yRWFjaChkYXRhU2VjdGlvbiA9PiBoaWRlRWxlbWVudChkYXRhU2VjdGlvbikpO1xyXG4gICAgICBkYXRhVGl0bGVzLmZvckVhY2goZGF0YVRpdGxlID0+IGRhdGFUaXRsZS5jbGFzc0xpc3QucmVtb3ZlKGdvbGRCZ0NsYXNzKSk7XHJcblxyXG4gICAgICBzaG93RWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNyZWF0ZVF1ZXJ5Rm9yRGF0YUJ5SWQoZGF0YVRyaWdnZXIuZ2V0QXR0cmlidXRlKGRhdGFUcmlnZ2VyQXR0cmlidXRlTmFtZSkpKSk7XHJcbiAgICAgIHNob3dFbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY3JlYXRlUXVlcnlGb3JEYXRhU2VjdGlvbkJ5SWQoZGF0YVRyaWdnZXIuZ2V0QXR0cmlidXRlKGRhdGFTZWN0aW9uVHJpZ2dlckF0dHJpYnV0ZU5hbWUpKSkpO1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNyZWF0ZVF1ZXJ5Rm9yRGF0YVRpdGxlQnlJZChkYXRhVHJpZ2dlci5nZXRBdHRyaWJ1dGUoZGF0YVRyaWdnZXJBdHRyaWJ1dGVOYW1lKSkpLmZvckVhY2goZGF0YVRpdGxlID0+IGRhdGFUaXRsZS5jbGFzc0xpc3QuYWRkKGdvbGRCZ0NsYXNzKSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSkoKTsiLCIoKCkgPT4ge1xyXG4gIGNvbnN0IG1vYmlsZVNpZGViYXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2JpbGUtc2lkZWJhclwiKTtcclxuICBjb25zdCBtb2JpbGVTaWRlYmFyVHJpZ2dlckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vYmlsZS1zaWRlYmFyLXRyaWdnZXJcIik7XHJcbiAgY29uc3QgbW9iaWxlU2lkZWJhckNsb3NlVHJpZ2dlckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vYmlsZS1zaWRlYmFyX19jbG9zZS10cmlnZ2VyXCIpO1xyXG4gIGNvbnN0IG1vYmlsZVNpZGViYXJTY3JlZW5sb2NrRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9iaWxlLXNpZGViYXJfX3NjcmVlbmxvY2tcIik7XHJcbiAgY29uc3QgbW9iaWxlU2lkZWJhckl0ZW1FbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9iaWxlLXNpZGViYXJfX2l0ZW1cIik7XHJcblxyXG4gIGNvbnN0IG1vYmlsZVNpZGViYXJBY3RpdmVDbGFzcyA9IFwibW9iaWxlLXNpZGViYXItLWFjdGl2ZVwiO1xyXG5cclxuICBpZiAoXHJcbiAgICAhbW9iaWxlU2lkZWJhckVsZW1lbnQgXHJcbiAgICB8fCAhbW9iaWxlU2lkZWJhclRyaWdnZXJFbGVtZW50IFxyXG4gICAgfHwgIW1vYmlsZVNpZGViYXJDbG9zZVRyaWdnZXJFbGVtZW50IFxyXG4gICAgfHwgIW1vYmlsZVNpZGViYXJTY3JlZW5sb2NrRWxlbWVudFxyXG4gICAgfHwgbW9iaWxlU2lkZWJhckl0ZW1FbGVtZW50cy5sZW5ndGggPT09IDAgXHJcbiAgKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCBvcGVuU2lkZWJhciA9ICgpID0+IHtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG4gICAgbW9iaWxlU2lkZWJhckVsZW1lbnQuY2xhc3NMaXN0LmFkZChtb2JpbGVTaWRlYmFyQWN0aXZlQ2xhc3MpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImF1dG9cIjtcclxuICAgIG1vYmlsZVNpZGViYXJFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUobW9iaWxlU2lkZWJhckFjdGl2ZUNsYXNzKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBtb2JpbGVXaWR0aExpbWl0ID0gNzY5O1xyXG4gICAgXHJcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPj0gbW9iaWxlV2lkdGhMaW1pdCkge1xyXG4gICAgICBjbG9zZVNpZGViYXIoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBtb2JpbGVTaWRlYmFySXRlbUVsZW1lbnRzLmZvckVhY2gobW9iaWxlU2lkZWJhckl0ZW1FbGVtZW50ID0+IHtcclxuICAgIGNvbnN0IHRyaWdnZXIgPSBtb2JpbGVTaWRlYmFySXRlbUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2JpbGUtc2lkZWJhcl9fc3VibWVudS10cmlnZ2VyXCIpO1xyXG4gICAgY29uc3Qgc3VibWVudSA9IG1vYmlsZVNpZGViYXJJdGVtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vYmlsZS1zaWRlYmFyX19zdWJtZW51XCIpO1xyXG4gICAgXHJcbiAgICB0cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9iaWxlLXNpZGViYXJfX3N1Ym1lbnVcIilcclxuICAgICAgICAuZm9yRWFjaChzdWJtZW51RWFjaCA9PiB7XHJcbiAgICAgICAgICBpZiAoc3VibWVudUVhY2ggIT09IHN1Ym1lbnUpIHtcclxuICAgICAgICAgICAgc3VibWVudUVhY2guY2xhc3NMaXN0LnJlbW92ZShcIm1vYmlsZS1zaWRlYmFyX19zdWJtZW51LS1hY3RpdmVcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIHN1Ym1lbnUuY2xhc3NMaXN0LnRvZ2dsZShcIm1vYmlsZS1zaWRlYmFyX19zdWJtZW51LS1hY3RpdmVcIik7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKTtcclxuICBtb2JpbGVTaWRlYmFyVHJpZ2dlckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5TaWRlYmFyKTtcclxuICBtb2JpbGVTaWRlYmFyQ2xvc2VUcmlnZ2VyRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VTaWRlYmFyKTtcclxuICBtb2JpbGVTaWRlYmFyU2NyZWVubG9ja0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlU2lkZWJhcik7XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgY29uc3QgYWNjb3JkaW9uUXVlcnkgPSBcIi5yaC1hY2NvcmRpb25cIjtcclxuICBjb25zdCBhY2NvcmRpb25UcmlnZ2VyUXVlcnkgPSBcIi5yaC1hY2NvcmRpb25fX3RyaWdnZXJcIjtcclxuICBjb25zdCBhY2NvcmRpb25BY3RpdmVDbGFzcyA9IFwicmgtYWNjb3JkaW9uLS1hY3RpdmVcIjtcclxuXHJcbiAgY29uc3QgYWNjb3JkaW9uRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGFjY29yZGlvblF1ZXJ5KTtcclxuXHJcbiAgaWYgKCFhY2NvcmRpb25FbGVtZW50cykge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgYWNjb3JkaW9uRWxlbWVudHMuZm9yRWFjaChhY2NvcmRpb24gPT4ge1xyXG4gICAgYWNjb3JkaW9uLnF1ZXJ5U2VsZWN0b3IoYWNjb3JkaW9uVHJpZ2dlclF1ZXJ5KS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBhY2NvcmRpb24uY2xhc3NMaXN0LnRvZ2dsZShhY2NvcmRpb25BY3RpdmVDbGFzcyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICBjb25zdCB0b3VyU2VhcmNoQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLWZvcm0tc3dpdGNoX19idXR0b25fdG91clwiKTtcclxuICBjb25zdCBob3RlbFNlYXJjaEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1mb3JtLXN3aXRjaF9fYnV0dG9uX2hvdGVsXCIpO1xyXG4gIGNvbnN0IHRvdXJTZWFyY2hGb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLWZvcm0tc3dpdGNoX19mb3JtX3RvdXJcIik7XHJcbiAgY29uc3QgaG90ZWxTZWFyY2hGb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLWZvcm0tc3dpdGNoX19mb3JtX2hvdGVsXCIpO1xyXG5cclxuICBpZiAoXHJcbiAgICAhdG91clNlYXJjaEJ1dHRvbkVsZW1lbnQgXHJcbiAgICB8fCAhaG90ZWxTZWFyY2hCdXR0b25FbGVtZW50XHJcbiAgICB8fCAhdG91clNlYXJjaEZvcm1FbGVtZW50XHJcbiAgICB8fCAhaG90ZWxTZWFyY2hGb3JtRWxlbWVudFxyXG4gICkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgYnV0dG9uQWN0aXZlQ2xhc3MgPSBcInNlYXJjaC1mb3JtLXN3aXRjaF9fYnV0dG9uLS1hY3RpdmVcIjtcclxuICBjb25zdCBmb3JtQWN0aXZlQ2xhc3MgPSBcInNlYXJjaC1mb3JtLXN3aXRjaF9fZm9ybS0tYWN0aXZlXCI7XHJcblxyXG4gIHRvdXJTZWFyY2hCdXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICB0b3VyU2VhcmNoQnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKGJ1dHRvbkFjdGl2ZUNsYXNzKTtcclxuICAgIHRvdXJTZWFyY2hGb3JtRWxlbWVudC5jbGFzc0xpc3QuYWRkKGZvcm1BY3RpdmVDbGFzcyk7XHJcbiAgICBob3RlbFNlYXJjaEJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShidXR0b25BY3RpdmVDbGFzcyk7XHJcbiAgICBob3RlbFNlYXJjaEZvcm1FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoZm9ybUFjdGl2ZUNsYXNzKTtcclxuICB9KTtcclxuXHJcbiAgaG90ZWxTZWFyY2hCdXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBob3RlbFNlYXJjaEJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChidXR0b25BY3RpdmVDbGFzcyk7XHJcbiAgICBob3RlbFNlYXJjaEZvcm1FbGVtZW50LmNsYXNzTGlzdC5hZGQoZm9ybUFjdGl2ZUNsYXNzKTtcclxuICAgIHRvdXJTZWFyY2hCdXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoYnV0dG9uQWN0aXZlQ2xhc3MpO1xyXG4gICAgdG91clNlYXJjaEZvcm1FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoZm9ybUFjdGl2ZUNsYXNzKTtcclxuICB9KTtcclxufSkoKTtcclxuIiwiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IHNsaWRlckVsZW1lbnRRdWVyeSA9IFwiLmIyYi10b3Atc2xpZGVyXCI7XHJcblxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNsaWRlckVsZW1lbnRRdWVyeSkpIHtcclxuICAgIG5ldyBTcGxpZGUoc2xpZGVyRWxlbWVudFF1ZXJ5LCB7XHJcbiAgICAgIHR5cGU6IFwibG9vcFwiLFxyXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgYXJyb3dzOiBmYWxzZVxyXG4gICAgfSkubW91bnQoKTtcclxuICB9XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IHNsaWRlckVsZW1lbnRRdWVyeSA9IFwiLndpdGgteW91LXNsaWRlclwiO1xyXG5cclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzbGlkZXJFbGVtZW50UXVlcnkpKSB7XHJcbiAgICBuZXcgU3BsaWRlKHNsaWRlckVsZW1lbnRRdWVyeSwge1xyXG4gICAgICB0eXBlOiBcImxvb3BcIixcclxuICAgICAgcGFnaW5hdGlvbjogZmFsc2VcclxuICAgIH0pLm1vdW50KCk7XHJcbiAgfVxyXG59KTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcclxuICBjb25zdCBzbGlkZXJFbGVtZW50UXVlcnkgPSBcIi5vdXItZ3Vlc3RzLXNsaWRlclwiO1xyXG4gIGNvbnN0IHNsaWRlckVsZW1lbnRRdWVyeU1vYmlsZSA9IFwiLm91ci1ndWVzdHMtc2xpZGVyLS1tb2JpbGVcIjtcclxuXHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2xpZGVyRWxlbWVudFF1ZXJ5KSkge1xyXG4gICAgbmV3IFNwbGlkZShzbGlkZXJFbGVtZW50UXVlcnksIHtcclxuICAgICAgdHlwZTogXCJsb29wXCIsXHJcbiAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICBhcnJvd3M6IHRydWUsXHJcbiAgICAgIHBhZ2luYXRpb246IGZhbHNlLFxyXG4gICAgICBnYXA6IDIwLFxyXG4gICAgICBwZXJQYWdlOiAzXHJcbiAgICB9KS5tb3VudCgpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2xpZGVyRWxlbWVudFF1ZXJ5TW9iaWxlKSkge1xyXG4gICAgbmV3IFNwbGlkZShzbGlkZXJFbGVtZW50UXVlcnlNb2JpbGUsIHtcclxuICAgICAgdHlwZTogXCJsb29wXCIsXHJcbiAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICBhcnJvd3M6IHRydWUsXHJcbiAgICAgIHBhZ2luYXRpb246IGZhbHNlLFxyXG4gICAgICBwZXJQYWdlOiAxXHJcbiAgICB9KS5tb3VudCgpO1xyXG4gIH1cclxufSk7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XHJcbiAgY29uc3Qgc2xpZGVyRWxlbWVudFF1ZXJ5ID0gXCIub3VyLWdvb2RzLXNsaWRlclwiO1xyXG5cclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzbGlkZXJFbGVtZW50UXVlcnkpKSB7XHJcbiAgICBuZXcgU3BsaWRlKHNsaWRlckVsZW1lbnRRdWVyeSwge1xyXG4gICAgICB0eXBlOiBcImxvb3BcIixcclxuICAgICAgYXV0b3BsYXk6IGZhbHNlLFxyXG4gICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICBwZXJQYWdlOiAxXHJcbiAgICB9KS5tb3VudCgpO1xyXG4gIH1cclxufSk7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XHJcbiAgY29uc3Qgc2xpZGVyRWxlbWVudFF1ZXJ5ID0gXCIuYjJjLWJsb2ctc2xpZGVyXCI7XHJcbiAgY29uc3Qgc2xpZGVyRWxlbWVudFF1ZXJ5TW9iaWxlID0gXCIuYjJjLWJsb2ctc2xpZGVyLS1tb2JpbGVcIjtcclxuXHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2xpZGVyRWxlbWVudFF1ZXJ5KSkge1xyXG4gICAgbmV3IFNwbGlkZShzbGlkZXJFbGVtZW50UXVlcnksIHtcclxuICAgICAgdHlwZTogXCJsb29wXCIsXHJcbiAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgYXJyb3dzOiB0cnVlLFxyXG4gICAgICBwYWdpbmF0aW9uOiBmYWxzZSxcclxuICAgICAgZ2FwOiAyMCxcclxuICAgICAgcGVyUGFnZTogNFxyXG4gICAgfSkubW91bnQoKTtcclxuICB9XHJcblxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNsaWRlckVsZW1lbnRRdWVyeU1vYmlsZSkpIHtcclxuICAgIG5ldyBTcGxpZGUoc2xpZGVyRWxlbWVudFF1ZXJ5TW9iaWxlLCB7XHJcbiAgICAgIHR5cGU6IFwibG9vcFwiLFxyXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgYXJyb3dzOiB0cnVlLFxyXG4gICAgICBwYWdpbmF0aW9uOiBmYWxzZSxcclxuICAgICAgcGVyUGFnZTogMVxyXG4gICAgfSkubW91bnQoKTtcclxuICB9XHJcbn0pO1xyXG5cclxuIl19
