"use strict";function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}!function(){var e="b2c-menu--to-right",t=document.querySelector(".b2c-menu"),o=document.querySelector(".b2c-menu__content"),n=document.querySelector(".b2c-menu__trigger");(t||o||n)&&(o.style.animation="none",n.addEventListener("click",function(){o.style.animation="",t.classList.toggle("b2c-menu--active")}),window.addEventListener("scroll",function(){0<window.scrollY-232?t.classList.add(e):t.classList.remove(e)}))}(),function(){var e=document.querySelectorAll(".Bron__SwitchButton"),o=document.querySelectorAll(".Bron__Content");e&&o&&(e.forEach(function(t){t.addEventListener("click",function(){e.forEach(function(e){e.classList.remove("Bron__SwitchButton--Active")}),t.classList.add("Bron__SwitchButton--Active"),o.forEach(function(e){e.classList.remove("Bron__Content--Active"),e.getAttribute("bron-content")===t.getAttribute("bron-switch-trigger")&&e.classList.add("Bron__Content--Active")})})}),e[0]&&e[0].click())}(),function(){function e(e){return"[".concat(e,"]")}function o(e){e.style.display="none"}function n(e){e.style.display="block"}var r="rh-country-data-section",c="rh-country-data-trigger",i="rh-country-data",a="rh-country-data-title",l="CountryPage__TabLink--Active",d=document.querySelectorAll(e(i)),u=document.querySelectorAll(e(r)),t=document.querySelectorAll(e(c)),s=document.querySelectorAll(e(a)),m=document.querySelector(".HotelPage__TabsProgressBarInner");d.forEach(o),u.forEach(o),t.forEach(function(t){t.addEventListener("click",function(){var e;d.forEach(o),u.forEach(o),s.forEach(function(e){return e.classList.remove(l)}),m.style="\n        left: ".concat((+t.getAttribute(c)-1)/(d.length+1)*100,"%;\n        width: ").concat(1/d.length*100,"%;\n      "),n(document.querySelector((e=t.getAttribute(c),"[".concat(i,' = "').concat(e,'"]')))),n(document.querySelector((e=t.getAttribute("rh-country-data-section-trigger"),"[".concat(r,' = "').concat(e,'"]')))),document.querySelectorAll((e=t.getAttribute(c),"[".concat(a,' = "').concat(e,'"]'))).forEach(function(e){return e.classList.add(l)})})}),d[0]&&u[0]&&s[0]&&(n(d[0]),n(u[0]),s[0].classList.add(l),m.style="\n        left: 0;\n        width: ".concat(1/d.length*100,"%;\n      "))}(),function(){var t=document.querySelector(".Tourists"),e=document.querySelectorAll(".Tourists__Trigger"),o=document.querySelector(".Tourists__Screenlock"),n=document.querySelector(".Tourists__CloseTrigger"),r="Tourists--Active";t&&e&&o&&n&&(e.forEach(function(e){e.addEventListener("click",function(){setTimeout(function(){document.body.style.overflow="hidden"},100),t.classList.add(r)})}),o.addEventListener("click",function(){document.body.style.overflow="auto",t.classList.remove(r)}),n.addEventListener("click",function(){document.body.style.overflow="auto",t.classList.remove(r)}))}(),function(){function e(e){return"[".concat(e,"]")}function o(e){e.style.display="none"}var n="hotel-tab-trigger-index",r="hotel-data",c="HotelPage__TabLink--Active",i=!1,a=document.querySelectorAll(e(r)),l=document.querySelectorAll(e(n)),d=l.length,u=document.querySelector(".HotelPage__TabsProgressBarInner");a.forEach(o),l.forEach(function(t){t.addEventListener("click",function(){var e;a.forEach(o),l.forEach(function(e){e.classList.remove(c)}),t.classList.add(c),u.style="\n        left: ".concat((+t.getAttribute(n)-1)/d*100,"%;\n        width: ").concat(1/d*100,"%;\n      "),document.querySelector((e=t.getAttribute(n),"[".concat(r,' = "').concat(e,'"]'))).style.display="block","6"!==t.getAttribute(n)||i||(i=!0,setTimeout(function(){document.querySelectorAll(".HotelPage__Nomer").forEach(function(e){var t=new Splide(e.querySelector(".HotelPage__NomerPhotoSlider"),{type:"loop",autoplay:!0,perPage:3,perMove:1,direction:"ttb",height:"675px",pagination:!1,lazyLoad:"nearby",preloadPages:3,arrowPath:"M2.0162 39.9541C3.37923 41.3486 5.58056 41.3486 6.94359 39.9541L22.9838 23.4452C24.3387 22.0423 24.3387 19.7767 22.9838 18.3738L6.94359 1.86487C5.55707 0.64279 3.49025 0.724954 2.19945 2.05347C0.908654 3.38199 0.828821 5.50921 2.0162 6.93624L15.5752 20.9275L2.0162 34.8827C0.661266 36.2856 0.661266 38.5512 2.0162 39.9541Z"}).mount();new Splide(e.querySelector(".HotelPage__NomerMobilePhotoSlider"),{type:"loop",autoplay:!0,perPage:1,perMove:1,pagination:!1,lazyLoad:"nearby",preloadPages:3,gap:"2em",arrowPath:"M1.06039 38.9541C2.48267 40.3486 4.77972 40.3486 6.202 38.9541L22.9396 22.4452C24.3535 21.0423 24.3535 18.7767 22.9396 17.3738L6.202 0.864871C4.7552 -0.35721 2.59852 -0.275046 1.2516 1.05347C-0.0953188 2.38199 -0.178623 4.50921 1.06039 5.93624L15.209 19.9275L1.06039 33.8827C-0.353463 35.2856 -0.353463 37.5512 1.06039 38.9541Z"}).mount();new Splide(e.querySelector(".HotelPage__NomerPopupPhotoSlider--Desktop"),{type:"loop",autoplay:!0,perPage:1,perMove:1,pagination:!1,lazyLoad:"nearby",preloadPages:3,arrowPath:"M1.06039 38.9541C2.48267 40.3486 4.77972 40.3486 6.202 38.9541L22.9396 22.4452C24.3535 21.0423 24.3535 18.7767 22.9396 17.3738L6.202 0.864871C4.7552 -0.35721 2.59852 -0.275046 1.2516 1.05347C-0.0953188 2.38199 -0.178623 4.50921 1.06039 5.93624L15.209 19.9275L1.06039 33.8827C-0.353463 35.2856 -0.353463 37.5512 1.06039 38.9541Z"}).sync(t).mount(),t.on("click",function(){e.querySelector(".HotelPage__NomerPopupPhotoSliderContainer").classList.add("HotelPage__NomerPopupPhotoSliderContainer--ActiveDesktop")}),e.querySelector(".HotelPage__NomerPopupScreenlock").addEventListener("click",function(){e.querySelector(".HotelPage__NomerPopupPhotoSliderContainer").classList.remove("HotelPage__NomerPopupPhotoSliderContainer--ActiveMobile","HotelPage__NomerPopupPhotoSliderContainer--ActiveDesktop")})})},100))})}),document.querySelector("[hotel-tab-trigger-index='1']")&&document.querySelector("[hotel-tab-trigger-index='1']").click()}(),function(){var t,e=document.querySelector(".MobileSidebar"),o=document.querySelector(".mobile-sidebar-trigger"),n=document.querySelector(".MobileSidebar__CloseTrigger"),r=document.querySelector(".MobileSidebar__ScreenLock"),c=document.querySelectorAll(".MobileSidebar__SecondContentItem"),i="MobileSidebar--Active",a=["Tourists__Trigger","Feedback__Trigger","Telegram__Trigger"];e&&o&&n&&r&&0!==c.length&&(t=function(){document.body.style.overflow="auto",e.classList.remove(i)},document.querySelectorAll(".MobileSidebar__FirstContentLink").forEach(function(e){console.log("gere"),e.addEventListener("click",function(){a.includes(e.classList[e.classList.length-1])&&t()})}),c.forEach(function(e){var t=e.querySelector(".MobileSidebar__SecondContentSubmenuTrigger"),o=e.querySelector(".MobileSidebar__SecondContentSubmenu");t.addEventListener("click",function(){document.querySelectorAll(".MobileSidebar__SecondContentSubmenu").forEach(function(e){e!==o&&e.classList.remove("MobileSidebar__SecondContentSubmenu--Active")}),o.classList.toggle("MobileSidebar__SecondContentSubmenu--Active")})}),window.addEventListener("resize",function(){769<=window.innerWidth&&t()}),o.addEventListener("click",function(){document.body.style.overflow="hidden",e.classList.add(i)}),n.addEventListener("click",t),r.addEventListener("click",t))}(),function(){var e=document.querySelectorAll(".rh-accordion");e&&e.forEach(function(e){e.querySelector(".rh-accordion__trigger").addEventListener("click",function(){e.classList.toggle("rh-accordion--active")})})}(),function(){var e=document.querySelectorAll(".RHAccordion");e&&e.forEach(function(e){e.querySelector(".RHAccordion__Trigger").addEventListener("click",function(){e.classList.toggle("RHAccordion--Active")})})}(),function(){var e,t,o=document.querySelector(".search-form-switch__button_tour"),n=document.querySelector(".search-form-switch__button_hotel"),r=document.querySelector(".search-form-switch__form_tour"),c=document.querySelector(".search-form-switch__form_hotel");o&&n&&r&&c&&(e="search-form-switch__button--active",t="search-form-switch__form--active",o.addEventListener("click",function(){o.classList.add(e),r.classList.add(t),n.classList.remove(e),c.classList.remove(t)}),n.addEventListener("click",function(){n.classList.add(e),c.classList.add(t),o.classList.remove(e),r.classList.remove(t)}))}(),document.addEventListener("DOMContentLoaded",function(){var e=".CountryPage__TabsContainer--Scroll";document.querySelector(e)&&new Splide(e,{autoplay:!1,arrows:!1,pagination:!1,autoWidth:!0}).mount()}),document.addEventListener("DOMContentLoaded",function(){var e=".HotelPage__TabsContainer--Scroll";document.querySelector(e)&&new Splide(e,{autoplay:!1,arrows:!1,perMove:1,pagination:!1,autoWidth:!0}).mount()}),document.addEventListener("DOMContentLoaded",function(){var e,t,o,n;document.querySelector(".HotelPage__PhotoSlider--Base")&&(t=new Splide(".HotelPage__PhotoSlider--Base",(_defineProperty(e={type:"loop",autoWidth:!0,perPage:5,perMove:1,pagination:!1,lazyLoad:"nearby",preloadPages:5},"preloadPages",5),_defineProperty(e,"arrowPath","M1.06039 38.9541C2.48267 40.3486 4.77972 40.3486 6.202 38.9541L22.9396 22.4452C24.3535 21.0423 24.3535 18.7767 22.9396 17.3738L6.202 0.864871C4.7552 -0.35721 2.59852 -0.275046 1.2516 1.05347C-0.0953188 2.38199 -0.178623 4.50921 1.06039 5.93624L15.209 19.9275L1.06039 33.8827C-0.353463 35.2856 -0.353463 37.5512 1.06039 38.9541Z"),e)),o=new Splide(".HotelPage__PhotoSlider--Popup",{type:"loop",autoWidth:!0,perPage:1,perMove:1,pagination:!1,lazyLoad:"nearby",preloadPages:5,arrowPath:"M1.06039 38.9541C2.48267 40.3486 4.77972 40.3486 6.202 38.9541L22.9396 22.4452C24.3535 21.0423 24.3535 18.7767 22.9396 17.3738L6.202 0.864871C4.7552 -0.35721 2.59852 -0.275046 1.2516 1.05347C-0.0953188 2.38199 -0.178623 4.50921 1.06039 5.93624L15.209 19.9275L1.06039 33.8827C-0.353463 35.2856 -0.353463 37.5512 1.06039 38.9541Z"}),(n=new Splide(".HotelPage__PhotoSlider--PopupBottom",{type:"loop",autoWidth:!0,perPage:1,perMove:1,pagination:!1,lazyLoad:"nearby",preloadPages:5,drag:!1,arrows:!1,updateOnMove:!0,arrowPath:"M1.06039 38.9541C2.48267 40.3486 4.77972 40.3486 6.202 38.9541L22.9396 22.4452C24.3535 21.0423 24.3535 18.7767 22.9396 17.3738L6.202 0.864871C4.7552 -0.35721 2.59852 -0.275046 1.2516 1.05347C-0.0953188 2.38199 -0.178623 4.50921 1.06039 5.93624L15.209 19.9275L1.06039 33.8827C-0.353463 35.2856 -0.353463 37.5512 1.06039 38.9541Z"})).sync(o),t.on("click",function(){769<=window.innerWidth&&(o.go(t.index),n.go(t.index),document.querySelector(".HotelPage__PhotoSliderContainer").classList.add("HotelPage__PhotoSliderContainer--Active"))}),document.querySelector(".HotelPage__PhotoSliderScreenLock").addEventListener("click",function(){t.go(o.index),document.querySelector(".HotelPage__PhotoSliderContainer").classList.remove("HotelPage__PhotoSliderContainer--Active")}),document.querySelector(".HotelPage__PhotoSliderCloseButton").addEventListener("click",function(){t.go(o.index),document.querySelector(".HotelPage__PhotoSliderContainer").classList.remove("HotelPage__PhotoSliderContainer--Active")}),t.mount(),o.mount(),n.mount(),o.on("move",function(){document.querySelector(".HotelPage__PhotoSliderPopupCounter").innerHTML="".concat(o.index+1,"/").concat(o.length)}))}),document.addEventListener("DOMContentLoaded",function(){var e=".MobileWithYou__SplideRoot";document.querySelector(e)&&new Splide(e,{type:"loop",pagination:!1}).mount()}),function(){var t=document.querySelector(".TelegramForm"),e=document.querySelectorAll(".Telegram__Trigger"),o=document.querySelector(".TelegramForm__Screenlock"),n=document.querySelector(".TelegramForm__CloseTrigger"),r="TelegramForm--Active";t&&e&&o&&n&&(e.forEach(function(e){e.addEventListener("click",function(){setTimeout(function(){document.body.style.overflow="hidden"},100),t.classList.add(r)})}),o.addEventListener("click",function(){document.body.style.overflow="auto",t.classList.remove(r)}),n.addEventListener("click",function(){document.body.style.overflow="auto",t.classList.remove(r)}))}(),function(){var t=document.querySelector(".Feedback"),e=document.querySelectorAll(".Feedback__Trigger"),o=document.querySelector(".Feedback__Screenlock"),n=document.querySelector(".Feedback__CloseTrigger"),r="Feedback--Active";t&&e&&o&&n&&(e.forEach(function(e){e.addEventListener("click",function(){setTimeout(function(){document.body.style.overflow="hidden"},100),t.classList.add(r)})}),o.addEventListener("click",function(){document.body.style.overflow="auto",t.classList.remove(r)}),n.addEventListener("click",function(){document.body.style.overflow="auto",t.classList.remove(r)}),document.querySelectorAll(".Feedback__Checkbox").forEach(function(e){e.addEventListener("change",function(){document.querySelectorAll(".Feedback__Checkbox").forEach(function(e){e.checked=!1}),e.checked=!0})}))}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImIyYy1tZW51LmpzIiwiYnJvbi1zd2l0Y2guanMiLCJjb3VudHJ5LWluZm8taGFuZGxlci5qcyIsImZlZWRiYWNrLmpzIiwiaG90ZWwtdGFicy5qcyIsIm1vYmlsZS1zaWRlYmFyLmpzIiwicmgtYWNjb3JkaW9uLmpzIiwic2VhcmNoLWZyb20tc3dpdGNoLmpzIiwic3BsaWRlLWluaXQtY291bnRyeS1wYWdlLXRhYnMuanMiLCJzcGxpZGUtaW5pdC1ob3RlbC1wYWdlLXRhYnMuanMiLCJzcGxpZGUtaW5pdC1waG90by1zbGlkZXIuanMiLCJzcGxpZGUtaW5pdC13aXRoLXlvdS5qcyIsInRlbGVncmFtLWZvcm0tYjJiLmpzIiwidG91cmlzdHMuanMiXSwibmFtZXMiOlsiYjJjTWVudVRvUmlnaHRDbGFzcyIsImIyY01lbnVFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYjJjTWVudUNvbnRlbnRFbGVtZW50IiwiYjJjVHJpZ2dlckVsZW1lbnQiLCJzdHlsZSIsImFuaW1hdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ3aW5kb3ciLCJzY3JvbGxZIiwiYWRkIiwicmVtb3ZlIiwiYnJvblN3dGljaFRyaWdnZXJCdXR0b25zIiwicXVlcnlTZWxlY3RvckFsbCIsImJyb25Db250ZW50QmxvY2tzIiwiZm9yRWFjaCIsImJ1dHRvbiIsImJ1dHRvblRvUmVtb3ZlQWN0aXZlU3RhdHVzIiwiYnJvbkNvbnRlbnRCbG9jayIsImdldEF0dHJpYnV0ZSIsImNsaWNrIiwiYXR0cmlidXRlTmFtZVRvUXVlcnkiLCJhdHRyaWJ1dGVOYW1lIiwiY29uY2F0IiwiaGlkZUVsZW1lbnQiLCJlbGVtZW50IiwiZGlzcGxheSIsInNob3dFbGVtZW50IiwiZGF0YVNlY3Rpb25BdHRyaWJ1dGVOYW1lIiwiZGF0YVRyaWdnZXJBdHRyaWJ1dGVOYW1lIiwiZGF0YUF0dHJpYnV0ZU5hbWUiLCJkYXRhVGl0bGVBdHRyaWJ1dGVOYW1lIiwiZ29sZEJnQ2xhc3MiLCJkYXRhcyIsImRhdGFTZWN0aW9ucyIsImRhdGFUcmlnZ2VycyIsImRhdGFUaXRsZXMiLCJwcm9ncmVzc0JhciIsImRhdGFUcmlnZ2VyIiwiaWQiLCJkYXRhVGl0bGUiLCJsZW5ndGgiLCJ0b3VyaXN0cyIsInRvdXJpc3RzVHJpZ2dlcnMiLCJ0b3VyaXN0c1NjcmVlbmxvY2siLCJ0b3VyaXN0c0Nsb3NlVHJpZ2dlciIsInRvdXJpc3RzQWN0aXZlQ2xhc3MiLCJ0b3VyaXN0c1RyaWdnZXIiLCJzZXRUaW1lb3V0IiwiYm9keSIsIm92ZXJmbG93IiwiaG90ZWxQaG90b3NJbml0ZWQiLCJkYXRhQ291bnQiLCJkYXRhVHJpZ2dlcjIiLCJub21lciIsInNwbGlkZURlc2t0b3AiLCJTcGxpZGUiLCJ0eXBlIiwiYXV0b3BsYXkiLCJwZXJQYWdlIiwicGVyTW92ZSIsImRpcmVjdGlvbiIsImhlaWdodCIsInBhZ2luYXRpb24iLCJsYXp5TG9hZCIsInByZWxvYWRQYWdlcyIsImFycm93UGF0aCIsIm1vdW50IiwiZ2FwIiwic3luYyIsIm9uIiwiY2xvc2VTaWRlYmFyIiwibW9iaWxlU2lkZWJhckVsZW1lbnQiLCJtb2JpbGVTaWRlYmFyVHJpZ2dlckVsZW1lbnQiLCJtb2JpbGVTaWRlYmFyQ2xvc2VUcmlnZ2VyRWxlbWVudCIsIm1vYmlsZVNpZGViYXJTY3JlZW5sb2NrRWxlbWVudCIsIm1vYmlsZVNpZGViYXJJdGVtRWxlbWVudHMiLCJtb2JpbGVTaWRlYmFyQWN0aXZlQ2xhc3MiLCJ0cmlnZ2Vyc0NsYXNzTGlzdCIsImxpbmsiLCJjb25zb2xlIiwibG9nIiwiaW5jbHVkZXMiLCJtb2JpbGVTaWRlYmFySXRlbUVsZW1lbnQiLCJ0cmlnZ2VyIiwic3VibWVudSIsInN1Ym1lbnVFYWNoIiwiaW5uZXJXaWR0aCIsImFjY29yZGlvbkVsZW1lbnRzIiwiYWNjb3JkaW9uIiwiYnV0dG9uQWN0aXZlQ2xhc3MiLCJmb3JtQWN0aXZlQ2xhc3MiLCJ0b3VyU2VhcmNoQnV0dG9uRWxlbWVudCIsImhvdGVsU2VhcmNoQnV0dG9uRWxlbWVudCIsInRvdXJTZWFyY2hGb3JtRWxlbWVudCIsImhvdGVsU2VhcmNoRm9ybUVsZW1lbnQiLCJzbGlkZXJFbGVtZW50UXVlcnkiLCJhcnJvd3MiLCJhdXRvV2lkdGgiLCJfU3BsaWRlIiwic3BsaWRlIiwic3BsaWRlUG9wdXAiLCJzcGxpZGVQb3B1cEJvdHRvbSIsIl9kZWZpbmVQcm9wZXJ0eSIsImRyYWciLCJ1cGRhdGVPbk1vdmUiLCJnbyIsImluZGV4IiwiaW5uZXJIVE1MIiwidGVsZWdyYW0iLCJ0ZWxlZ3JhbVRyaWdnZXJzIiwidGVsZWdyYW1TY3JlZW5sb2NrIiwidGVsZWdyYW1DbG9zZVRyaWdnZXIiLCJ0ZWxlZ3JhbUFjdGl2ZUNsYXNzIiwidGVsZWdyYW1UcmlnZ2VyIiwiZmVlZGJhY2siLCJmZWVkYmFja1RyaWdnZXJzIiwiZmVlZGJhY2tTY3JlZW5sb2NrIiwiZmVlZGJhY2tDbG9zZVRyaWdnZXIiLCJmZWVkYmFja0FjdGl2ZUNsYXNzIiwiZmVlZGJhY2tUcmlnZ2VyIiwiY2hlY2tib3giLCJjaGVja2JveDIiLCJjaGVja2VkIl0sIm1hcHBpbmdzIjoib0pBQUEsV0FDQSxJQUtBQSxFQUFBLHFCQUVBQyxFQUFBQyxTQUFBQyxjQVBBLGFBUUFDLEVBQUFGLFNBQUFDLGNBUEEsc0JBUUFFLEVBQUFILFNBQUFDLGNBUEEsdUJBU0FGLEdBQUFHLEdBQUFDLEtBSUFELEVBQUFFLE1BQUFDLFVBQUEsT0FlQUYsRUFBQUcsaUJBQUEsUUFMQSxXQUNBSixFQUFBRSxNQUFBQyxVQUFBLEdBQ0FOLEVBQUFRLFVBQUFDLE9BdkJBLHNCQTJCQUMsT0FBQUgsaUJBQUEsU0FkQSxXQUNBLEVBQUFHLE9BQUFDLFFBQUEsSUFDQVgsRUFBQVEsVUFBQUksSUFBQWIsR0FFQUMsRUFBQVEsVUFBQUssT0FBQWQsTUF0QkEsR0NBQSxXQUNBLElBQUFlLEVBQUFiLFNBQUFjLGlCQUFBLHVCQUNBQyxFQUFBZixTQUFBYyxpQkFBQSxrQkFFQUQsR0FBQUUsSUFJQUYsRUFBQUcsUUFBQSxT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b21lci5qcyIsInNvdXJjZXNDb250ZW50IjpbIigoKSA9PiB7XHJcbiAgY29uc3QgYjJjTWVudVF1ZXJ5ID0gXCIuYjJjLW1lbnVcIjtcclxuICBjb25zdCBiMmNNZW51Q29udGVudFF1ZXJ5ID0gXCIuYjJjLW1lbnVfX2NvbnRlbnRcIjtcclxuICBjb25zdCBiMmNUcmlnZ2VyUXVlcnkgPSBcIi5iMmMtbWVudV9fdHJpZ2dlclwiO1xyXG5cclxuICBjb25zdCBiMmNNZW51QWN0aXZlQ2xhc3MgPSBcImIyYy1tZW51LS1hY3RpdmVcIjtcclxuICBjb25zdCBiMmNNZW51VG9SaWdodENsYXNzID0gXCJiMmMtbWVudS0tdG8tcmlnaHRcIjtcclxuXHJcbiAgY29uc3QgYjJjTWVudUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGIyY01lbnVRdWVyeSk7XHJcbiAgY29uc3QgYjJjTWVudUNvbnRlbnRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihiMmNNZW51Q29udGVudFF1ZXJ5KTtcclxuICBjb25zdCBiMmNUcmlnZ2VyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYjJjVHJpZ2dlclF1ZXJ5KTtcclxuXHJcbiAgaWYgKCFiMmNNZW51RWxlbWVudCAmJiAhYjJjTWVudUNvbnRlbnRFbGVtZW50ICYmICFiMmNUcmlnZ2VyRWxlbWVudCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgYjJjTWVudUNvbnRlbnRFbGVtZW50LnN0eWxlLmFuaW1hdGlvbiA9IFwibm9uZVwiO1xyXG4gIFxyXG4gIGNvbnN0IGhhbmRsZVNjcm9sbCA9ICgpID0+IHtcclxuICAgIGlmICh3aW5kb3cuc2Nyb2xsWSAtIDIzMiA+IDApIHtcclxuICAgICAgYjJjTWVudUVsZW1lbnQuY2xhc3NMaXN0LmFkZChiMmNNZW51VG9SaWdodENsYXNzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGIyY01lbnVFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoYjJjTWVudVRvUmlnaHRDbGFzcyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdG9nZ2xlTWVudSA9ICgpID0+IHtcclxuICAgIGIyY01lbnVDb250ZW50RWxlbWVudC5zdHlsZS5hbmltYXRpb24gPSBcIlwiO1xyXG4gICAgYjJjTWVudUVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShiMmNNZW51QWN0aXZlQ2xhc3MpO1xyXG4gIH07XHJcblxyXG4gIGIyY1RyaWdnZXJFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVNZW51KTtcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwpO1xyXG59KSgpOyIsIigoKSA9PiB7XG4gIGNvbnN0IGJyb25Td3RpY2hUcmlnZ2VyQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuQnJvbl9fU3dpdGNoQnV0dG9uXCIpO1xuICBjb25zdCBicm9uQ29udGVudEJsb2NrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuQnJvbl9fQ29udGVudFwiKTtcblxuICBpZiAoIWJyb25Td3RpY2hUcmlnZ2VyQnV0dG9ucyB8fCAhYnJvbkNvbnRlbnRCbG9ja3MpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBicm9uU3d0aWNoVHJpZ2dlckJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgYnJvblN3dGljaFRyaWdnZXJCdXR0b25zLmZvckVhY2goYnV0dG9uVG9SZW1vdmVBY3RpdmVTdGF0dXMgPT4ge1xuICAgICAgICBidXR0b25Ub1JlbW92ZUFjdGl2ZVN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKFwiQnJvbl9fU3dpdGNoQnV0dG9uLS1BY3RpdmVcIik7XG4gICAgICB9KTtcblxuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJCcm9uX19Td2l0Y2hCdXR0b24tLUFjdGl2ZVwiKTtcblxuICAgICAgYnJvbkNvbnRlbnRCbG9ja3MuZm9yRWFjaChicm9uQ29udGVudEJsb2NrID0+IHtcbiAgICAgICAgYnJvbkNvbnRlbnRCbG9jay5jbGFzc0xpc3QucmVtb3ZlKFwiQnJvbl9fQ29udGVudC0tQWN0aXZlXCIpO1xuICAgICAgICBpZiAoYnJvbkNvbnRlbnRCbG9jay5nZXRBdHRyaWJ1dGUoXCJicm9uLWNvbnRlbnRcIikgPT09IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoXCJicm9uLXN3aXRjaC10cmlnZ2VyXCIpKSB7XG4gICAgICAgICAgYnJvbkNvbnRlbnRCbG9jay5jbGFzc0xpc3QuYWRkKFwiQnJvbl9fQ29udGVudC0tQWN0aXZlXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaWYgKGJyb25Td3RpY2hUcmlnZ2VyQnV0dG9uc1swXSkge1xuICAgIGJyb25Td3RpY2hUcmlnZ2VyQnV0dG9uc1swXS5jbGljaygpO1xuICB9XG59KSgpOyIsIigoKSA9PiB7XHJcbiAgY29uc3QgZGF0YVNlY3Rpb25UcmlnZ2VyQXR0cmlidXRlTmFtZSA9IFwicmgtY291bnRyeS1kYXRhLXNlY3Rpb24tdHJpZ2dlclwiO1xyXG4gIGNvbnN0IGRhdGFTZWN0aW9uQXR0cmlidXRlTmFtZSA9IFwicmgtY291bnRyeS1kYXRhLXNlY3Rpb25cIjtcclxuICBjb25zdCBkYXRhVHJpZ2dlckF0dHJpYnV0ZU5hbWUgPSBcInJoLWNvdW50cnktZGF0YS10cmlnZ2VyXCI7XHJcbiAgY29uc3QgZGF0YUF0dHJpYnV0ZU5hbWUgPSBcInJoLWNvdW50cnktZGF0YVwiO1xyXG4gIGNvbnN0IGRhdGFUaXRsZUF0dHJpYnV0ZU5hbWUgPSBcInJoLWNvdW50cnktZGF0YS10aXRsZVwiO1xyXG4gIGNvbnN0IGdvbGRCZ0NsYXNzID0gXCJDb3VudHJ5UGFnZV9fVGFiTGluay0tQWN0aXZlXCI7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVOYW1lXHJcbiAgICogQHJldHVybnMgIHtzdHJpbmd9XHJcbiAgICovXHJcbiAgY29uc3QgYXR0cmlidXRlTmFtZVRvUXVlcnkgPSBhdHRyaWJ1dGVOYW1lID0+IGBbJHthdHRyaWJ1dGVOYW1lfV1gO1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bWJlcn0gaWRcclxuICAgKi9cclxuICAgY29uc3QgY3JlYXRlUXVlcnlGb3JEYXRhQnlJZCA9IGlkID0+IGBbJHtkYXRhQXR0cmlidXRlTmFtZX0gPSBcIiR7aWR9XCJdYDtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudW1iZXJ9IGlkXHJcbiAgICovXHJcbiAgY29uc3QgY3JlYXRlUXVlcnlGb3JEYXRhU2VjdGlvbkJ5SWQgPSBpZCA9PiBgWyR7ZGF0YVNlY3Rpb25BdHRyaWJ1dGVOYW1lfSA9IFwiJHtpZH1cIl1gO1xyXG5cclxuICAgLyoqXHJcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudW1iZXJ9IGlkXHJcbiAgICovXHJcbiAgY29uc3QgY3JlYXRlUXVlcnlGb3JEYXRhVGl0bGVCeUlkID0gaWQgPT4gYFske2RhdGFUaXRsZUF0dHJpYnV0ZU5hbWV9ID0gXCIke2lkfVwiXWA7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcclxuICAgKiBAcmV0dXJucyB7dm9pZH0gXHJcbiAgICovXHJcbiAgY29uc3QgaGlkZUVsZW1lbnQgPSBlbGVtZW50ID0+IHtcclxuICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcclxuICAgKiBAcmV0dXJucyB7dm9pZH0gXHJcbiAgICovXHJcbiAgY29uc3Qgc2hvd0VsZW1lbnQgPSBlbGVtZW50ID0+IHtcclxuICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICB9O1xyXG5cclxuICBjb25zdCBkYXRhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYXR0cmlidXRlTmFtZVRvUXVlcnkoZGF0YUF0dHJpYnV0ZU5hbWUpKTtcclxuICBjb25zdCBkYXRhU2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGF0dHJpYnV0ZU5hbWVUb1F1ZXJ5KGRhdGFTZWN0aW9uQXR0cmlidXRlTmFtZSkpO1xyXG4gIGNvbnN0IGRhdGFUcmlnZ2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYXR0cmlidXRlTmFtZVRvUXVlcnkoZGF0YVRyaWdnZXJBdHRyaWJ1dGVOYW1lKSk7XHJcbiAgY29uc3QgZGF0YVRpdGxlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYXR0cmlidXRlTmFtZVRvUXVlcnkoZGF0YVRpdGxlQXR0cmlidXRlTmFtZSkpO1xyXG4gIGNvbnN0IHByb2dyZXNzQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5Ib3RlbFBhZ2VfX1RhYnNQcm9ncmVzc0JhcklubmVyXCIpO1xyXG5cclxuICBkYXRhcy5mb3JFYWNoKGRhdGEgPT4gaGlkZUVsZW1lbnQoZGF0YSkpO1xyXG4gIGRhdGFTZWN0aW9ucy5mb3JFYWNoKGRhdGFTZWN0aW9uID0+IGhpZGVFbGVtZW50KGRhdGFTZWN0aW9uKSk7XHJcblxyXG4gIGRhdGFUcmlnZ2Vycy5mb3JFYWNoKGRhdGFUcmlnZ2VyID0+IHtcclxuICAgIGRhdGFUcmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGRhdGFzLmZvckVhY2goZGF0YSA9PiBoaWRlRWxlbWVudChkYXRhKSk7XHJcbiAgICAgIGRhdGFTZWN0aW9ucy5mb3JFYWNoKGRhdGFTZWN0aW9uID0+IGhpZGVFbGVtZW50KGRhdGFTZWN0aW9uKSk7XHJcbiAgICAgIGRhdGFUaXRsZXMuZm9yRWFjaChkYXRhVGl0bGUgPT4gZGF0YVRpdGxlLmNsYXNzTGlzdC5yZW1vdmUoZ29sZEJnQ2xhc3MpKTtcclxuXHJcbiAgICAgIHByb2dyZXNzQmFyLnN0eWxlID0gYFxyXG4gICAgICAgIGxlZnQ6ICR7ICgoK2RhdGFUcmlnZ2VyLmdldEF0dHJpYnV0ZShkYXRhVHJpZ2dlckF0dHJpYnV0ZU5hbWUpIC0gMSkgLyAoZGF0YXMubGVuZ3RoICsgMSkpICogMTAwIH0lO1xyXG4gICAgICAgIHdpZHRoOiAkeyAxIC8gZGF0YXMubGVuZ3RoICogMTAwIH0lO1xyXG4gICAgICBgO1xyXG5cclxuICAgICAgc2hvd0VsZW1lbnQoXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgICAgIGNyZWF0ZVF1ZXJ5Rm9yRGF0YUJ5SWQoZGF0YVRyaWdnZXIuZ2V0QXR0cmlidXRlKGRhdGFUcmlnZ2VyQXR0cmlidXRlTmFtZSkpXHJcbiAgICAgICAgKVxyXG4gICAgICApO1xyXG4gICAgICBzaG93RWxlbWVudChcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNyZWF0ZVF1ZXJ5Rm9yRGF0YVNlY3Rpb25CeUlkKFxyXG4gICAgICAgICAgZGF0YVRyaWdnZXIuZ2V0QXR0cmlidXRlKGRhdGFTZWN0aW9uVHJpZ2dlckF0dHJpYnV0ZU5hbWUpXHJcbiAgICAgICAgKSlcclxuICAgICAgKTtcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjcmVhdGVRdWVyeUZvckRhdGFUaXRsZUJ5SWQoXHJcbiAgICAgICAgZGF0YVRyaWdnZXIuZ2V0QXR0cmlidXRlKGRhdGFUcmlnZ2VyQXR0cmlidXRlTmFtZSlcclxuICAgICAgKSkuZm9yRWFjaChkYXRhVGl0bGUgPT4gZGF0YVRpdGxlLmNsYXNzTGlzdC5hZGQoZ29sZEJnQ2xhc3MpKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBpZiAoZGF0YXNbMF0gJiYgZGF0YVNlY3Rpb25zWzBdICYmIGRhdGFUaXRsZXNbMF0pIHtcclxuICAgIHNob3dFbGVtZW50KGRhdGFzWzBdKTtcclxuICAgIHNob3dFbGVtZW50KGRhdGFTZWN0aW9uc1swXSk7XHJcbiAgICBkYXRhVGl0bGVzWzBdLmNsYXNzTGlzdC5hZGQoZ29sZEJnQ2xhc3MpO1xyXG5cclxuICAgIHByb2dyZXNzQmFyLnN0eWxlID0gYFxyXG4gICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgICAgd2lkdGg6ICR7IDEgLyBkYXRhcy5sZW5ndGggKiAxMDAgfSU7XHJcbiAgICAgIGA7XHJcbiAgfVxyXG59KSgpOyIsIigoKSA9PiB7XG4gIGNvbnN0IHRvdXJpc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5Ub3VyaXN0c1wiKTtcbiAgY29uc3QgdG91cmlzdHNUcmlnZ2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuVG91cmlzdHNfX1RyaWdnZXJcIik7XG4gIGNvbnN0IHRvdXJpc3RzU2NyZWVubG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuVG91cmlzdHNfX1NjcmVlbmxvY2tcIik7XG4gIGNvbnN0IHRvdXJpc3RzQ2xvc2VUcmlnZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5Ub3VyaXN0c19fQ2xvc2VUcmlnZ2VyXCIpO1xuXG4gIGNvbnN0IHRvdXJpc3RzQWN0aXZlQ2xhc3MgPSBcIlRvdXJpc3RzLS1BY3RpdmVcIjtcblxuICBpZiAoIXRvdXJpc3RzIHx8ICF0b3VyaXN0c1RyaWdnZXJzIHx8ICF0b3VyaXN0c1NjcmVlbmxvY2sgfHwgIXRvdXJpc3RzQ2xvc2VUcmlnZ2VyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdG91cmlzdHNUcmlnZ2Vycy5mb3JFYWNoKHRvdXJpc3RzVHJpZ2dlciA9PiB7XG4gICAgdG91cmlzdHNUcmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG4gICAgICB9LCAxMDApO1xuICAgICAgdG91cmlzdHMuY2xhc3NMaXN0LmFkZCh0b3VyaXN0c0FjdGl2ZUNsYXNzKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgdG91cmlzdHNTY3JlZW5sb2NrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiYXV0b1wiO1xuICAgIHRvdXJpc3RzLmNsYXNzTGlzdC5yZW1vdmUodG91cmlzdHNBY3RpdmVDbGFzcyk7XG4gIH0pO1xuXG4gIHRvdXJpc3RzQ2xvc2VUcmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiYXV0b1wiO1xuICAgIHRvdXJpc3RzLmNsYXNzTGlzdC5yZW1vdmUodG91cmlzdHNBY3RpdmVDbGFzcyk7XG4gIH0pO1xufSkoKTtcbiIsIigoKSA9PiB7XG4gIGNvbnN0IGRhdGFUcmlnZ2VyQXR0cmlidXRlTmFtZSA9IFwiaG90ZWwtdGFiLXRyaWdnZXItaW5kZXhcIjtcbiAgY29uc3QgZGF0YUF0dHJpYnV0ZU5hbWUgPSBcImhvdGVsLWRhdGFcIjtcbiAgY29uc3QgZ29sZEJnQ2xhc3MgPSBcIkhvdGVsUGFnZV9fVGFiTGluay0tQWN0aXZlXCI7XG5cbiAgXG4gIGNvbnN0IGF0dHJpYnV0ZU5hbWVUb1F1ZXJ5ID0gYXR0cmlidXRlTmFtZSA9PiBgWyR7YXR0cmlidXRlTmFtZX1dYDtcbiAgY29uc3QgY3JlYXRlUXVlcnlGb3JEYXRhQnlJZCA9IGlkID0+IGBbJHtkYXRhQXR0cmlidXRlTmFtZX0gPSBcIiR7aWR9XCJdYDtcbiAgY29uc3QgaGlkZUVsZW1lbnQgPSBlbGVtZW50ID0+IHsgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7IH07XG4gIGNvbnN0IHNob3dFbGVtZW50ID0gZWxlbWVudCA9PiB7IGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjsgfTtcbiAgXG4gIGxldCBob3RlbFBob3Rvc0luaXRlZCA9IGZhbHNlO1xuXG4gIGNvbnN0IGluaXRTbGlkZXJzID0gKCkgPT4ge1xuICAgIGhvdGVsUGhvdG9zSW5pdGVkID0gdHJ1ZTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3Qgbm9tZXJFbGVtZW50UXVlcnkgPSBcIi5Ib3RlbFBhZ2VfX05vbWVyXCI7XG4gICAgICBcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwobm9tZXJFbGVtZW50UXVlcnkpLmZvckVhY2gobm9tZXIgPT4ge1xuICAgICAgICBjb25zdCBzbGlkZXJEZXNrdG9wRWxlbWVudFF1ZXJ5ID0gXCIuSG90ZWxQYWdlX19Ob21lclBob3RvU2xpZGVyXCI7XG4gICAgICAgIGNvbnN0IHNsaWRlck1vYmlsZUVsZW1lbnRRdWVyeSA9IFwiLkhvdGVsUGFnZV9fTm9tZXJNb2JpbGVQaG90b1NsaWRlclwiO1xuICAgICAgICBjb25zdCBzbGlkZXJQb3B1cEVsZW1lbnRRdWVyeSA9IFwiLkhvdGVsUGFnZV9fTm9tZXJQb3B1cFBob3RvU2xpZGVyLS1EZXNrdG9wXCI7XG5cbiAgICAgICAgY29uc3Qgc3BsaWRlRGVza3RvcCA9IG5ldyBTcGxpZGUobm9tZXIucXVlcnlTZWxlY3RvcihzbGlkZXJEZXNrdG9wRWxlbWVudFF1ZXJ5KSwge1xuICAgICAgICAgIHR5cGU6IFwibG9vcFwiLFxuICAgICAgICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgICAgICAgIHBlclBhZ2U6IDMsXG4gICAgICAgICAgcGVyTW92ZTogMSxcbiAgICAgICAgICBkaXJlY3Rpb246IFwidHRiXCIsXG4gICAgICAgICAgaGVpZ2h0OiBcIjY3NXB4XCIsXG4gICAgICAgICAgcGFnaW5hdGlvbjogZmFsc2UsXG4gICAgICAgICAgbGF6eUxvYWQ6IFwibmVhcmJ5XCIsXG4gICAgICAgICAgcHJlbG9hZFBhZ2VzOiAzLFxuICAgICAgICAgIGFycm93UGF0aDogXCJNMi4wMTYyIDM5Ljk1NDFDMy4zNzkyMyA0MS4zNDg2IDUuNTgwNTYgNDEuMzQ4NiA2Ljk0MzU5IDM5Ljk1NDFMMjIuOTgzOCAyMy40NDUyQzI0LjMzODcgMjIuMDQyMyAyNC4zMzg3IDE5Ljc3NjcgMjIuOTgzOCAxOC4zNzM4TDYuOTQzNTkgMS44NjQ4N0M1LjU1NzA3IDAuNjQyNzkgMy40OTAyNSAwLjcyNDk1NCAyLjE5OTQ1IDIuMDUzNDdDMC45MDg2NTQgMy4zODE5OSAwLjgyODgyMSA1LjUwOTIxIDIuMDE2MiA2LjkzNjI0TDE1LjU3NTIgMjAuOTI3NUwyLjAxNjIgMzQuODgyN0MwLjY2MTI2NiAzNi4yODU2IDAuNjYxMjY2IDM4LjU1MTIgMi4wMTYyIDM5Ljk1NDFaXCJcbiAgICAgICAgfSkubW91bnQoKTtcblxuICAgICAgICBjb25zdCBzbGlkZXJNb2JpbGUgPSBuZXcgU3BsaWRlKG5vbWVyLnF1ZXJ5U2VsZWN0b3Ioc2xpZGVyTW9iaWxlRWxlbWVudFF1ZXJ5KSwge1xuICAgICAgICAgIHR5cGU6IFwibG9vcFwiLFxuICAgICAgICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgICAgICAgIHBlclBhZ2U6IDEsXG4gICAgICAgICAgcGVyTW92ZTogMSxcbiAgICAgICAgICBwYWdpbmF0aW9uOiBmYWxzZSxcbiAgICAgICAgICBsYXp5TG9hZDogXCJuZWFyYnlcIixcbiAgICAgICAgICBwcmVsb2FkUGFnZXM6IDMsXG4gICAgICAgICAgZ2FwOiBcIjJlbVwiLFxuICAgICAgICAgIGFycm93UGF0aDogXCJNMS4wNjAzOSAzOC45NTQxQzIuNDgyNjcgNDAuMzQ4NiA0Ljc3OTcyIDQwLjM0ODYgNi4yMDIgMzguOTU0MUwyMi45Mzk2IDIyLjQ0NTJDMjQuMzUzNSAyMS4wNDIzIDI0LjM1MzUgMTguNzc2NyAyMi45Mzk2IDE3LjM3MzhMNi4yMDIgMC44NjQ4NzFDNC43NTUyIC0wLjM1NzIxIDIuNTk4NTIgLTAuMjc1MDQ2IDEuMjUxNiAxLjA1MzQ3Qy0wLjA5NTMxODggMi4zODE5OSAtMC4xNzg2MjMgNC41MDkyMSAxLjA2MDM5IDUuOTM2MjRMMTUuMjA5IDE5LjkyNzVMMS4wNjAzOSAzMy44ODI3Qy0wLjM1MzQ2MyAzNS4yODU2IC0wLjM1MzQ2MyAzNy41NTEyIDEuMDYwMzkgMzguOTU0MVpcIlxuICAgICAgICB9KS5tb3VudCgpO1xuXG4gICAgICAgIGNvbnN0IHNsaWRlclBvcHVwID0gbmV3IFNwbGlkZShub21lci5xdWVyeVNlbGVjdG9yKHNsaWRlclBvcHVwRWxlbWVudFF1ZXJ5KSwge1xuICAgICAgICAgIHR5cGU6IFwibG9vcFwiLFxuICAgICAgICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgICAgICAgIHBlclBhZ2U6IDEsXG4gICAgICAgICAgcGVyTW92ZTogMSxcbiAgICAgICAgICBwYWdpbmF0aW9uOiBmYWxzZSxcbiAgICAgICAgICBsYXp5TG9hZDogXCJuZWFyYnlcIixcbiAgICAgICAgICBwcmVsb2FkUGFnZXM6IDMsXG4gICAgICAgICAgYXJyb3dQYXRoOiBcIk0xLjA2MDM5IDM4Ljk1NDFDMi40ODI2NyA0MC4zNDg2IDQuNzc5NzIgNDAuMzQ4NiA2LjIwMiAzOC45NTQxTDIyLjkzOTYgMjIuNDQ1MkMyNC4zNTM1IDIxLjA0MjMgMjQuMzUzNSAxOC43NzY3IDIyLjkzOTYgMTcuMzczOEw2LjIwMiAwLjg2NDg3MUM0Ljc1NTIgLTAuMzU3MjEgMi41OTg1MiAtMC4yNzUwNDYgMS4yNTE2IDEuMDUzNDdDLTAuMDk1MzE4OCAyLjM4MTk5IC0wLjE3ODYyMyA0LjUwOTIxIDEuMDYwMzkgNS45MzYyNEwxNS4yMDkgMTkuOTI3NUwxLjA2MDM5IDMzLjg4MjdDLTAuMzUzNDYzIDM1LjI4NTYgLTAuMzUzNDYzIDM3LjU1MTIgMS4wNjAzOSAzOC45NTQxWlwiXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNsaWRlclBvcHVwLnN5bmMoc3BsaWRlRGVza3RvcCkubW91bnQoKTtcbiAgICAgICAgXG4gICAgICAgIHNwbGlkZURlc2t0b3Aub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgbm9tZXIucXVlcnlTZWxlY3RvcihcIi5Ib3RlbFBhZ2VfX05vbWVyUG9wdXBQaG90b1NsaWRlckNvbnRhaW5lclwiKS5jbGFzc0xpc3QuYWRkKFwiSG90ZWxQYWdlX19Ob21lclBvcHVwUGhvdG9TbGlkZXJDb250YWluZXItLUFjdGl2ZURlc2t0b3BcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5vbWVyLnF1ZXJ5U2VsZWN0b3IoXCIuSG90ZWxQYWdlX19Ob21lclBvcHVwU2NyZWVubG9ja1wiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgIG5vbWVyLnF1ZXJ5U2VsZWN0b3IoXCIuSG90ZWxQYWdlX19Ob21lclBvcHVwUGhvdG9TbGlkZXJDb250YWluZXJcIikuY2xhc3NMaXN0LnJlbW92ZShcIkhvdGVsUGFnZV9fTm9tZXJQb3B1cFBob3RvU2xpZGVyQ29udGFpbmVyLS1BY3RpdmVNb2JpbGVcIiwgXCJIb3RlbFBhZ2VfX05vbWVyUG9wdXBQaG90b1NsaWRlckNvbnRhaW5lci0tQWN0aXZlRGVza3RvcFwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LCAxMDApO1xuICB9O1xuXG4gIGNvbnN0IGRhdGFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChhdHRyaWJ1dGVOYW1lVG9RdWVyeShkYXRhQXR0cmlidXRlTmFtZSkpO1xuICBjb25zdCBkYXRhVHJpZ2dlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGF0dHJpYnV0ZU5hbWVUb1F1ZXJ5KGRhdGFUcmlnZ2VyQXR0cmlidXRlTmFtZSkpO1xuICBjb25zdCBkYXRhQ291bnQgPSBkYXRhVHJpZ2dlcnMubGVuZ3RoO1xuICBjb25zdCBwcm9ncmVzc0JhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuSG90ZWxQYWdlX19UYWJzUHJvZ3Jlc3NCYXJJbm5lclwiKTtcblxuICBkYXRhcy5mb3JFYWNoKGRhdGEgPT4gaGlkZUVsZW1lbnQoZGF0YSkpO1xuXG4gIGRhdGFUcmlnZ2Vycy5mb3JFYWNoKGRhdGFUcmlnZ2VyID0+IHtcbiAgICBkYXRhVHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgZGF0YXMuZm9yRWFjaChkYXRhID0+IGhpZGVFbGVtZW50KGRhdGEpKTtcblxuICAgICAgZGF0YVRyaWdnZXJzLmZvckVhY2goZGF0YVRyaWdnZXIyID0+IHtcbiAgICAgICAgZGF0YVRyaWdnZXIyLmNsYXNzTGlzdC5yZW1vdmUoZ29sZEJnQ2xhc3MpO1xuICAgICAgfSk7XG5cbiAgICAgIGRhdGFUcmlnZ2VyLmNsYXNzTGlzdC5hZGQoZ29sZEJnQ2xhc3MpO1xuXG4gICAgICBwcm9ncmVzc0Jhci5zdHlsZSA9IGBcbiAgICAgICAgbGVmdDogJHsgKCgrZGF0YVRyaWdnZXIuZ2V0QXR0cmlidXRlKGRhdGFUcmlnZ2VyQXR0cmlidXRlTmFtZSkgLSAxKSAvIGRhdGFDb3VudCkgKiAxMDAgfSU7XG4gICAgICAgIHdpZHRoOiAkeyAxIC8gZGF0YUNvdW50ICogMTAwIH0lO1xuICAgICAgYDtcblxuICAgICAgc2hvd0VsZW1lbnQoXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgY3JlYXRlUXVlcnlGb3JEYXRhQnlJZChkYXRhVHJpZ2dlci5nZXRBdHRyaWJ1dGUoZGF0YVRyaWdnZXJBdHRyaWJ1dGVOYW1lKSlcbiAgICAgICAgKVxuICAgICAgKTtcblxuICAgICAgaWYgKGRhdGFUcmlnZ2VyLmdldEF0dHJpYnV0ZShkYXRhVHJpZ2dlckF0dHJpYnV0ZU5hbWUpID09PSBcIjZcIiAmJiAhaG90ZWxQaG90b3NJbml0ZWQpIHtcbiAgICAgICAgaW5pdFNsaWRlcnMoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbaG90ZWwtdGFiLXRyaWdnZXItaW5kZXg9JzEnXVwiKSkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbaG90ZWwtdGFiLXRyaWdnZXItaW5kZXg9JzEnXVwiKS5jbGljaygpO1xuICB9XG59KSgpOyIsIigoKSA9PiB7XHJcbiAgY29uc3QgbW9iaWxlU2lkZWJhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLk1vYmlsZVNpZGViYXJcIik7XHJcbiAgY29uc3QgbW9iaWxlU2lkZWJhclRyaWdnZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2JpbGUtc2lkZWJhci10cmlnZ2VyXCIpO1xyXG4gIGNvbnN0IG1vYmlsZVNpZGViYXJDbG9zZVRyaWdnZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5Nb2JpbGVTaWRlYmFyX19DbG9zZVRyaWdnZXJcIik7XHJcbiAgY29uc3QgbW9iaWxlU2lkZWJhclNjcmVlbmxvY2tFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5Nb2JpbGVTaWRlYmFyX19TY3JlZW5Mb2NrXCIpO1xyXG4gIGNvbnN0IG1vYmlsZVNpZGViYXJJdGVtRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLk1vYmlsZVNpZGViYXJfX1NlY29uZENvbnRlbnRJdGVtXCIpO1xyXG5cclxuICBjb25zdCBtb2JpbGVTaWRlYmFyQWN0aXZlQ2xhc3MgPSBcIk1vYmlsZVNpZGViYXItLUFjdGl2ZVwiO1xyXG5cclxuICBjb25zdCB0cmlnZ2Vyc0NsYXNzTGlzdCA9IFtcclxuICAgIFwiVG91cmlzdHNfX1RyaWdnZXJcIixcclxuICAgIFwiRmVlZGJhY2tfX1RyaWdnZXJcIixcclxuICAgIFwiVGVsZWdyYW1fX1RyaWdnZXJcIixcclxuICBdO1xyXG5cclxuICBpZiAoXHJcbiAgICAhbW9iaWxlU2lkZWJhckVsZW1lbnRcclxuICAgIHx8ICFtb2JpbGVTaWRlYmFyVHJpZ2dlckVsZW1lbnRcclxuICAgIHx8ICFtb2JpbGVTaWRlYmFyQ2xvc2VUcmlnZ2VyRWxlbWVudFxyXG4gICAgfHwgIW1vYmlsZVNpZGViYXJTY3JlZW5sb2NrRWxlbWVudFxyXG4gICAgfHwgbW9iaWxlU2lkZWJhckl0ZW1FbGVtZW50cy5sZW5ndGggPT09IDBcclxuICApIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiBcclxuICBjb25zdCBvcGVuU2lkZWJhciA9ICgpID0+IHtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG4gICAgbW9iaWxlU2lkZWJhckVsZW1lbnQuY2xhc3NMaXN0LmFkZChtb2JpbGVTaWRlYmFyQWN0aXZlQ2xhc3MpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImF1dG9cIjtcclxuICAgIG1vYmlsZVNpZGViYXJFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUobW9iaWxlU2lkZWJhckFjdGl2ZUNsYXNzKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBtb2JpbGVXaWR0aExpbWl0ID0gNzY5O1xyXG5cclxuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+PSBtb2JpbGVXaWR0aExpbWl0KSB7XHJcbiAgICAgIGNsb3NlU2lkZWJhcigpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuTW9iaWxlU2lkZWJhcl9fRmlyc3RDb250ZW50TGlua1wiKS5mb3JFYWNoKGxpbmsgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJnZXJlXCIpXHJcbiAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGlmICh0cmlnZ2Vyc0NsYXNzTGlzdC5pbmNsdWRlcyhsaW5rLmNsYXNzTGlzdFtsaW5rLmNsYXNzTGlzdC5sZW5ndGggLSAxXSkpIHtcclxuICAgICAgICBjbG9zZVNpZGViYXIoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIG1vYmlsZVNpZGViYXJJdGVtRWxlbWVudHMuZm9yRWFjaChtb2JpbGVTaWRlYmFySXRlbUVsZW1lbnQgPT4ge1xyXG4gICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVNpZGViYXJJdGVtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLk1vYmlsZVNpZGViYXJfX1NlY29uZENvbnRlbnRTdWJtZW51VHJpZ2dlclwiKTtcclxuICAgIGNvbnN0IHN1Ym1lbnUgPSBtb2JpbGVTaWRlYmFySXRlbUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5Nb2JpbGVTaWRlYmFyX19TZWNvbmRDb250ZW50U3VibWVudVwiKTtcclxuXHJcbiAgICB0cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuTW9iaWxlU2lkZWJhcl9fU2Vjb25kQ29udGVudFN1Ym1lbnVcIilcclxuICAgICAgICAuZm9yRWFjaChzdWJtZW51RWFjaCA9PiB7XHJcbiAgICAgICAgICBpZiAoc3VibWVudUVhY2ggIT09IHN1Ym1lbnUpIHtcclxuICAgICAgICAgICAgc3VibWVudUVhY2guY2xhc3NMaXN0LnJlbW92ZShcIk1vYmlsZVNpZGViYXJfX1NlY29uZENvbnRlbnRTdWJtZW51LS1BY3RpdmVcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIHN1Ym1lbnUuY2xhc3NMaXN0LnRvZ2dsZShcIk1vYmlsZVNpZGViYXJfX1NlY29uZENvbnRlbnRTdWJtZW51LS1BY3RpdmVcIik7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKTtcclxuICBtb2JpbGVTaWRlYmFyVHJpZ2dlckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5TaWRlYmFyKTtcclxuICBtb2JpbGVTaWRlYmFyQ2xvc2VUcmlnZ2VyRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VTaWRlYmFyKTtcclxuICBtb2JpbGVTaWRlYmFyU2NyZWVubG9ja0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlU2lkZWJhcik7XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgY29uc3QgYWNjb3JkaW9uUXVlcnkgPSBcIi5yaC1hY2NvcmRpb25cIjtcclxuICBjb25zdCBhY2NvcmRpb25UcmlnZ2VyUXVlcnkgPSBcIi5yaC1hY2NvcmRpb25fX3RyaWdnZXJcIjtcclxuICBjb25zdCBhY2NvcmRpb25BY3RpdmVDbGFzcyA9IFwicmgtYWNjb3JkaW9uLS1hY3RpdmVcIjtcclxuXHJcbiAgY29uc3QgYWNjb3JkaW9uRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGFjY29yZGlvblF1ZXJ5KTtcclxuXHJcbiAgaWYgKCFhY2NvcmRpb25FbGVtZW50cykge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgYWNjb3JkaW9uRWxlbWVudHMuZm9yRWFjaChhY2NvcmRpb24gPT4ge1xyXG4gICAgYWNjb3JkaW9uLnF1ZXJ5U2VsZWN0b3IoYWNjb3JkaW9uVHJpZ2dlclF1ZXJ5KS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBhY2NvcmRpb24uY2xhc3NMaXN0LnRvZ2dsZShhY2NvcmRpb25BY3RpdmVDbGFzcyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSkoKTtcclxuXHJcbigoKSA9PiB7XHJcbiAgY29uc3QgYWNjb3JkaW9uUXVlcnkgPSBcIi5SSEFjY29yZGlvblwiO1xyXG4gIGNvbnN0IGFjY29yZGlvblRyaWdnZXJRdWVyeSA9IFwiLlJIQWNjb3JkaW9uX19UcmlnZ2VyXCI7XHJcbiAgY29uc3QgYWNjb3JkaW9uQWN0aXZlQ2xhc3MgPSBcIlJIQWNjb3JkaW9uLS1BY3RpdmVcIjtcclxuXHJcbiAgY29uc3QgYWNjb3JkaW9uRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGFjY29yZGlvblF1ZXJ5KTtcclxuXHJcbiAgaWYgKCFhY2NvcmRpb25FbGVtZW50cykge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgYWNjb3JkaW9uRWxlbWVudHMuZm9yRWFjaChhY2NvcmRpb24gPT4ge1xyXG4gICAgYWNjb3JkaW9uLnF1ZXJ5U2VsZWN0b3IoYWNjb3JkaW9uVHJpZ2dlclF1ZXJ5KS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBhY2NvcmRpb24uY2xhc3NMaXN0LnRvZ2dsZShhY2NvcmRpb25BY3RpdmVDbGFzcyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICBjb25zdCB0b3VyU2VhcmNoQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLWZvcm0tc3dpdGNoX19idXR0b25fdG91clwiKTtcclxuICBjb25zdCBob3RlbFNlYXJjaEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1mb3JtLXN3aXRjaF9fYnV0dG9uX2hvdGVsXCIpO1xyXG4gIGNvbnN0IHRvdXJTZWFyY2hGb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLWZvcm0tc3dpdGNoX19mb3JtX3RvdXJcIik7XHJcbiAgY29uc3QgaG90ZWxTZWFyY2hGb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLWZvcm0tc3dpdGNoX19mb3JtX2hvdGVsXCIpO1xyXG5cclxuICBpZiAoXHJcbiAgICAhdG91clNlYXJjaEJ1dHRvbkVsZW1lbnQgXHJcbiAgICB8fCAhaG90ZWxTZWFyY2hCdXR0b25FbGVtZW50XHJcbiAgICB8fCAhdG91clNlYXJjaEZvcm1FbGVtZW50XHJcbiAgICB8fCAhaG90ZWxTZWFyY2hGb3JtRWxlbWVudFxyXG4gICkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgYnV0dG9uQWN0aXZlQ2xhc3MgPSBcInNlYXJjaC1mb3JtLXN3aXRjaF9fYnV0dG9uLS1hY3RpdmVcIjtcclxuICBjb25zdCBmb3JtQWN0aXZlQ2xhc3MgPSBcInNlYXJjaC1mb3JtLXN3aXRjaF9fZm9ybS0tYWN0aXZlXCI7XHJcblxyXG4gIHRvdXJTZWFyY2hCdXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICB0b3VyU2VhcmNoQnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKGJ1dHRvbkFjdGl2ZUNsYXNzKTtcclxuICAgIHRvdXJTZWFyY2hGb3JtRWxlbWVudC5jbGFzc0xpc3QuYWRkKGZvcm1BY3RpdmVDbGFzcyk7XHJcbiAgICBob3RlbFNlYXJjaEJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShidXR0b25BY3RpdmVDbGFzcyk7XHJcbiAgICBob3RlbFNlYXJjaEZvcm1FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoZm9ybUFjdGl2ZUNsYXNzKTtcclxuICB9KTtcclxuXHJcbiAgaG90ZWxTZWFyY2hCdXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBob3RlbFNlYXJjaEJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChidXR0b25BY3RpdmVDbGFzcyk7XHJcbiAgICBob3RlbFNlYXJjaEZvcm1FbGVtZW50LmNsYXNzTGlzdC5hZGQoZm9ybUFjdGl2ZUNsYXNzKTtcclxuICAgIHRvdXJTZWFyY2hCdXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoYnV0dG9uQWN0aXZlQ2xhc3MpO1xyXG4gICAgdG91clNlYXJjaEZvcm1FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoZm9ybUFjdGl2ZUNsYXNzKTtcclxuICB9KTtcclxufSkoKTtcclxuIiwiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICBjb25zdCBzbGlkZXJFbGVtZW50UXVlcnkgPSBcIi5Db3VudHJ5UGFnZV9fVGFic0NvbnRhaW5lci0tU2Nyb2xsXCI7XG5cbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2xpZGVyRWxlbWVudFF1ZXJ5KSkge1xuICAgIG5ldyBTcGxpZGUoc2xpZGVyRWxlbWVudFF1ZXJ5LCB7XG4gICAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgICBhcnJvd3M6IGZhbHNlLFxuICAgICAgcGFnaW5hdGlvbjogZmFsc2UsXG4gICAgICBhdXRvV2lkdGg6IHRydWUsXG4gICAgfSkubW91bnQoKTtcbiAgfVxufSk7XG4iLCJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4gIGNvbnN0IHNsaWRlckVsZW1lbnRRdWVyeSA9IFwiLkhvdGVsUGFnZV9fVGFic0NvbnRhaW5lci0tU2Nyb2xsXCI7XG5cbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2xpZGVyRWxlbWVudFF1ZXJ5KSkge1xuICAgIG5ldyBTcGxpZGUoc2xpZGVyRWxlbWVudFF1ZXJ5LCB7XG4gICAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgICBhcnJvd3M6IGZhbHNlLFxuICAgICAgcGVyTW92ZTogMSxcbiAgICAgIHBhZ2luYXRpb246IGZhbHNlLFxuICAgICAgYXV0b1dpZHRoOiB0cnVlLFxuICAgIH0pLm1vdW50KCk7XG4gIH1cbn0pO1xuIiwiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5Ib3RlbFBhZ2VfX1Bob3RvU2xpZGVyLS1CYXNlXCIpKSB7XG4gICAgY29uc3Qgc3BsaWRlID0gbmV3IFNwbGlkZShcIi5Ib3RlbFBhZ2VfX1Bob3RvU2xpZGVyLS1CYXNlXCIsIHtcbiAgICAgIHR5cGU6IFwibG9vcFwiLFxuICAgICAgYXV0b1dpZHRoOiB0cnVlLFxuICAgICAgcGVyUGFnZTogNSxcbiAgICAgIHBlck1vdmU6IDEsXG4gICAgICBwYWdpbmF0aW9uOiBmYWxzZSxcbiAgICAgIGxhenlMb2FkOiBcIm5lYXJieVwiLFxuICAgICAgcHJlbG9hZFBhZ2VzOiA1LFxuICAgICAgcHJlbG9hZFBhZ2VzOiA1LFxuICAgICAgYXJyb3dQYXRoOiBcIk0xLjA2MDM5IDM4Ljk1NDFDMi40ODI2NyA0MC4zNDg2IDQuNzc5NzIgNDAuMzQ4NiA2LjIwMiAzOC45NTQxTDIyLjkzOTYgMjIuNDQ1MkMyNC4zNTM1IDIxLjA0MjMgMjQuMzUzNSAxOC43NzY3IDIyLjkzOTYgMTcuMzczOEw2LjIwMiAwLjg2NDg3MUM0Ljc1NTIgLTAuMzU3MjEgMi41OTg1MiAtMC4yNzUwNDYgMS4yNTE2IDEuMDUzNDdDLTAuMDk1MzE4OCAyLjM4MTk5IC0wLjE3ODYyMyA0LjUwOTIxIDEuMDYwMzkgNS45MzYyNEwxNS4yMDkgMTkuOTI3NUwxLjA2MDM5IDMzLjg4MjdDLTAuMzUzNDYzIDM1LjI4NTYgLTAuMzUzNDYzIDM3LjU1MTIgMS4wNjAzOSAzOC45NTQxWlwiXG4gICAgfSk7XG5cbiAgICBjb25zdCBzcGxpZGVQb3B1cCA9IG5ldyBTcGxpZGUoXCIuSG90ZWxQYWdlX19QaG90b1NsaWRlci0tUG9wdXBcIiwge1xuICAgICAgdHlwZTogXCJsb29wXCIsXG4gICAgICBhdXRvV2lkdGg6IHRydWUsXG4gICAgICBwZXJQYWdlOiAxLFxuICAgICAgcGVyTW92ZTogMSxcbiAgICAgIHBhZ2luYXRpb246IGZhbHNlLFxuICAgICAgbGF6eUxvYWQ6IFwibmVhcmJ5XCIsXG4gICAgICBwcmVsb2FkUGFnZXM6IDUsXG4gICAgICBhcnJvd1BhdGg6IFwiTTEuMDYwMzkgMzguOTU0MUMyLjQ4MjY3IDQwLjM0ODYgNC43Nzk3MiA0MC4zNDg2IDYuMjAyIDM4Ljk1NDFMMjIuOTM5NiAyMi40NDUyQzI0LjM1MzUgMjEuMDQyMyAyNC4zNTM1IDE4Ljc3NjcgMjIuOTM5NiAxNy4zNzM4TDYuMjAyIDAuODY0ODcxQzQuNzU1MiAtMC4zNTcyMSAyLjU5ODUyIC0wLjI3NTA0NiAxLjI1MTYgMS4wNTM0N0MtMC4wOTUzMTg4IDIuMzgxOTkgLTAuMTc4NjIzIDQuNTA5MjEgMS4wNjAzOSA1LjkzNjI0TDE1LjIwOSAxOS45Mjc1TDEuMDYwMzkgMzMuODgyN0MtMC4zNTM0NjMgMzUuMjg1NiAtMC4zNTM0NjMgMzcuNTUxMiAxLjA2MDM5IDM4Ljk1NDFaXCJcbiAgICB9KTtcblxuICAgIGNvbnN0IHNwbGlkZVBvcHVwQm90dG9tID0gbmV3IFNwbGlkZShcIi5Ib3RlbFBhZ2VfX1Bob3RvU2xpZGVyLS1Qb3B1cEJvdHRvbVwiLCB7XG4gICAgICB0eXBlOiBcImxvb3BcIixcbiAgICAgIGF1dG9XaWR0aDogdHJ1ZSxcbiAgICAgIHBlclBhZ2U6IDEsXG4gICAgICBwZXJNb3ZlOiAxLFxuICAgICAgcGFnaW5hdGlvbjogZmFsc2UsXG4gICAgICBsYXp5TG9hZDogXCJuZWFyYnlcIixcbiAgICAgIHByZWxvYWRQYWdlczogNSxcbiAgICAgIGRyYWc6IGZhbHNlLFxuICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgIHVwZGF0ZU9uTW92ZTogdHJ1ZSxcbiAgICAgIGFycm93UGF0aDogXCJNMS4wNjAzOSAzOC45NTQxQzIuNDgyNjcgNDAuMzQ4NiA0Ljc3OTcyIDQwLjM0ODYgNi4yMDIgMzguOTU0MUwyMi45Mzk2IDIyLjQ0NTJDMjQuMzUzNSAyMS4wNDIzIDI0LjM1MzUgMTguNzc2NyAyMi45Mzk2IDE3LjM3MzhMNi4yMDIgMC44NjQ4NzFDNC43NTUyIC0wLjM1NzIxIDIuNTk4NTIgLTAuMjc1MDQ2IDEuMjUxNiAxLjA1MzQ3Qy0wLjA5NTMxODggMi4zODE5OSAtMC4xNzg2MjMgNC41MDkyMSAxLjA2MDM5IDUuOTM2MjRMMTUuMjA5IDE5LjkyNzVMMS4wNjAzOSAzMy44ODI3Qy0wLjM1MzQ2MyAzNS4yODU2IC0wLjM1MzQ2MyAzNy41NTEyIDEuMDYwMzkgMzguOTU0MVpcIlxuICAgIH0pO1xuXG4gICAgc3BsaWRlUG9wdXBCb3R0b20uc3luYyhzcGxpZGVQb3B1cCk7XG5cbiAgICBzcGxpZGUub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2JpbGVXaWR0aExpbWl0ID0gNzY5O1xuXG4gICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPj0gbW9iaWxlV2lkdGhMaW1pdCkge1xuICAgICAgICBzcGxpZGVQb3B1cC5nbyhzcGxpZGUuaW5kZXgpO1xuICAgICAgICBzcGxpZGVQb3B1cEJvdHRvbS5nbyhzcGxpZGUuaW5kZXgpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLkhvdGVsUGFnZV9fUGhvdG9TbGlkZXJDb250YWluZXJcIikuY2xhc3NMaXN0LmFkZChcIkhvdGVsUGFnZV9fUGhvdG9TbGlkZXJDb250YWluZXItLUFjdGl2ZVwiKTsgICAgICBcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuSG90ZWxQYWdlX19QaG90b1NsaWRlclNjcmVlbkxvY2tcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHNwbGlkZS5nbyhzcGxpZGVQb3B1cC5pbmRleCk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLkhvdGVsUGFnZV9fUGhvdG9TbGlkZXJDb250YWluZXJcIikuY2xhc3NMaXN0LnJlbW92ZShcIkhvdGVsUGFnZV9fUGhvdG9TbGlkZXJDb250YWluZXItLUFjdGl2ZVwiKTtcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuSG90ZWxQYWdlX19QaG90b1NsaWRlckNsb3NlQnV0dG9uXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBzcGxpZGUuZ28oc3BsaWRlUG9wdXAuaW5kZXgpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5Ib3RlbFBhZ2VfX1Bob3RvU2xpZGVyQ29udGFpbmVyXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJIb3RlbFBhZ2VfX1Bob3RvU2xpZGVyQ29udGFpbmVyLS1BY3RpdmVcIik7XG4gICAgfSk7XG5cbiAgICBzcGxpZGUubW91bnQoKTtcbiAgICBzcGxpZGVQb3B1cC5tb3VudCgpO1xuICAgIHNwbGlkZVBvcHVwQm90dG9tLm1vdW50KCk7XG5cbiAgICBzcGxpZGVQb3B1cC5vbihcIm1vdmVcIiwgKCkgPT4ge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5Ib3RlbFBhZ2VfX1Bob3RvU2xpZGVyUG9wdXBDb3VudGVyXCIpLmlubmVySFRNTCA9IGAkeyBzcGxpZGVQb3B1cC5pbmRleCArIDEgfS8keyBzcGxpZGVQb3B1cC5sZW5ndGggfWA7XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICBjb25zdCBzbGlkZXJFbGVtZW50UXVlcnkgPSBcIi5Nb2JpbGVXaXRoWW91X19TcGxpZGVSb290XCI7XG5cbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2xpZGVyRWxlbWVudFF1ZXJ5KSkge1xuICAgIG5ldyBTcGxpZGUoc2xpZGVyRWxlbWVudFF1ZXJ5LCB7XG4gICAgICB0eXBlOiBcImxvb3BcIixcbiAgICAgIHBhZ2luYXRpb246IGZhbHNlXG4gICAgfSkubW91bnQoKTtcbiAgfVxufSk7XG4iLCIoKCkgPT4ge1xuICBjb25zdCB0ZWxlZ3JhbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuVGVsZWdyYW1Gb3JtXCIpO1xuICBjb25zdCB0ZWxlZ3JhbVRyaWdnZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5UZWxlZ3JhbV9fVHJpZ2dlclwiKTtcbiAgY29uc3QgdGVsZWdyYW1TY3JlZW5sb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5UZWxlZ3JhbUZvcm1fX1NjcmVlbmxvY2tcIik7XG4gIGNvbnN0IHRlbGVncmFtQ2xvc2VUcmlnZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5UZWxlZ3JhbUZvcm1fX0Nsb3NlVHJpZ2dlclwiKTtcblxuICBjb25zdCB0ZWxlZ3JhbUFjdGl2ZUNsYXNzID0gXCJUZWxlZ3JhbUZvcm0tLUFjdGl2ZVwiO1xuXG4gIGlmICghdGVsZWdyYW0gfHwgIXRlbGVncmFtVHJpZ2dlcnMgfHwgIXRlbGVncmFtU2NyZWVubG9jayB8fCAhdGVsZWdyYW1DbG9zZVRyaWdnZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0ZWxlZ3JhbVRyaWdnZXJzLmZvckVhY2godGVsZWdyYW1UcmlnZ2VyID0+IHtcbiAgICB0ZWxlZ3JhbVRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICAgIH0sIDEwMCk7XG4gICAgICB0ZWxlZ3JhbS5jbGFzc0xpc3QuYWRkKHRlbGVncmFtQWN0aXZlQ2xhc3MpO1xuICAgIH0pO1xuICB9KTtcblxuICB0ZWxlZ3JhbVNjcmVlbmxvY2suYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJhdXRvXCI7XG4gICAgdGVsZWdyYW0uY2xhc3NMaXN0LnJlbW92ZSh0ZWxlZ3JhbUFjdGl2ZUNsYXNzKTtcbiAgfSk7XG5cbiAgdGVsZWdyYW1DbG9zZVRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJhdXRvXCI7XG4gICAgdGVsZWdyYW0uY2xhc3NMaXN0LnJlbW92ZSh0ZWxlZ3JhbUFjdGl2ZUNsYXNzKTtcbiAgfSk7XG59KSgpO1xuIiwiKCgpID0+IHtcclxuICAgIGNvbnN0IGZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5GZWVkYmFja1wiKTtcclxuICAgIGNvbnN0IGZlZWRiYWNrVHJpZ2dlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLkZlZWRiYWNrX19UcmlnZ2VyXCIpO1xyXG4gICAgY29uc3QgZmVlZGJhY2tTY3JlZW5sb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5GZWVkYmFja19fU2NyZWVubG9ja1wiKTtcclxuICAgIGNvbnN0IGZlZWRiYWNrQ2xvc2VUcmlnZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5GZWVkYmFja19fQ2xvc2VUcmlnZ2VyXCIpO1xyXG5cclxuICAgIGNvbnN0IGZlZWRiYWNrQWN0aXZlQ2xhc3MgPSBcIkZlZWRiYWNrLS1BY3RpdmVcIjtcclxuXHJcbiAgICBpZiAoIWZlZWRiYWNrIHx8ICFmZWVkYmFja1RyaWdnZXJzIHx8ICFmZWVkYmFja1NjcmVlbmxvY2sgfHwgIWZlZWRiYWNrQ2xvc2VUcmlnZ2VyKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGZlZWRiYWNrVHJpZ2dlcnMuZm9yRWFjaChmZWVkYmFja1RyaWdnZXIgPT4ge1xyXG4gICAgICAgIGZlZWRiYWNrVHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgICAgICBmZWVkYmFjay5jbGFzc0xpc3QuYWRkKGZlZWRiYWNrQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZmVlZGJhY2tTY3JlZW5sb2NrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiYXV0b1wiO1xyXG4gICAgICAgIGZlZWRiYWNrLmNsYXNzTGlzdC5yZW1vdmUoZmVlZGJhY2tBY3RpdmVDbGFzcyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmZWVkYmFja0Nsb3NlVHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImF1dG9cIjtcclxuICAgICAgICBmZWVkYmFjay5jbGFzc0xpc3QucmVtb3ZlKGZlZWRiYWNrQWN0aXZlQ2xhc3MpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5GZWVkYmFja19fQ2hlY2tib3hcIikuZm9yRWFjaChjaGVja2JveCA9PiB7XHJcbiAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuRmVlZGJhY2tfX0NoZWNrYm94XCIpLmZvckVhY2goY2hlY2tib3gyID0+IHtcclxuICAgICAgICAgICAgICAgIGNoZWNrYm94Mi5jaGVja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59KSgpO1xyXG4iXX0=
