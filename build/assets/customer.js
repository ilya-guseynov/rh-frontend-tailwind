"use strict";!function(){var e="b2c-menu--to-right",t=document.querySelector(".b2c-menu"),o=document.querySelector(".b2c-menu__content"),n=document.querySelector(".b2c-menu__trigger");(t||o||n)&&(o.style.animation="none",n.addEventListener("click",function(){o.style.animation="",t.classList.toggle("b2c-menu--active")}),window.addEventListener("scroll",function(){0<window.scrollY-232?t.classList.add(e):t.classList.remove(e)}))}(),function(){function e(e){return"[".concat(e,"]")}function o(e){e.style.display="none"}function n(e){e.style.display="block"}var r="rh-country-data-section",c="rh-country-data-trigger",i="rh-country-data",a="rh-country-data-title",l="CountryPage__TabLink--Active",u=document.querySelectorAll(e(i)),d=document.querySelectorAll(e(r)),t=document.querySelectorAll(e(c)),s=document.querySelectorAll(e(a));u.forEach(o),d.forEach(o),s.forEach(function(e){return e.classList.remove(l)}),t.forEach(function(t){t.addEventListener("click",function(){var e;u.forEach(o),d.forEach(o),s.forEach(function(e){return e.classList.remove(l)}),n(document.querySelector((e=t.getAttribute(c),"[".concat(i,' = "').concat(e,'"]')))),n(document.querySelector((e=t.getAttribute("rh-country-data-section-trigger"),"[".concat(r,' = "').concat(e,'"]')))),document.querySelectorAll((e=t.getAttribute(c),"[".concat(a,' = "').concat(e,'"]'))).forEach(function(e){return e.classList.add(l)})})})}(),function(){var t=document.querySelector(".Feedback"),e=document.querySelectorAll(".Feedback__Trigger"),o=document.querySelector(".Feedback__Screenlock"),n=document.querySelector(".Feedback__CloseTrigger"),r="Feedback--Active";t&&e&&o&&n&&(e.forEach(function(e){e.addEventListener("click",function(){t.classList.add(r)})}),o.addEventListener("click",function(){t.classList.remove(r)}),n.addEventListener("click",function(){t.classList.remove(r)}))}(),function(){function e(e){return"[".concat(e,"]")}function o(e){e.style.display="none"}var n="hotel-tab-trigger-index",r="hotel-data",c="HotelPage__TabLink--Active",i=!1,a=document.querySelectorAll(e(r)),l=document.querySelectorAll(e(n));a.forEach(o),l.forEach(function(t){t.addEventListener("click",function(){var e;a.forEach(o),l.forEach(function(e){e.classList.remove(c)}),t.classList.add(c),document.querySelector((e=t.getAttribute(n),"[".concat(r,' = "').concat(e,'"]'))).style.display="block","6"!==t.getAttribute(n)||i||(i=!0,setTimeout(function(){document.querySelectorAll(".HotelPage__NomerPhotoSlider").forEach(function(e){new Splide(e,{type:"loop",autoplay:!0,perPage:3,perMove:1,direction:"ttb",height:"675px",pagination:!1,lazyLoad:"nearby",arrowPath:"M2.0162 39.9541C3.37923 41.3486 5.58056 41.3486 6.94359 39.9541L22.9838 23.4452C24.3387 22.0423 24.3387 19.7767 22.9838 18.3738L6.94359 1.86487C5.55707 0.64279 3.49025 0.724954 2.19945 2.05347C0.908654 3.38199 0.828821 5.50921 2.0162 6.93624L15.5752 20.9275L2.0162 34.8827C0.661266 36.2856 0.661266 38.5512 2.0162 39.9541Z"}).mount()})},100),setTimeout(function(){document.querySelectorAll(".HotelPage__NomerMobilePhotoSlider").forEach(function(e){new Splide(e,{type:"loop",autoplay:!0,perPage:1,perMove:1,pagination:!1,lazyLoad:"nearby",preloadPages:3,gap:"2em",throttle:10,arrowPath:"M1.06039 38.9541C2.48267 40.3486 4.77972 40.3486 6.202 38.9541L22.9396 22.4452C24.3535 21.0423 24.3535 18.7767 22.9396 17.3738L6.202 0.864871C4.7552 -0.35721 2.59852 -0.275046 1.2516 1.05347C-0.0953188 2.38199 -0.178623 4.50921 1.06039 5.93624L15.209 19.9275L1.06039 33.8827C-0.353463 35.2856 -0.353463 37.5512 1.06039 38.9541Z"}).mount()})},100))})})}(),function(){var e,t=document.querySelector(".mobile-sidebar"),o=document.querySelector(".mobile-sidebar-trigger"),n=document.querySelector(".mobile-sidebar__close-trigger"),r=document.querySelector(".mobile-sidebar__screenlock"),c=document.querySelectorAll(".mobile-sidebar__item"),i="mobile-sidebar--active";t&&o&&n&&r&&0!==c.length&&(e=function(){document.body.style.overflow="auto",t.classList.remove(i)},c.forEach(function(e){var t=e.querySelector(".mobile-sidebar__submenu-trigger"),o=e.querySelector(".mobile-sidebar__submenu");t.addEventListener("click",function(){document.querySelectorAll(".mobile-sidebar__submenu").forEach(function(e){e!==o&&e.classList.remove("mobile-sidebar__submenu--active")}),o.classList.toggle("mobile-sidebar__submenu--active")})}),window.addEventListener("resize",function(){769<=window.innerWidth&&e()}),o.addEventListener("click",function(){document.body.style.overflow="hidden",t.classList.add(i)}),n.addEventListener("click",e),r.addEventListener("click",e))}(),function(){var e,t=document.querySelector(".MobileSidebar"),o=document.querySelector(".mobile-sidebar-trigger"),n=document.querySelector(".MobileSidebar__CloseTrigger"),r=document.querySelector(".MobileSidebar__ScreenLock"),c=document.querySelectorAll(".MobileSidebar__SecondContentItem"),i="MobileSidebar--Active";t&&o&&n&&r&&0!==c.length&&(e=function(){document.body.style.overflow="auto",t.classList.remove(i)},c.forEach(function(e){var t=e.querySelector(".MobileSidebar__SecondContentSubmenuTrigger"),o=e.querySelector(".MobileSidebar__SecondContentSubmenu");t.addEventListener("click",function(){document.querySelectorAll(".MobileSidebar__SecondContentSubmenu").forEach(function(e){e!==o&&e.classList.remove("MobileSidebar__SecondContentSubmenu--Active")}),o.classList.toggle("MobileSidebar__SecondContentSubmenu--Active")})}),window.addEventListener("resize",function(){769<=window.innerWidth&&e()}),o.addEventListener("click",function(){document.body.style.overflow="hidden",t.classList.add(i)}),n.addEventListener("click",e),r.addEventListener("click",e))}(),function(){var e=document.querySelectorAll(".rh-accordion");e&&e.forEach(function(e){e.querySelector(".rh-accordion__trigger").addEventListener("click",function(){e.classList.toggle("rh-accordion--active")})})}(),function(){var e=document.querySelectorAll(".RHAccordion");e&&e.forEach(function(e){e.querySelector(".RHAccordion__Trigger").addEventListener("click",function(){e.classList.toggle("RHAccordion--Active")})})}(),function(){var e,t,o=document.querySelector(".search-form-switch__button_tour"),n=document.querySelector(".search-form-switch__button_hotel"),r=document.querySelector(".search-form-switch__form_tour"),c=document.querySelector(".search-form-switch__form_hotel");o&&n&&r&&c&&(e="search-form-switch__button--active",t="search-form-switch__form--active",o.addEventListener("click",function(){o.classList.add(e),r.classList.add(t),n.classList.remove(e),c.classList.remove(t)}),n.addEventListener("click",function(){n.classList.add(e),c.classList.add(t),o.classList.remove(e),r.classList.remove(t)}))}(),document.addEventListener("DOMContentLoaded",function(){var e=".CountryPage__TabsContainer--Scroll";document.querySelector(e)&&new Splide(e,{autoplay:!1,arrows:!1,pagination:!1,autoWidth:!0}).mount()}),document.addEventListener("DOMContentLoaded",function(){var e=".HotelPage__TabsContainer--Scroll";document.querySelector(e)&&new Splide(e,{autoplay:!1,arrows:!1,perMove:1,pagination:!1,autoWidth:!0}).mount()}),document.addEventListener("DOMContentLoaded",function(){var e,t,o=".HotelPage__PhotoSlider",n=".HotelPage__PhotoSliderContainer",r="HotelPage__PhotoSliderContainer--Active";document.querySelector(o)&&(o=(e=new Splide(o,{type:"loop",autoplay:!0,autoWidth:!0,perPage:5,perMove:1,pagination:!1,lazyLoad:"nearby",preloadPages:5,throttle:10,arrowPath:"M1.06039 38.9541C2.48267 40.3486 4.77972 40.3486 6.202 38.9541L22.9396 22.4452C24.3535 21.0423 24.3535 18.7767 22.9396 17.3738L6.202 0.864871C4.7552 -0.35721 2.59852 -0.275046 1.2516 1.05347C-0.0953188 2.38199 -0.178623 4.50921 1.06039 5.93624L15.209 19.9275L1.06039 33.8827C-0.353463 35.2856 -0.353463 37.5512 1.06039 38.9541Z"}).mount()).Components.Elements.track,t=!1,e.on("click",function(){t||(t=!0,document.querySelector(n).classList.add(r),e.options={perPage:1},e.refresh())},o),document.querySelector(".HotelPage__PhotoSliderScreenLock").addEventListener("click",function(){t&&(t=!1,document.querySelector(n).classList.remove(r),e.options={perPage:5},e.refresh())}))}),document.addEventListener("DOMContentLoaded",function(){var e=".b2b-top-slider";document.querySelector(e)&&new Splide(e,{type:"loop",autoplay:!0,arrows:!1}).mount()}),document.addEventListener("DOMContentLoaded",function(){var e=".with-you-slider";document.querySelector(e)&&new Splide(e,{type:"loop",pagination:!1}).mount()}),document.addEventListener("DOMContentLoaded",function(){var e=".our-guests-slider",t=".our-guests-slider--mobile";document.querySelector(e)&&new Splide(e,{type:"loop",autoplay:!0,arrows:!0,pagination:!1,gap:20,perPage:3}).mount(),document.querySelector(t)&&new Splide(t,{type:"loop",autoplay:!0,arrows:!0,pagination:!1,perPage:1}).mount()}),document.addEventListener("DOMContentLoaded",function(){var e=".our-goods-slider";document.querySelector(e)&&new Splide(e,{type:"loop",autoplay:!1,arrows:!1,perPage:1}).mount()}),document.addEventListener("DOMContentLoaded",function(){var e=".b2c-blog-slider",t=".b2c-blog-slider--mobile";document.querySelector(e)&&new Splide(e,{type:"loop",autoplay:!1,arrows:!0,pagination:!1,gap:20,perPage:4}).mount(),document.querySelector(t)&&new Splide(t,{type:"loop",autoplay:!0,arrows:!0,pagination:!1,perPage:1}).mount()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImIyYy1tZW51LmpzIiwiY291bnRyeS1pbmZvLWhhbmRsZXIuanMiLCJmZWVkYmFjay5qcyIsImhvdGVsLXRhYnMuanMiLCJtb2JpbGUtc2lkZWJhci5qcyIsInJoLWFjY29yZGlvbi5qcyIsInNlYXJjaC1mcm9tLXN3aXRjaC5qcyIsInNwbGlkZS1pbml0aWF0b3IuanMiXSwibmFtZXMiOlsiYjJjTWVudVRvUmlnaHRDbGFzcyIsImIyY01lbnVFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYjJjTWVudUNvbnRlbnRFbGVtZW50IiwiYjJjVHJpZ2dlckVsZW1lbnQiLCJzdHlsZSIsImFuaW1hdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ3aW5kb3ciLCJzY3JvbGxZIiwiYWRkIiwicmVtb3ZlIiwiYXR0cmlidXRlTmFtZVRvUXVlcnkiLCJhdHRyaWJ1dGVOYW1lIiwiY29uY2F0IiwiaGlkZUVsZW1lbnQiLCJlbGVtZW50IiwiZGlzcGxheSIsInNob3dFbGVtZW50IiwiZGF0YVNlY3Rpb25BdHRyaWJ1dGVOYW1lIiwiZGF0YVRyaWdnZXJBdHRyaWJ1dGVOYW1lIiwiZGF0YUF0dHJpYnV0ZU5hbWUiLCJkYXRhVGl0bGVBdHRyaWJ1dGVOYW1lIiwiZ29sZEJnQ2xhc3MiLCJkYXRhcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkYXRhU2VjdGlvbnMiLCJkYXRhVHJpZ2dlcnMiLCJkYXRhVGl0bGVzIiwiZm9yRWFjaCIsImRhdGFUaXRsZSIsImRhdGFUcmlnZ2VyIiwiaWQiLCJnZXRBdHRyaWJ1dGUiLCJmZWVkYmFjayIsImZlZWRiYWNrVHJpZ2dlcnMiLCJmZWVkYmFja1NjcmVlbmxvY2siLCJmZWVkYmFja0Nsb3NlVHJpZ2dlciIsImZlZWRiYWNrQWN0aXZlQ2xhc3MiLCJmZWVkYmFja1RyaWdnZXIiLCJob3RlbFBob3Rvc0luaXRlZCIsImRhdGFUcmlnZ2VyMiIsInNldFRpbWVvdXQiLCJlbGVtIiwiU3BsaWRlIiwidHlwZSIsImF1dG9wbGF5IiwicGVyUGFnZSIsInBlck1vdmUiLCJkaXJlY3Rpb24iLCJoZWlnaHQiLCJwYWdpbmF0aW9uIiwibGF6eUxvYWQiLCJhcnJvd1BhdGgiLCJtb3VudCIsInByZWxvYWRQYWdlcyIsImdhcCIsInRocm90dGxlIiwiY2xvc2VTaWRlYmFyIiwibW9iaWxlU2lkZWJhckVsZW1lbnQiLCJtb2JpbGVTaWRlYmFyVHJpZ2dlckVsZW1lbnQiLCJtb2JpbGVTaWRlYmFyQ2xvc2VUcmlnZ2VyRWxlbWVudCIsIm1vYmlsZVNpZGViYXJTY3JlZW5sb2NrRWxlbWVudCIsIm1vYmlsZVNpZGViYXJJdGVtRWxlbWVudHMiLCJtb2JpbGVTaWRlYmFyQWN0aXZlQ2xhc3MiLCJsZW5ndGgiLCJib2R5Iiwib3ZlcmZsb3ciLCJtb2JpbGVTaWRlYmFySXRlbUVsZW1lbnQiLCJ0cmlnZ2VyIiwic3VibWVudSIsInN1Ym1lbnVFYWNoIiwiaW5uZXJXaWR0aCIsImFjY29yZGlvbkVsZW1lbnRzIiwiYWNjb3JkaW9uIiwiYnV0dG9uQWN0aXZlQ2xhc3MiLCJmb3JtQWN0aXZlQ2xhc3MiLCJ0b3VyU2VhcmNoQnV0dG9uRWxlbWVudCIsImhvdGVsU2VhcmNoQnV0dG9uRWxlbWVudCIsInRvdXJTZWFyY2hGb3JtRWxlbWVudCIsImhvdGVsU2VhcmNoRm9ybUVsZW1lbnQiLCJzbGlkZXJFbGVtZW50UXVlcnkiLCJhcnJvd3MiLCJhdXRvV2lkdGgiLCJzcGxpZGUiLCJ6b29tZWQiLCJzbGlkZXJDb250YWluZXJFbGVtZW50UXVlcnkiLCJzbGlkZXJDb250YWluZXJBY3RpdmVDbGFzcyIsInRyYWNrIiwiQ29tcG9uZW50cyIsIkVsZW1lbnRzIiwib24iLCJvcHRpb25zIiwicmVmcmVzaCIsInNsaWRlckVsZW1lbnRRdWVyeU1vYmlsZSJdLCJtYXBwaW5ncyI6ImNBQUEsV0FDQSxJQUtBQSxFQUFBLHFCQUVBQyxFQUFBQyxTQUFBQyxjQVBBLGFBUUFDLEVBQUFGLFNBQUFDLGNBUEEsc0JBUUFFLEVBQUFI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LElBQUE0RSxFQUFBLG1CQUVBbEYsU0FBQUMsY0FBQWlGLElBQ0EsSUFBQXJDLE9BQUFxQyxFQUFBLENBQ0FwQyxLQUFBLE9BQ0FNLFlBQUEsSUFDQUcsVUFJQXZELFNBQUFNLGlCQUFBLG1CQUFBLFdBQ0EsSUFBQTRFLEVBQUEscUJBQ0FhLEVBQUEsNkJBRUEvRixTQUFBQyxjQUFBaUYsSUFDQSxJQUFBckMsT0FBQXFDLEVBQUEsQ0FDQXBDLEtBQUEsT0FDQUMsVUFBQSxFQUNBb0MsUUFBQSxFQUNBL0IsWUFBQSxFQUNBSyxJQUFBLEdBQ0FULFFBQUEsSUFDQU8sUUFHQXZELFNBQUFDLGNBQUE4RixJQUNBLElBQUFsRCxPQUFBa0QsRUFBQSxDQUNBakQsS0FBQSxPQUNBQyxVQUFBLEVBQ0FvQyxRQUFBLEVBQ0EvQixZQUFBLEVBQ0FKLFFBQUEsSUFDQU8sVUFJQXZELFNBQUFNLGlCQUFBLG1CQUFBLFdBQ0EsSUFBQTRFLEVBQUEsb0JBRUFsRixTQUFBQyxjQUFBaUYsSUFDQSxJQUFBckMsT0FBQXFDLEVBQUEsQ0FDQXBDLEtBQUEsT0FDQUMsVUFBQSxFQUNBb0MsUUFBQSxFQUNBbkMsUUFBQSxJQUNBTyxVQUlBdkQsU0FBQU0saUJBQUEsbUJBQUEsV0FDQSxJQUFBNEUsRUFBQSxtQkFDQWEsRUFBQSwyQkFFQS9GLFNBQUFDLGNBQUFpRixJQUNBLElBQUFyQyxPQUFBcUMsRUFBQSxDQUNBcEMsS0FBQSxPQUNBQyxVQUFBLEVBQ0FvQyxRQUFBLEVBQ0EvQixZQUFBLEVBQ0FLLElBQUEsR0FDQVQsUUFBQSxJQUNBTyxRQUdBdkQsU0FBQUMsY0FBQThGLElBQ0EsSUFBQWxELE9BQUFrRCxFQUFBLENBQ0FqRCxLQUFBLE9BQ0FDLFVBQUEsRUFDQW9DLFFBQUEsRUFDQS9CLFlBQUEsRUFDQUosUUFBQSxJQUNBTyIsImZpbGUiOiJjdXN0b21lci5qcyIsInNvdXJjZXNDb250ZW50IjpbIigoKSA9PiB7XHJcbiAgY29uc3QgYjJjTWVudVF1ZXJ5ID0gXCIuYjJjLW1lbnVcIjtcclxuICBjb25zdCBiMmNNZW51Q29udGVudFF1ZXJ5ID0gXCIuYjJjLW1lbnVfX2NvbnRlbnRcIjtcclxuICBjb25zdCBiMmNUcmlnZ2VyUXVlcnkgPSBcIi5iMmMtbWVudV9fdHJpZ2dlclwiO1xyXG5cclxuICBjb25zdCBiMmNNZW51QWN0aXZlQ2xhc3MgPSBcImIyYy1tZW51LS1hY3RpdmVcIjtcclxuICBjb25zdCBiMmNNZW51VG9SaWdodENsYXNzID0gXCJiMmMtbWVudS0tdG8tcmlnaHRcIjtcclxuXHJcbiAgY29uc3QgYjJjTWVudUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGIyY01lbnVRdWVyeSk7XHJcbiAgY29uc3QgYjJjTWVudUNvbnRlbnRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihiMmNNZW51Q29udGVudFF1ZXJ5KTtcclxuICBjb25zdCBiMmNUcmlnZ2VyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYjJjVHJpZ2dlclF1ZXJ5KTtcclxuXHJcbiAgaWYgKCFiMmNNZW51RWxlbWVudCAmJiAhYjJjTWVudUNvbnRlbnRFbGVtZW50ICYmICFiMmNUcmlnZ2VyRWxlbWVudCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgYjJjTWVudUNvbnRlbnRFbGVtZW50LnN0eWxlLmFuaW1hdGlvbiA9IFwibm9uZVwiO1xyXG4gIFxyXG4gIGNvbnN0IGhhbmRsZVNjcm9sbCA9ICgpID0+IHtcclxuICAgIGlmICh3aW5kb3cuc2Nyb2xsWSAtIDIzMiA+IDApIHtcclxuICAgICAgYjJjTWVudUVsZW1lbnQuY2xhc3NMaXN0LmFkZChiMmNNZW51VG9SaWdodENsYXNzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGIyY01lbnVFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoYjJjTWVudVRvUmlnaHRDbGFzcyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdG9nZ2xlTWVudSA9ICgpID0+IHtcclxuICAgIGIyY01lbnVDb250ZW50RWxlbWVudC5zdHlsZS5hbmltYXRpb24gPSBcIlwiO1xyXG4gICAgYjJjTWVudUVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShiMmNNZW51QWN0aXZlQ2xhc3MpO1xyXG4gIH07XHJcblxyXG4gIGIyY1RyaWdnZXJFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVNZW51KTtcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwpO1xyXG59KSgpOyIsIigoKSA9PiB7XHJcbiAgY29uc3QgZGF0YVNlY3Rpb25UcmlnZ2VyQXR0cmlidXRlTmFtZSA9IFwicmgtY291bnRyeS1kYXRhLXNlY3Rpb24tdHJpZ2dlclwiO1xyXG4gIGNvbnN0IGRhdGFTZWN0aW9uQXR0cmlidXRlTmFtZSA9IFwicmgtY291bnRyeS1kYXRhLXNlY3Rpb25cIjtcclxuICBjb25zdCBkYXRhVHJpZ2dlckF0dHJpYnV0ZU5hbWUgPSBcInJoLWNvdW50cnktZGF0YS10cmlnZ2VyXCI7XHJcbiAgY29uc3QgZGF0YUF0dHJpYnV0ZU5hbWUgPSBcInJoLWNvdW50cnktZGF0YVwiO1xyXG4gIGNvbnN0IGRhdGFUaXRsZUF0dHJpYnV0ZU5hbWUgPSBcInJoLWNvdW50cnktZGF0YS10aXRsZVwiO1xyXG4gIGNvbnN0IGdvbGRCZ0NsYXNzID0gXCJDb3VudHJ5UGFnZV9fVGFiTGluay0tQWN0aXZlXCI7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVOYW1lXHJcbiAgICogQHJldHVybnMgIHtzdHJpbmd9XHJcbiAgICovXHJcbiAgY29uc3QgYXR0cmlidXRlTmFtZVRvUXVlcnkgPSBhdHRyaWJ1dGVOYW1lID0+IGBbJHthdHRyaWJ1dGVOYW1lfV1gO1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bWJlcn0gaWRcclxuICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgKi9cclxuICAgY29uc3QgY3JlYXRlUXVlcnlGb3JEYXRhQnlJZCA9IGlkID0+IGBbJHtkYXRhQXR0cmlidXRlTmFtZX0gPSBcIiR7aWR9XCJdYDtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudW1iZXJ9IGlkXHJcbiAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICovXHJcbiAgY29uc3QgY3JlYXRlUXVlcnlGb3JEYXRhU2VjdGlvbkJ5SWQgPSBpZCA9PiBgWyR7ZGF0YVNlY3Rpb25BdHRyaWJ1dGVOYW1lfSA9IFwiJHtpZH1cIl1gO1xyXG5cclxuICAgLyoqXHJcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudW1iZXJ9IGlkXHJcbiAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICovXHJcbiAgY29uc3QgY3JlYXRlUXVlcnlGb3JEYXRhVGl0bGVCeUlkID0gaWQgPT4gYFske2RhdGFUaXRsZUF0dHJpYnV0ZU5hbWV9ID0gXCIke2lkfVwiXWA7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcclxuICAgKiBAcmV0dXJucyB7dm9pZH0gXHJcbiAgICovXHJcbiAgY29uc3QgaGlkZUVsZW1lbnQgPSBlbGVtZW50ID0+IHtcclxuICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcclxuICAgKiBAcmV0dXJucyB7dm9pZH0gXHJcbiAgICovXHJcbiAgY29uc3Qgc2hvd0VsZW1lbnQgPSBlbGVtZW50ID0+IHtcclxuICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICB9O1xyXG5cclxuICBjb25zdCBkYXRhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYXR0cmlidXRlTmFtZVRvUXVlcnkoZGF0YUF0dHJpYnV0ZU5hbWUpKTtcclxuICBjb25zdCBkYXRhU2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGF0dHJpYnV0ZU5hbWVUb1F1ZXJ5KGRhdGFTZWN0aW9uQXR0cmlidXRlTmFtZSkpO1xyXG4gIGNvbnN0IGRhdGFUcmlnZ2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYXR0cmlidXRlTmFtZVRvUXVlcnkoZGF0YVRyaWdnZXJBdHRyaWJ1dGVOYW1lKSk7XHJcbiAgY29uc3QgZGF0YVRpdGxlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYXR0cmlidXRlTmFtZVRvUXVlcnkoZGF0YVRpdGxlQXR0cmlidXRlTmFtZSkpO1xyXG5cclxuICBkYXRhcy5mb3JFYWNoKGRhdGEgPT4gaGlkZUVsZW1lbnQoZGF0YSkpO1xyXG4gIGRhdGFTZWN0aW9ucy5mb3JFYWNoKGRhdGFTZWN0aW9uID0+IGhpZGVFbGVtZW50KGRhdGFTZWN0aW9uKSk7XHJcbiAgZGF0YVRpdGxlcy5mb3JFYWNoKGRhdGFUaXRsZSA9PiBkYXRhVGl0bGUuY2xhc3NMaXN0LnJlbW92ZShnb2xkQmdDbGFzcykpO1xyXG5cclxuICBkYXRhVHJpZ2dlcnMuZm9yRWFjaChkYXRhVHJpZ2dlciA9PiB7XHJcbiAgICBkYXRhVHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBkYXRhcy5mb3JFYWNoKGRhdGEgPT4gaGlkZUVsZW1lbnQoZGF0YSkpO1xyXG4gICAgICBkYXRhU2VjdGlvbnMuZm9yRWFjaChkYXRhU2VjdGlvbiA9PiBoaWRlRWxlbWVudChkYXRhU2VjdGlvbikpO1xyXG4gICAgICBkYXRhVGl0bGVzLmZvckVhY2goZGF0YVRpdGxlID0+IGRhdGFUaXRsZS5jbGFzc0xpc3QucmVtb3ZlKGdvbGRCZ0NsYXNzKSk7XHJcblxyXG4gICAgICBzaG93RWxlbWVudChcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgY3JlYXRlUXVlcnlGb3JEYXRhQnlJZChkYXRhVHJpZ2dlci5nZXRBdHRyaWJ1dGUoZGF0YVRyaWdnZXJBdHRyaWJ1dGVOYW1lKSlcclxuICAgICAgICApXHJcbiAgICAgICk7XHJcbiAgICAgIHNob3dFbGVtZW50KFxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY3JlYXRlUXVlcnlGb3JEYXRhU2VjdGlvbkJ5SWQoXHJcbiAgICAgICAgICBkYXRhVHJpZ2dlci5nZXRBdHRyaWJ1dGUoZGF0YVNlY3Rpb25UcmlnZ2VyQXR0cmlidXRlTmFtZSlcclxuICAgICAgICApKVxyXG4gICAgICApO1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNyZWF0ZVF1ZXJ5Rm9yRGF0YVRpdGxlQnlJZChcclxuICAgICAgICBkYXRhVHJpZ2dlci5nZXRBdHRyaWJ1dGUoZGF0YVRyaWdnZXJBdHRyaWJ1dGVOYW1lKVxyXG4gICAgICApKS5mb3JFYWNoKGRhdGFUaXRsZSA9PiBkYXRhVGl0bGUuY2xhc3NMaXN0LmFkZChnb2xkQmdDbGFzcykpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pKCk7IiwiKCgpID0+IHtcbiAgY29uc3QgZmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLkZlZWRiYWNrXCIpO1xuICBjb25zdCBmZWVkYmFja1RyaWdnZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5GZWVkYmFja19fVHJpZ2dlclwiKTtcbiAgY29uc3QgZmVlZGJhY2tTY3JlZW5sb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5GZWVkYmFja19fU2NyZWVubG9ja1wiKTtcbiAgY29uc3QgZmVlZGJhY2tDbG9zZVRyaWdnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLkZlZWRiYWNrX19DbG9zZVRyaWdnZXJcIik7XG5cbiAgY29uc3QgZmVlZGJhY2tBY3RpdmVDbGFzcyA9IFwiRmVlZGJhY2stLUFjdGl2ZVwiO1xuXG4gIGlmICghZmVlZGJhY2sgfHwgIWZlZWRiYWNrVHJpZ2dlcnMgfHwgIWZlZWRiYWNrU2NyZWVubG9jayB8fCAhZmVlZGJhY2tDbG9zZVRyaWdnZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmZWVkYmFja1RyaWdnZXJzLmZvckVhY2goZmVlZGJhY2tUcmlnZ2VyID0+IHtcbiAgICBmZWVkYmFja1RyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGZlZWRiYWNrLmNsYXNzTGlzdC5hZGQoZmVlZGJhY2tBY3RpdmVDbGFzcyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGZlZWRiYWNrU2NyZWVubG9jay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGZlZWRiYWNrLmNsYXNzTGlzdC5yZW1vdmUoZmVlZGJhY2tBY3RpdmVDbGFzcyk7XG4gIH0pO1xuXG4gIGZlZWRiYWNrQ2xvc2VUcmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgZmVlZGJhY2suY2xhc3NMaXN0LnJlbW92ZShmZWVkYmFja0FjdGl2ZUNsYXNzKTtcbiAgfSk7XG59KSgpO1xuIiwiKCgpID0+IHtcbiAgY29uc3QgZGF0YVRyaWdnZXJBdHRyaWJ1dGVOYW1lID0gXCJob3RlbC10YWItdHJpZ2dlci1pbmRleFwiO1xuICBjb25zdCBkYXRhQXR0cmlidXRlTmFtZSA9IFwiaG90ZWwtZGF0YVwiO1xuICBjb25zdCBnb2xkQmdDbGFzcyA9IFwiSG90ZWxQYWdlX19UYWJMaW5rLS1BY3RpdmVcIjtcbiAgXG4gIGNvbnN0IGF0dHJpYnV0ZU5hbWVUb1F1ZXJ5ID0gYXR0cmlidXRlTmFtZSA9PiBgWyR7YXR0cmlidXRlTmFtZX1dYDtcbiAgY29uc3QgY3JlYXRlUXVlcnlGb3JEYXRhQnlJZCA9IGlkID0+IGBbJHtkYXRhQXR0cmlidXRlTmFtZX0gPSBcIiR7aWR9XCJdYDtcbiAgY29uc3QgY3JlYXRlUXVlcnlGb3JUcmlnZ2VyQnlJZCA9IGlkID0+IGBbJHtkYXRhVHJpZ2dlckF0dHJpYnV0ZU5hbWV9ID0gXCIke2lkfVwiXWA7XG4gIGNvbnN0IGhpZGVFbGVtZW50ID0gZWxlbWVudCA9PiB7IGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiOyB9O1xuICBjb25zdCBzaG93RWxlbWVudCA9IGVsZW1lbnQgPT4geyBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7IH07XG5cbiAgbGV0IGhvdGVsUGhvdG9zSW5pdGVkID0gZmFsc2U7XG5cbiAgY29uc3QgZGF0YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGF0dHJpYnV0ZU5hbWVUb1F1ZXJ5KGRhdGFBdHRyaWJ1dGVOYW1lKSk7XG4gIGNvbnN0IGRhdGFUcmlnZ2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYXR0cmlidXRlTmFtZVRvUXVlcnkoZGF0YVRyaWdnZXJBdHRyaWJ1dGVOYW1lKSk7XG5cbiAgZGF0YXMuZm9yRWFjaChkYXRhID0+IGhpZGVFbGVtZW50KGRhdGEpKTtcblxuICBkYXRhVHJpZ2dlcnMuZm9yRWFjaChkYXRhVHJpZ2dlciA9PiB7XG4gICAgZGF0YVRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGRhdGFzLmZvckVhY2goZGF0YSA9PiBoaWRlRWxlbWVudChkYXRhKSk7XG5cbiAgICAgIGRhdGFUcmlnZ2Vycy5mb3JFYWNoKGRhdGFUcmlnZ2VyMiA9PiB7XG4gICAgICAgIGRhdGFUcmlnZ2VyMi5jbGFzc0xpc3QucmVtb3ZlKGdvbGRCZ0NsYXNzKTtcbiAgICAgIH0pO1xuXG4gICAgICBkYXRhVHJpZ2dlci5jbGFzc0xpc3QuYWRkKGdvbGRCZ0NsYXNzKTtcblxuXG4gICAgICBzaG93RWxlbWVudChcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICBjcmVhdGVRdWVyeUZvckRhdGFCeUlkKGRhdGFUcmlnZ2VyLmdldEF0dHJpYnV0ZShkYXRhVHJpZ2dlckF0dHJpYnV0ZU5hbWUpKVxuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICBpZiAoZGF0YVRyaWdnZXIuZ2V0QXR0cmlidXRlKGRhdGFUcmlnZ2VyQXR0cmlidXRlTmFtZSkgPT09IFwiNlwiICYmICFob3RlbFBob3Rvc0luaXRlZCkge1xuICAgICAgICBob3RlbFBob3Rvc0luaXRlZCA9IHRydWU7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc2xpZGVyRWxlbWVudFF1ZXJ5ID0gXCIuSG90ZWxQYWdlX19Ob21lclBob3RvU2xpZGVyXCI7XG4gICAgICAgICAgXG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzbGlkZXJFbGVtZW50UXVlcnkpLmZvckVhY2goZWxlbSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzcGxpZGUgPSBuZXcgU3BsaWRlKGVsZW0sIHtcbiAgICAgICAgICAgICAgdHlwZTogXCJsb29wXCIsXG4gICAgICAgICAgICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgICAgICAgICAgICBwZXJQYWdlOiAzLFxuICAgICAgICAgICAgICBwZXJNb3ZlOiAxLFxuICAgICAgICAgICAgICBkaXJlY3Rpb246IFwidHRiXCIsXG4gICAgICAgICAgICAgIGhlaWdodDogXCI2NzVweFwiLFxuICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgbGF6eUxvYWQ6IFwibmVhcmJ5XCIsXG4gICAgICAgICAgICAgIGFycm93UGF0aDogXCJNMi4wMTYyIDM5Ljk1NDFDMy4zNzkyMyA0MS4zNDg2IDUuNTgwNTYgNDEuMzQ4NiA2Ljk0MzU5IDM5Ljk1NDFMMjIuOTgzOCAyMy40NDUyQzI0LjMzODcgMjIuMDQyMyAyNC4zMzg3IDE5Ljc3NjcgMjIuOTgzOCAxOC4zNzM4TDYuOTQzNTkgMS44NjQ4N0M1LjU1NzA3IDAuNjQyNzkgMy40OTAyNSAwLjcyNDk1NCAyLjE5OTQ1IDIuMDUzNDdDMC45MDg2NTQgMy4zODE5OSAwLjgyODgyMSA1LjUwOTIxIDIuMDE2MiA2LjkzNjI0TDE1LjU3NTIgMjAuOTI3NUwyLjAxNjIgMzQuODgyN0MwLjY2MTI2NiAzNi4yODU2IDAuNjYxMjY2IDM4LjU1MTIgMi4wMTYyIDM5Ljk1NDFaXCJcbiAgICAgICAgICAgIH0pLm1vdW50KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIDEwMCk7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc2xpZGVyRWxlbWVudFF1ZXJ5ID0gXCIuSG90ZWxQYWdlX19Ob21lck1vYmlsZVBob3RvU2xpZGVyXCI7XG4gICAgICAgICAgXG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzbGlkZXJFbGVtZW50UXVlcnkpLmZvckVhY2goZWxlbSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzcGxpZGUgPSBuZXcgU3BsaWRlKGVsZW0sIHtcbiAgICAgICAgICAgICAgdHlwZTogXCJsb29wXCIsXG4gICAgICAgICAgICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgICAgICAgICAgICBwZXJQYWdlOiAxLFxuICAgICAgICAgICAgICBwZXJNb3ZlOiAxLFxuICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgbGF6eUxvYWQ6IFwibmVhcmJ5XCIsXG4gICAgICAgICAgICAgIHByZWxvYWRQYWdlczogMyxcbiAgICAgICAgICAgICAgZ2FwOiBcIjJlbVwiLFxuICAgICAgICAgICAgICB0aHJvdHRsZTogMTAsXG4gICAgICAgICAgICAgIGFycm93UGF0aDogXCJNMS4wNjAzOSAzOC45NTQxQzIuNDgyNjcgNDAuMzQ4NiA0Ljc3OTcyIDQwLjM0ODYgNi4yMDIgMzguOTU0MUwyMi45Mzk2IDIyLjQ0NTJDMjQuMzUzNSAyMS4wNDIzIDI0LjM1MzUgMTguNzc2NyAyMi45Mzk2IDE3LjM3MzhMNi4yMDIgMC44NjQ4NzFDNC43NTUyIC0wLjM1NzIxIDIuNTk4NTIgLTAuMjc1MDQ2IDEuMjUxNiAxLjA1MzQ3Qy0wLjA5NTMxODggMi4zODE5OSAtMC4xNzg2MjMgNC41MDkyMSAxLjA2MDM5IDUuOTM2MjRMMTUuMjA5IDE5LjkyNzVMMS4wNjAzOSAzMy44ODI3Qy0wLjM1MzQ2MyAzNS4yODU2IC0wLjM1MzQ2MyAzNy41NTEyIDEuMDYwMzkgMzguOTU0MVpcIlxuICAgICAgICAgICAgfSkubW91bnQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMTAwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59KSgpOyIsIigoKSA9PiB7XHJcbiAgY29uc3QgbW9iaWxlU2lkZWJhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vYmlsZS1zaWRlYmFyXCIpO1xyXG4gIGNvbnN0IG1vYmlsZVNpZGViYXJUcmlnZ2VyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9iaWxlLXNpZGViYXItdHJpZ2dlclwiKTtcclxuICBjb25zdCBtb2JpbGVTaWRlYmFyQ2xvc2VUcmlnZ2VyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9iaWxlLXNpZGViYXJfX2Nsb3NlLXRyaWdnZXJcIik7XHJcbiAgY29uc3QgbW9iaWxlU2lkZWJhclNjcmVlbmxvY2tFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2JpbGUtc2lkZWJhcl9fc2NyZWVubG9ja1wiKTtcclxuICBjb25zdCBtb2JpbGVTaWRlYmFySXRlbUVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2JpbGUtc2lkZWJhcl9faXRlbVwiKTtcclxuXHJcbiAgY29uc3QgbW9iaWxlU2lkZWJhckFjdGl2ZUNsYXNzID0gXCJtb2JpbGUtc2lkZWJhci0tYWN0aXZlXCI7XHJcblxyXG4gIGlmIChcclxuICAgICFtb2JpbGVTaWRlYmFyRWxlbWVudCBcclxuICAgIHx8ICFtb2JpbGVTaWRlYmFyVHJpZ2dlckVsZW1lbnQgXHJcbiAgICB8fCAhbW9iaWxlU2lkZWJhckNsb3NlVHJpZ2dlckVsZW1lbnQgXHJcbiAgICB8fCAhbW9iaWxlU2lkZWJhclNjcmVlbmxvY2tFbGVtZW50XHJcbiAgICB8fCBtb2JpbGVTaWRlYmFySXRlbUVsZW1lbnRzLmxlbmd0aCA9PT0gMCBcclxuICApIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcbiAgICBtb2JpbGVTaWRlYmFyRWxlbWVudC5jbGFzc0xpc3QuYWRkKG1vYmlsZVNpZGViYXJBY3RpdmVDbGFzcyk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY2xvc2VTaWRlYmFyID0gKCkgPT4ge1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiYXV0b1wiO1xyXG4gICAgbW9iaWxlU2lkZWJhckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShtb2JpbGVTaWRlYmFyQWN0aXZlQ2xhc3MpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IG1vYmlsZVdpZHRoTGltaXQgPSA3Njk7XHJcbiAgICBcclxuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+PSBtb2JpbGVXaWR0aExpbWl0KSB7XHJcbiAgICAgIGNsb3NlU2lkZWJhcigpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIG1vYmlsZVNpZGViYXJJdGVtRWxlbWVudHMuZm9yRWFjaChtb2JpbGVTaWRlYmFySXRlbUVsZW1lbnQgPT4ge1xyXG4gICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVNpZGViYXJJdGVtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vYmlsZS1zaWRlYmFyX19zdWJtZW51LXRyaWdnZXJcIik7XHJcbiAgICBjb25zdCBzdWJtZW51ID0gbW9iaWxlU2lkZWJhckl0ZW1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9iaWxlLXNpZGViYXJfX3N1Ym1lbnVcIik7XHJcbiAgICBcclxuICAgIHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2JpbGUtc2lkZWJhcl9fc3VibWVudVwiKVxyXG4gICAgICAgIC5mb3JFYWNoKHN1Ym1lbnVFYWNoID0+IHtcclxuICAgICAgICAgIGlmIChzdWJtZW51RWFjaCAhPT0gc3VibWVudSkge1xyXG4gICAgICAgICAgICBzdWJtZW51RWFjaC5jbGFzc0xpc3QucmVtb3ZlKFwibW9iaWxlLXNpZGViYXJfX3N1Ym1lbnUtLWFjdGl2ZVwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgc3VibWVudS5jbGFzc0xpc3QudG9nZ2xlKFwibW9iaWxlLXNpZGViYXJfX3N1Ym1lbnUtLWFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBoYW5kbGVSZXNpemUpO1xyXG4gIG1vYmlsZVNpZGViYXJUcmlnZ2VyRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb3BlblNpZGViYXIpO1xyXG4gIG1vYmlsZVNpZGViYXJDbG9zZVRyaWdnZXJFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZVNpZGViYXIpO1xyXG4gIG1vYmlsZVNpZGViYXJTY3JlZW5sb2NrRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VTaWRlYmFyKTtcclxufSkoKTtcclxuXHJcblxyXG4oKCkgPT4ge1xyXG4gIGNvbnN0IG1vYmlsZVNpZGViYXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5Nb2JpbGVTaWRlYmFyXCIpO1xyXG4gIGNvbnN0IG1vYmlsZVNpZGViYXJUcmlnZ2VyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9iaWxlLXNpZGViYXItdHJpZ2dlclwiKTtcclxuICBjb25zdCBtb2JpbGVTaWRlYmFyQ2xvc2VUcmlnZ2VyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuTW9iaWxlU2lkZWJhcl9fQ2xvc2VUcmlnZ2VyXCIpO1xyXG4gIGNvbnN0IG1vYmlsZVNpZGViYXJTY3JlZW5sb2NrRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuTW9iaWxlU2lkZWJhcl9fU2NyZWVuTG9ja1wiKTtcclxuICBjb25zdCBtb2JpbGVTaWRlYmFySXRlbUVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5Nb2JpbGVTaWRlYmFyX19TZWNvbmRDb250ZW50SXRlbVwiKTtcclxuXHJcbiAgY29uc3QgbW9iaWxlU2lkZWJhckFjdGl2ZUNsYXNzID0gXCJNb2JpbGVTaWRlYmFyLS1BY3RpdmVcIjtcclxuXHJcbiAgaWYgKFxyXG4gICAgIW1vYmlsZVNpZGViYXJFbGVtZW50IFxyXG4gICAgfHwgIW1vYmlsZVNpZGViYXJUcmlnZ2VyRWxlbWVudCBcclxuICAgIHx8ICFtb2JpbGVTaWRlYmFyQ2xvc2VUcmlnZ2VyRWxlbWVudCBcclxuICAgIHx8ICFtb2JpbGVTaWRlYmFyU2NyZWVubG9ja0VsZW1lbnRcclxuICAgIHx8IG1vYmlsZVNpZGViYXJJdGVtRWxlbWVudHMubGVuZ3RoID09PSAwIFxyXG4gICkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgb3BlblNpZGViYXIgPSAoKSA9PiB7XHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuICAgIG1vYmlsZVNpZGViYXJFbGVtZW50LmNsYXNzTGlzdC5hZGQobW9iaWxlU2lkZWJhckFjdGl2ZUNsYXNzKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBjbG9zZVNpZGViYXIgPSAoKSA9PiB7XHJcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJhdXRvXCI7XHJcbiAgICBtb2JpbGVTaWRlYmFyRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKG1vYmlsZVNpZGViYXJBY3RpdmVDbGFzcyk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlUmVzaXplID0gKCkgPT4ge1xyXG4gICAgY29uc3QgbW9iaWxlV2lkdGhMaW1pdCA9IDc2OTtcclxuICAgIFxyXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoID49IG1vYmlsZVdpZHRoTGltaXQpIHtcclxuICAgICAgY2xvc2VTaWRlYmFyKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgbW9iaWxlU2lkZWJhckl0ZW1FbGVtZW50cy5mb3JFYWNoKG1vYmlsZVNpZGViYXJJdGVtRWxlbWVudCA9PiB7XHJcbiAgICBjb25zdCB0cmlnZ2VyID0gbW9iaWxlU2lkZWJhckl0ZW1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuTW9iaWxlU2lkZWJhcl9fU2Vjb25kQ29udGVudFN1Ym1lbnVUcmlnZ2VyXCIpO1xyXG4gICAgY29uc3Qgc3VibWVudSA9IG1vYmlsZVNpZGViYXJJdGVtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLk1vYmlsZVNpZGViYXJfX1NlY29uZENvbnRlbnRTdWJtZW51XCIpO1xyXG4gICAgXHJcbiAgICB0cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuTW9iaWxlU2lkZWJhcl9fU2Vjb25kQ29udGVudFN1Ym1lbnVcIilcclxuICAgICAgICAuZm9yRWFjaChzdWJtZW51RWFjaCA9PiB7XHJcbiAgICAgICAgICBpZiAoc3VibWVudUVhY2ggIT09IHN1Ym1lbnUpIHtcclxuICAgICAgICAgICAgc3VibWVudUVhY2guY2xhc3NMaXN0LnJlbW92ZShcIk1vYmlsZVNpZGViYXJfX1NlY29uZENvbnRlbnRTdWJtZW51LS1BY3RpdmVcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIHN1Ym1lbnUuY2xhc3NMaXN0LnRvZ2dsZShcIk1vYmlsZVNpZGViYXJfX1NlY29uZENvbnRlbnRTdWJtZW51LS1BY3RpdmVcIik7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKTtcclxuICBtb2JpbGVTaWRlYmFyVHJpZ2dlckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5TaWRlYmFyKTtcclxuICBtb2JpbGVTaWRlYmFyQ2xvc2VUcmlnZ2VyRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VTaWRlYmFyKTtcclxuICBtb2JpbGVTaWRlYmFyU2NyZWVubG9ja0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlU2lkZWJhcik7XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgY29uc3QgYWNjb3JkaW9uUXVlcnkgPSBcIi5yaC1hY2NvcmRpb25cIjtcclxuICBjb25zdCBhY2NvcmRpb25UcmlnZ2VyUXVlcnkgPSBcIi5yaC1hY2NvcmRpb25fX3RyaWdnZXJcIjtcclxuICBjb25zdCBhY2NvcmRpb25BY3RpdmVDbGFzcyA9IFwicmgtYWNjb3JkaW9uLS1hY3RpdmVcIjtcclxuXHJcbiAgY29uc3QgYWNjb3JkaW9uRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGFjY29yZGlvblF1ZXJ5KTtcclxuXHJcbiAgaWYgKCFhY2NvcmRpb25FbGVtZW50cykge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgYWNjb3JkaW9uRWxlbWVudHMuZm9yRWFjaChhY2NvcmRpb24gPT4ge1xyXG4gICAgYWNjb3JkaW9uLnF1ZXJ5U2VsZWN0b3IoYWNjb3JkaW9uVHJpZ2dlclF1ZXJ5KS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBhY2NvcmRpb24uY2xhc3NMaXN0LnRvZ2dsZShhY2NvcmRpb25BY3RpdmVDbGFzcyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSkoKTtcclxuXHJcbigoKSA9PiB7XHJcbiAgY29uc3QgYWNjb3JkaW9uUXVlcnkgPSBcIi5SSEFjY29yZGlvblwiO1xyXG4gIGNvbnN0IGFjY29yZGlvblRyaWdnZXJRdWVyeSA9IFwiLlJIQWNjb3JkaW9uX19UcmlnZ2VyXCI7XHJcbiAgY29uc3QgYWNjb3JkaW9uQWN0aXZlQ2xhc3MgPSBcIlJIQWNjb3JkaW9uLS1BY3RpdmVcIjtcclxuXHJcbiAgY29uc3QgYWNjb3JkaW9uRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGFjY29yZGlvblF1ZXJ5KTtcclxuXHJcbiAgaWYgKCFhY2NvcmRpb25FbGVtZW50cykge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgYWNjb3JkaW9uRWxlbWVudHMuZm9yRWFjaChhY2NvcmRpb24gPT4ge1xyXG4gICAgYWNjb3JkaW9uLnF1ZXJ5U2VsZWN0b3IoYWNjb3JkaW9uVHJpZ2dlclF1ZXJ5KS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBhY2NvcmRpb24uY2xhc3NMaXN0LnRvZ2dsZShhY2NvcmRpb25BY3RpdmVDbGFzcyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSkoKTtcclxuIiwiKCgpID0+IHtcclxuICBjb25zdCB0b3VyU2VhcmNoQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLWZvcm0tc3dpdGNoX19idXR0b25fdG91clwiKTtcclxuICBjb25zdCBob3RlbFNlYXJjaEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1mb3JtLXN3aXRjaF9fYnV0dG9uX2hvdGVsXCIpO1xyXG4gIGNvbnN0IHRvdXJTZWFyY2hGb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLWZvcm0tc3dpdGNoX19mb3JtX3RvdXJcIik7XHJcbiAgY29uc3QgaG90ZWxTZWFyY2hGb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLWZvcm0tc3dpdGNoX19mb3JtX2hvdGVsXCIpO1xyXG5cclxuICBpZiAoXHJcbiAgICAhdG91clNlYXJjaEJ1dHRvbkVsZW1lbnQgXHJcbiAgICB8fCAhaG90ZWxTZWFyY2hCdXR0b25FbGVtZW50XHJcbiAgICB8fCAhdG91clNlYXJjaEZvcm1FbGVtZW50XHJcbiAgICB8fCAhaG90ZWxTZWFyY2hGb3JtRWxlbWVudFxyXG4gICkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgYnV0dG9uQWN0aXZlQ2xhc3MgPSBcInNlYXJjaC1mb3JtLXN3aXRjaF9fYnV0dG9uLS1hY3RpdmVcIjtcclxuICBjb25zdCBmb3JtQWN0aXZlQ2xhc3MgPSBcInNlYXJjaC1mb3JtLXN3aXRjaF9fZm9ybS0tYWN0aXZlXCI7XHJcblxyXG4gIHRvdXJTZWFyY2hCdXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICB0b3VyU2VhcmNoQnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKGJ1dHRvbkFjdGl2ZUNsYXNzKTtcclxuICAgIHRvdXJTZWFyY2hGb3JtRWxlbWVudC5jbGFzc0xpc3QuYWRkKGZvcm1BY3RpdmVDbGFzcyk7XHJcbiAgICBob3RlbFNlYXJjaEJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShidXR0b25BY3RpdmVDbGFzcyk7XHJcbiAgICBob3RlbFNlYXJjaEZvcm1FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoZm9ybUFjdGl2ZUNsYXNzKTtcclxuICB9KTtcclxuXHJcbiAgaG90ZWxTZWFyY2hCdXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBob3RlbFNlYXJjaEJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChidXR0b25BY3RpdmVDbGFzcyk7XHJcbiAgICBob3RlbFNlYXJjaEZvcm1FbGVtZW50LmNsYXNzTGlzdC5hZGQoZm9ybUFjdGl2ZUNsYXNzKTtcclxuICAgIHRvdXJTZWFyY2hCdXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoYnV0dG9uQWN0aXZlQ2xhc3MpO1xyXG4gICAgdG91clNlYXJjaEZvcm1FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoZm9ybUFjdGl2ZUNsYXNzKTtcclxuICB9KTtcclxufSkoKTtcclxuIiwiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IHNsaWRlckVsZW1lbnRRdWVyeSA9IFwiLkNvdW50cnlQYWdlX19UYWJzQ29udGFpbmVyLS1TY3JvbGxcIjtcclxuXHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2xpZGVyRWxlbWVudFF1ZXJ5KSkge1xyXG4gICAgbmV3IFNwbGlkZShzbGlkZXJFbGVtZW50UXVlcnksIHtcclxuICAgICAgYXV0b3BsYXk6IGZhbHNlLFxyXG4gICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICBwYWdpbmF0aW9uOiBmYWxzZSxcclxuICAgICAgYXV0b1dpZHRoOiB0cnVlLFxyXG4gICAgfSkubW91bnQoKTtcclxuICB9XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IHNsaWRlckVsZW1lbnRRdWVyeSA9IFwiLkhvdGVsUGFnZV9fVGFic0NvbnRhaW5lci0tU2Nyb2xsXCI7XHJcblxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNsaWRlckVsZW1lbnRRdWVyeSkpIHtcclxuICAgIG5ldyBTcGxpZGUoc2xpZGVyRWxlbWVudFF1ZXJ5LCB7XHJcbiAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgcGVyTW92ZTogMSxcclxuICAgICAgcGFnaW5hdGlvbjogZmFsc2UsXHJcbiAgICAgIGF1dG9XaWR0aDogdHJ1ZSxcclxuICAgIH0pLm1vdW50KCk7XHJcbiAgfVxyXG59KTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcclxuICBjb25zdCBzbGlkZXJFbGVtZW50UXVlcnkgPSBcIi5Ib3RlbFBhZ2VfX1Bob3RvU2xpZGVyXCI7XHJcbiAgY29uc3Qgc2xpZGVyQ29udGFpbmVyRWxlbWVudFF1ZXJ5ID0gXCIuSG90ZWxQYWdlX19QaG90b1NsaWRlckNvbnRhaW5lclwiO1xyXG4gIGNvbnN0IHNsaWRlckNvbnRhaW5lckFjdGl2ZUNsYXNzID0gXCJIb3RlbFBhZ2VfX1Bob3RvU2xpZGVyQ29udGFpbmVyLS1BY3RpdmVcIjtcclxuXHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2xpZGVyRWxlbWVudFF1ZXJ5KSkge1xyXG4gICAgY29uc3Qgc3BsaWRlID0gbmV3IFNwbGlkZShzbGlkZXJFbGVtZW50UXVlcnksIHtcclxuICAgICAgdHlwZTogXCJsb29wXCIsXHJcbiAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICBhdXRvV2lkdGg6IHRydWUsXHJcbiAgICAgIHBlclBhZ2U6IDUsXHJcbiAgICAgIHBlck1vdmU6IDEsXHJcbiAgICAgIHBhZ2luYXRpb246IGZhbHNlLFxyXG4gICAgICBsYXp5TG9hZDogXCJuZWFyYnlcIixcclxuICAgICAgcHJlbG9hZFBhZ2VzOiA1LFxyXG4gICAgICB0aHJvdHRsZTogMTAsXHJcbiAgICAgIGFycm93UGF0aDogXCJNMS4wNjAzOSAzOC45NTQxQzIuNDgyNjcgNDAuMzQ4NiA0Ljc3OTcyIDQwLjM0ODYgNi4yMDIgMzguOTU0MUwyMi45Mzk2IDIyLjQ0NTJDMjQuMzUzNSAyMS4wNDIzIDI0LjM1MzUgMTguNzc2NyAyMi45Mzk2IDE3LjM3MzhMNi4yMDIgMC44NjQ4NzFDNC43NTUyIC0wLjM1NzIxIDIuNTk4NTIgLTAuMjc1MDQ2IDEuMjUxNiAxLjA1MzQ3Qy0wLjA5NTMxODggMi4zODE5OSAtMC4xNzg2MjMgNC41MDkyMSAxLjA2MDM5IDUuOTM2MjRMMTUuMjA5IDE5LjkyNzVMMS4wNjAzOSAzMy44ODI3Qy0wLjM1MzQ2MyAzNS4yODU2IC0wLjM1MzQ2MyAzNy41NTEyIDEuMDYwMzkgMzguOTU0MVpcIlxyXG4gICAgfSkubW91bnQoKTtcclxuICAgIGNvbnN0IHRyYWNrID0gc3BsaWRlLkNvbXBvbmVudHMuRWxlbWVudHMudHJhY2s7XHJcblxyXG4gICAgbGV0IHpvb21lZCA9IGZhbHNlO1xyXG4gICAgXHJcbiAgICBzcGxpZGUub24oXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGlmICghem9vbWVkKSB7XHJcbiAgICAgICAgem9vbWVkID0gdHJ1ZTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNsaWRlckNvbnRhaW5lckVsZW1lbnRRdWVyeSkuY2xhc3NMaXN0LmFkZChzbGlkZXJDb250YWluZXJBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgc3BsaWRlLm9wdGlvbnMgPSB7IHBlclBhZ2U6IDEgfTtcclxuICAgICAgICBzcGxpZGUucmVmcmVzaCgpO1xyXG4gICAgICB9XHJcbiAgICB9LCB0cmFjayk7XHJcblxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5Ib3RlbFBhZ2VfX1Bob3RvU2xpZGVyU2NyZWVuTG9ja1wiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBpZiAoem9vbWVkKSB7XHJcbiAgICAgICAgem9vbWVkID0gZmFsc2U7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzbGlkZXJDb250YWluZXJFbGVtZW50UXVlcnkpLmNsYXNzTGlzdC5yZW1vdmUoc2xpZGVyQ29udGFpbmVyQWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgIHNwbGlkZS5vcHRpb25zID0geyBwZXJQYWdlOiA1IH07XHJcbiAgICAgICAgc3BsaWRlLnJlZnJlc2goKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcclxuLy8gICBzZXRUaW1lb3V0KCgpID0+IHtcclxuLy8gICAgIGNvbnN0IHNsaWRlckVsZW1lbnRRdWVyeSA9IFwiLkhvdGVsUGFnZV9fTm9tZXJQaG90b1NsaWRlclwiO1xyXG5cclxuLy8gICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2xpZGVyRWxlbWVudFF1ZXJ5KS5mb3JFYWNoKGVsZW0gPT4ge1xyXG4vLyAgICAgICBuZXcgU3BsaWRlKGVsZW0sIHtcclxuLy8gICAgICAgICB0eXBlOiBcImxvb3BcIixcclxuLy8gICAgICAgICBhdXRvcGxheTogdHJ1ZSxcclxuLy8gICAgICAgICBwZXJQYWdlOiAzLFxyXG4vLyAgICAgICAgIHBlck1vdmU6IDEsXHJcbi8vICAgICAgICAgZGlyZWN0aW9uOiBcInR0YlwiLFxyXG4vLyAgICAgICAgIGhlaWdodDogXCI2NzVweFwiLFxyXG4vLyAgICAgICAgIHBhZ2luYXRpb246IGZhbHNlLFxyXG4vLyAgICAgICAgIGxhenlMb2FkOiBcIm5lYXJieVwiXHJcbi8vICAgICAgIH0pLm1vdW50KCk7XHJcbi8vICAgICB9KTtcclxuLy8gICB9LCAxMDApO1xyXG4vLyB9KTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcclxuICBjb25zdCBzbGlkZXJFbGVtZW50UXVlcnkgPSBcIi5iMmItdG9wLXNsaWRlclwiO1xyXG5cclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzbGlkZXJFbGVtZW50UXVlcnkpKSB7XHJcbiAgICBuZXcgU3BsaWRlKHNsaWRlckVsZW1lbnRRdWVyeSwge1xyXG4gICAgICB0eXBlOiBcImxvb3BcIixcclxuICAgICAgYXV0b3BsYXk6IHRydWUsXHJcbiAgICAgIGFycm93czogZmFsc2VcclxuICAgIH0pLm1vdW50KCk7XHJcbiAgfVxyXG59KTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcclxuICBjb25zdCBzbGlkZXJFbGVtZW50UXVlcnkgPSBcIi53aXRoLXlvdS1zbGlkZXJcIjtcclxuXHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2xpZGVyRWxlbWVudFF1ZXJ5KSkge1xyXG4gICAgbmV3IFNwbGlkZShzbGlkZXJFbGVtZW50UXVlcnksIHtcclxuICAgICAgdHlwZTogXCJsb29wXCIsXHJcbiAgICAgIHBhZ2luYXRpb246IGZhbHNlXHJcbiAgICB9KS5tb3VudCgpO1xyXG4gIH1cclxufSk7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XHJcbiAgY29uc3Qgc2xpZGVyRWxlbWVudFF1ZXJ5ID0gXCIub3VyLWd1ZXN0cy1zbGlkZXJcIjtcclxuICBjb25zdCBzbGlkZXJFbGVtZW50UXVlcnlNb2JpbGUgPSBcIi5vdXItZ3Vlc3RzLXNsaWRlci0tbW9iaWxlXCI7XHJcblxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNsaWRlckVsZW1lbnRRdWVyeSkpIHtcclxuICAgIG5ldyBTcGxpZGUoc2xpZGVyRWxlbWVudFF1ZXJ5LCB7XHJcbiAgICAgIHR5cGU6IFwibG9vcFwiLFxyXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgYXJyb3dzOiB0cnVlLFxyXG4gICAgICBwYWdpbmF0aW9uOiBmYWxzZSxcclxuICAgICAgZ2FwOiAyMCxcclxuICAgICAgcGVyUGFnZTogM1xyXG4gICAgfSkubW91bnQoKTtcclxuICB9XHJcblxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNsaWRlckVsZW1lbnRRdWVyeU1vYmlsZSkpIHtcclxuICAgIG5ldyBTcGxpZGUoc2xpZGVyRWxlbWVudFF1ZXJ5TW9iaWxlLCB7XHJcbiAgICAgIHR5cGU6IFwibG9vcFwiLFxyXG4gICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgYXJyb3dzOiB0cnVlLFxyXG4gICAgICBwYWdpbmF0aW9uOiBmYWxzZSxcclxuICAgICAgcGVyUGFnZTogMVxyXG4gICAgfSkubW91bnQoKTtcclxuICB9XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IHNsaWRlckVsZW1lbnRRdWVyeSA9IFwiLm91ci1nb29kcy1zbGlkZXJcIjtcclxuXHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2xpZGVyRWxlbWVudFF1ZXJ5KSkge1xyXG4gICAgbmV3IFNwbGlkZShzbGlkZXJFbGVtZW50UXVlcnksIHtcclxuICAgICAgdHlwZTogXCJsb29wXCIsXHJcbiAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgcGVyUGFnZTogMVxyXG4gICAgfSkubW91bnQoKTtcclxuICB9XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IHNsaWRlckVsZW1lbnRRdWVyeSA9IFwiLmIyYy1ibG9nLXNsaWRlclwiO1xyXG4gIGNvbnN0IHNsaWRlckVsZW1lbnRRdWVyeU1vYmlsZSA9IFwiLmIyYy1ibG9nLXNsaWRlci0tbW9iaWxlXCI7XHJcblxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNsaWRlckVsZW1lbnRRdWVyeSkpIHtcclxuICAgIG5ldyBTcGxpZGUoc2xpZGVyRWxlbWVudFF1ZXJ5LCB7XHJcbiAgICAgIHR5cGU6IFwibG9vcFwiLFxyXG4gICAgICBhdXRvcGxheTogZmFsc2UsXHJcbiAgICAgIGFycm93czogdHJ1ZSxcclxuICAgICAgcGFnaW5hdGlvbjogZmFsc2UsXHJcbiAgICAgIGdhcDogMjAsXHJcbiAgICAgIHBlclBhZ2U6IDRcclxuICAgIH0pLm1vdW50KCk7XHJcbiAgfVxyXG5cclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzbGlkZXJFbGVtZW50UXVlcnlNb2JpbGUpKSB7XHJcbiAgICBuZXcgU3BsaWRlKHNsaWRlckVsZW1lbnRRdWVyeU1vYmlsZSwge1xyXG4gICAgICB0eXBlOiBcImxvb3BcIixcclxuICAgICAgYXV0b3BsYXk6IHRydWUsXHJcbiAgICAgIGFycm93czogdHJ1ZSxcclxuICAgICAgcGFnaW5hdGlvbjogZmFsc2UsXHJcbiAgICAgIHBlclBhZ2U6IDFcclxuICAgIH0pLm1vdW50KCk7XHJcbiAgfVxyXG59KTtcclxuXHJcbiJdfQ==
