"use strict";function _defineProperty(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}!function(){var e="b2c-menu--to-right",o=document.querySelector(".b2c-menu"),t=document.querySelector(".b2c-menu__content"),r=document.querySelector(".b2c-menu__trigger");(o||t||r)&&(t.style.animation="none",r.addEventListener("click",function(){t.style.animation="",o.classList.toggle("b2c-menu--active")}),window.addEventListener("scroll",function(){0<window.scrollY-232?o.classList.add(e):o.classList.remove(e)}))}(),function(){function e(e){return"[".concat(e,"]")}function t(e){e.style.display="none"}function r(e){e.style.display="block"}var n="rh-country-data-section",c="rh-country-data-trigger",i="rh-country-data",a="rh-country-data-title",l="CountryPage__TabLink--Active",d=document.querySelectorAll(e(i)),u=document.querySelectorAll(e(n)),o=document.querySelectorAll(e(c)),s=document.querySelectorAll(e(a));d.forEach(t),u.forEach(t),s.forEach(function(e){return e.classList.remove(l)}),o.forEach(function(o){o.addEventListener("click",function(){var e;d.forEach(t),u.forEach(t),s.forEach(function(e){return e.classList.remove(l)}),r(document.querySelector((e=o.getAttribute(c),"[".concat(i,' = "').concat(e,'"]')))),r(document.querySelector((e=o.getAttribute("rh-country-data-section-trigger"),"[".concat(n,' = "').concat(e,'"]')))),document.querySelectorAll((e=o.getAttribute(c),"[".concat(a,' = "').concat(e,'"]'))).forEach(function(e){return e.classList.add(l)})})})}(),function(){var o=document.querySelector(".Feedback"),e=document.querySelectorAll(".Feedback__Trigger"),t=document.querySelector(".Feedback__Screenlock"),r=document.querySelector(".Feedback__CloseTrigger"),n="Feedback--Active";o&&e&&t&&r&&(e.forEach(function(e){e.addEventListener("click",function(){o.classList.add(n)})}),t.addEventListener("click",function(){o.classList.remove(n)}),r.addEventListener("click",function(){o.classList.remove(n)}))}(),function(){function e(e){return"[".concat(e,"]")}function t(e){e.style.display="none"}var r="hotel-tab-trigger-index",n="hotel-data",c="HotelPage__TabLink--Active",i=!1,a=document.querySelectorAll(e(n)),l=document.querySelectorAll(e(r));a.forEach(t),l.forEach(function(o){o.addEventListener("click",function(){var e;a.forEach(t),l.forEach(function(e){e.classList.remove(c)}),o.classList.add(c),document.querySelector((e=o.getAttribute(r),"[".concat(n,' = "').concat(e,'"]'))).style.display="block","6"!==o.getAttribute(r)||i||(i=!0,setTimeout(function(){document.querySelectorAll(".HotelPage__Nomer").forEach(function(e){var o=new Splide(e.querySelector(".HotelPage__NomerPhotoSlider"),{type:"loop",autoplay:!0,perPage:3,perMove:1,direction:"ttb",height:"675px",pagination:!1,lazyLoad:"nearby",preloadPages:3,arrowPath:"M2.0162 39.9541C3.37923 41.3486 5.58056 41.3486 6.94359 39.9541L22.9838 23.4452C24.3387 22.0423 24.3387 19.7767 22.9838 18.3738L6.94359 1.86487C5.55707 0.64279 3.49025 0.724954 2.19945 2.05347C0.908654 3.38199 0.828821 5.50921 2.0162 6.93624L15.5752 20.9275L2.0162 34.8827C0.661266 36.2856 0.661266 38.5512 2.0162 39.9541Z"}).mount();new Splide(e.querySelector(".HotelPage__NomerMobilePhotoSlider"),{type:"loop",autoplay:!0,perPage:1,perMove:1,pagination:!1,lazyLoad:"nearby",preloadPages:3,gap:"2em",arrowPath:"M1.06039 38.9541C2.48267 40.3486 4.77972 40.3486 6.202 38.9541L22.9396 22.4452C24.3535 21.0423 24.3535 18.7767 22.9396 17.3738L6.202 0.864871C4.7552 -0.35721 2.59852 -0.275046 1.2516 1.05347C-0.0953188 2.38199 -0.178623 4.50921 1.06039 5.93624L15.209 19.9275L1.06039 33.8827C-0.353463 35.2856 -0.353463 37.5512 1.06039 38.9541Z"}).mount();new Splide(e.querySelector(".HotelPage__NomerPopupPhotoSlider--Desktop"),{type:"loop",autoplay:!0,perPage:1,perMove:1,pagination:!1,lazyLoad:"nearby",preloadPages:3,arrowPath:"M1.06039 38.9541C2.48267 40.3486 4.77972 40.3486 6.202 38.9541L22.9396 22.4452C24.3535 21.0423 24.3535 18.7767 22.9396 17.3738L6.202 0.864871C4.7552 -0.35721 2.59852 -0.275046 1.2516 1.05347C-0.0953188 2.38199 -0.178623 4.50921 1.06039 5.93624L15.209 19.9275L1.06039 33.8827C-0.353463 35.2856 -0.353463 37.5512 1.06039 38.9541Z"}).sync(o).mount(),o.on("click",function(){e.querySelector(".HotelPage__NomerPopupPhotoSliderContainer").classList.add("HotelPage__NomerPopupPhotoSliderContainer--ActiveDesktop")}),e.querySelector(".HotelPage__NomerPopupScreenlock").addEventListener("click",function(){e.querySelector(".HotelPage__NomerPopupPhotoSliderContainer").classList.remove("HotelPage__NomerPopupPhotoSliderContainer--ActiveMobile","HotelPage__NomerPopupPhotoSliderContainer--ActiveDesktop")})})},100))})})}(),function(){var e,o=document.querySelector(".mobile-sidebar"),t=document.querySelector(".mobile-sidebar-trigger"),r=document.querySelector(".mobile-sidebar__close-trigger"),n=document.querySelector(".mobile-sidebar__screenlock"),c=document.querySelectorAll(".mobile-sidebar__item"),i="mobile-sidebar--active";o&&t&&r&&n&&0!==c.length&&(e=function(){document.body.style.overflow="auto",o.classList.remove(i)},c.forEach(function(e){var o=e.querySelector(".mobile-sidebar__submenu-trigger"),t=e.querySelector(".mobile-sidebar__submenu");o.addEventListener("click",function(){document.querySelectorAll(".mobile-sidebar__submenu").forEach(function(e){e!==t&&e.classList.remove("mobile-sidebar__submenu--active")}),t.classList.toggle("mobile-sidebar__submenu--active")})}),window.addEventListener("resize",function(){769<=window.innerWidth&&e()}),t.addEventListener("click",function(){document.body.style.overflow="hidden",o.classList.add(i)}),r.addEventListener("click",e),n.addEventListener("click",e))}(),function(){var e,o=document.querySelector(".MobileSidebar"),t=document.querySelector(".mobile-sidebar-trigger"),r=document.querySelector(".MobileSidebar__CloseTrigger"),n=document.querySelector(".MobileSidebar__ScreenLock"),c=document.querySelectorAll(".MobileSidebar__SecondContentItem"),i="MobileSidebar--Active";o&&t&&r&&n&&0!==c.length&&(e=function(){document.body.style.overflow="auto",o.classList.remove(i)},c.forEach(function(e){var o=e.querySelector(".MobileSidebar__SecondContentSubmenuTrigger"),t=e.querySelector(".MobileSidebar__SecondContentSubmenu");o.addEventListener("click",function(){document.querySelectorAll(".MobileSidebar__SecondContentSubmenu").forEach(function(e){e!==t&&e.classList.remove("MobileSidebar__SecondContentSubmenu--Active")}),t.classList.toggle("MobileSidebar__SecondContentSubmenu--Active")})}),window.addEventListener("resize",function(){769<=window.innerWidth&&e()}),t.addEventListener("click",function(){document.body.style.overflow="hidden",o.classList.add(i)}),r.addEventListener("click",e),n.addEventListener("click",e))}(),function(){var e=document.querySelectorAll(".rh-accordion");e&&e.forEach(function(e){e.querySelector(".rh-accordion__trigger").addEventListener("click",function(){e.classList.toggle("rh-accordion--active")})})}(),function(){var e=document.querySelectorAll(".RHAccordion");e&&e.forEach(function(e){e.querySelector(".RHAccordion__Trigger").addEventListener("click",function(){e.classList.toggle("RHAccordion--Active")})})}(),function(){var e,o,t=document.querySelector(".search-form-switch__button_tour"),r=document.querySelector(".search-form-switch__button_hotel"),n=document.querySelector(".search-form-switch__form_tour"),c=document.querySelector(".search-form-switch__form_hotel");t&&r&&n&&c&&(e="search-form-switch__button--active",o="search-form-switch__form--active",t.addEventListener("click",function(){t.classList.add(e),n.classList.add(o),r.classList.remove(e),c.classList.remove(o)}),r.addEventListener("click",function(){r.classList.add(e),c.classList.add(o),t.classList.remove(e),n.classList.remove(o)}))}(),document.addEventListener("DOMContentLoaded",function(){var e=".CountryPage__TabsContainer--Scroll";document.querySelector(e)&&new Splide(e,{autoplay:!1,arrows:!1,pagination:!1,autoWidth:!0}).mount()}),document.addEventListener("DOMContentLoaded",function(){var e=".HotelPage__TabsContainer--Scroll";document.querySelector(e)&&new Splide(e,{autoplay:!1,arrows:!1,perMove:1,pagination:!1,autoWidth:!0}).mount()}),document.addEventListener("DOMContentLoaded",function(){var e,o,t,r;document.querySelector(".HotelPage__PhotoSlider--Base")&&(o=new Splide(".HotelPage__PhotoSlider--Base",(_defineProperty(e={type:"loop",autoWidth:!0,perPage:5,perMove:1,pagination:!1,lazyLoad:"nearby",preloadPages:5},"preloadPages",5),_defineProperty(e,"arrowPath","M1.06039 38.9541C2.48267 40.3486 4.77972 40.3486 6.202 38.9541L22.9396 22.4452C24.3535 21.0423 24.3535 18.7767 22.9396 17.3738L6.202 0.864871C4.7552 -0.35721 2.59852 -0.275046 1.2516 1.05347C-0.0953188 2.38199 -0.178623 4.50921 1.06039 5.93624L15.209 19.9275L1.06039 33.8827C-0.353463 35.2856 -0.353463 37.5512 1.06039 38.9541Z"),e)),t=new Splide(".HotelPage__PhotoSlider--Popup",{type:"loop",autoWidth:!0,perPage:1,perMove:1,pagination:!1,lazyLoad:"nearby",preloadPages:5,arrowPath:"M1.06039 38.9541C2.48267 40.3486 4.77972 40.3486 6.202 38.9541L22.9396 22.4452C24.3535 21.0423 24.3535 18.7767 22.9396 17.3738L6.202 0.864871C4.7552 -0.35721 2.59852 -0.275046 1.2516 1.05347C-0.0953188 2.38199 -0.178623 4.50921 1.06039 5.93624L15.209 19.9275L1.06039 33.8827C-0.353463 35.2856 -0.353463 37.5512 1.06039 38.9541Z"}),(r=new Splide(".HotelPage__PhotoSlider--PopupBottom",{type:"loop",autoWidth:!0,perPage:1,perMove:1,pagination:!1,lazyLoad:"nearby",preloadPages:5,drag:!1,arrows:!1,updateOnMove:!0,arrowPath:"M1.06039 38.9541C2.48267 40.3486 4.77972 40.3486 6.202 38.9541L22.9396 22.4452C24.3535 21.0423 24.3535 18.7767 22.9396 17.3738L6.202 0.864871C4.7552 -0.35721 2.59852 -0.275046 1.2516 1.05347C-0.0953188 2.38199 -0.178623 4.50921 1.06039 5.93624L15.209 19.9275L1.06039 33.8827C-0.353463 35.2856 -0.353463 37.5512 1.06039 38.9541Z"})).sync(t),o.on("click",function(){t.go(o.index),r.go(o.index),document.querySelector(".HotelPage__PhotoSliderContainer").classList.add("HotelPage__PhotoSliderContainer--Active")}),document.querySelector(".HotelPage__PhotoSliderScreenLock").addEventListener("click",function(){o.go(t.index),document.querySelector(".HotelPage__PhotoSliderContainer").classList.remove("HotelPage__PhotoSliderContainer--Active")}),document.querySelector(".HotelPage__PhotoSliderCloseButton").addEventListener("click",function(){o.go(t.index),document.querySelector(".HotelPage__PhotoSliderContainer").classList.remove("HotelPage__PhotoSliderContainer--Active")}),o.mount(),t.mount(),r.mount())}),document.addEventListener("DOMContentLoaded",function(){var e=".MobileWithYou__SplideRoot";document.querySelector(e)&&new Splide(e,{type:"loop",pagination:!1}).mount()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImIyYy1tZW51LmpzIiwiY291bnRyeS1pbmZvLWhhbmRsZXIuanMiLCJmZWVkYmFjay5qcyIsImhvdGVsLXRhYnMuanMiLCJtb2JpbGUtc2lkZWJhci5qcyIsInJoLWFjY29yZGlvbi5qcyIsInNlYXJjaC1mcm9tLXN3aXRjaC5qcyIsInNwbGlkZS1pbml0LWNvdW50cnktcGFnZS10YWJzLmpzIiwic3BsaWRlLWluaXQtaG90ZWwtcGFnZS10YWJzLmpzIiwic3BsaWRlLWluaXQtcGhvdG8tc2xpZGVyLmpzIiwic3BsaWRlLWluaXQtd2l0aC15b3UuanMiXSwibmFtZXMiOlsiYjJjTWVudVRvUmlnaHRDbGFzcyIsImIyY01lbnVFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYjJjTWVudUNvbnRlbnRFbGVtZW50IiwiYjJjVHJpZ2dlckVsZW1lbnQiLCJzdHlsZSIsImFuaW1hdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ3aW5kb3ciLCJzY3JvbGxZIiwiYWRkIiwicmVtb3ZlIiwiYXR0cmlidXRlTmFtZVRvUXVlcnkiLCJhdHRyaWJ1dGVOYW1lIiwiY29uY2F0IiwiaGlkZUVsZW1lbnQiLCJlbGVtZW50IiwiZGlzcGxheSIsInNob3dFbGVtZW50IiwiZGF0YVNlY3Rpb25BdHRyaWJ1dGVOYW1lIiwiZGF0YVRyaWdnZXJBdHRyaWJ1dGVOYW1lIiwiZGF0YUF0dHJpYnV0ZU5hbWUiLCJkYXRhVGl0bGVBdHRyaWJ1dGVOYW1lIiwiZ29sZEJnQ2xhc3MiLCJkYXRhcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkYXRhU2VjdGlvbnMiLCJkYXRhVHJpZ2dlcnMiLCJkYXRhVGl0bGVzIiwiZm9yRWFjaCIsImRhdGFUaXRsZSIsImRhdGFUcmlnZ2VyIiwiaWQiLCJnZXRBdHRyaWJ1dGUiLCJmZWVkYmFjayIsImZlZWRiYWNrVHJpZ2dlcnMiLCJmZWVkYmFja1NjcmVlbmxvY2siLCJmZWVkYmFja0Nsb3NlVHJpZ2dlciIsImZlZWRiYWNrQWN0aXZlQ2xhc3MiLCJmZWVkYmFja1RyaWdnZXIiLCJob3RlbFBob3Rvc0luaXRlZCIsImRhdGFUcmlnZ2VyMiIsInNldFRpbWVvdXQiLCJub21lciIsInNwbGlkZURlc2t0b3AiLCJTcGxpZGUiLCJ0eXBlIiwiYXV0b3BsYXkiLCJwZXJQYWdlIiwicGVyTW92ZSIsImRpcmVjdGlvbiIsImhlaWdodCIsInBhZ2luYXRpb24iLCJsYXp5TG9hZCIsInByZWxvYWRQYWdlcyIsImFycm93UGF0aCIsIm1vdW50IiwiZ2FwIiwic3luYyIsIm9uIiwiY2xvc2VTaWRlYmFyIiwibW9iaWxlU2lkZWJhckVsZW1lbnQiLCJtb2JpbGVTaWRlYmFyVHJpZ2dlckVsZW1lbnQiLCJtb2JpbGVTaWRlYmFyQ2xvc2VUcmlnZ2VyRWxlbWVudCIsIm1vYmlsZVNpZGViYXJTY3JlZW5sb2NrRWxlbWVudCIsIm1vYmlsZVNpZGViYXJJdGVtRWxlbWVudHMiLCJtb2JpbGVTaWRlYmFyQWN0aXZlQ2xhc3MiLCJsZW5ndGgiLCJib2R5Iiwib3ZlcmZsb3ciLCJtb2JpbGVTaWRlYmFySXRlbUVsZW1lbnQiLCJ0cmlnZ2VyIiwic3VibWVudSIsInN1Ym1lbnVFYWNoIiwiaW5uZXJXaWR0aCIsImFjY29yZGlvbkVsZW1lbnRzIiwiYWNjb3JkaW9uIiwiYnV0dG9uQWN0aXZlQ2xhc3MiLCJmb3JtQWN0aXZlQ2xhc3MiLCJ0b3VyU2VhcmNoQnV0dG9uRWxlbWVudCIsImhvdGVsU2VhcmNoQnV0dG9uRWxlbWVudCIsInRvdXJTZWFyY2hGb3JtRWxlbWVudCIsImhvdGVsU2VhcmNoRm9ybUVsZW1lbnQiLCJzbGlkZXJFbGVtZW50UXVlcnkiLCJhcnJvd3MiLCJhdXRvV2lkdGgiLCJfU3BsaWRlIiwic3BsaWRlIiwic3BsaWRlUG9wdXAiLCJzcGxpZGVQb3B1cEJvdHRvbSIsIl9kZWZpbmVQcm9wZXJ0eSIsImRyYWciLCJ1cGRhdGVPbk1vdmUiLCJnbyIsImluZGV4Il0sIm1hcHBpbmdzIjoib0pBQUEsV0FDQSxJQUtB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QyxFQUFBLElBQUE1QyxPQUFBLHVDQUFBLENBQ0FDLEtBQUEsT0FDQXVDLFdBQUEsRUFDQXJDLFFBQUEsRUFDQUMsUUFBQSxFQUNBRyxZQUFBLEVBQ0FDLFNBQUEsU0FDQUMsYUFBQSxFQUNBcUMsTUFBQSxFQUNBUCxRQUFBLEVBQ0FRLGNBQUEsRUFDQXJDLFVBQUEsNlVBR0FHLEtBQUE4QixHQUVBRCxFQUFBNUIsR0FBQSxRQUFBLFdBQ0E2QixFQUFBSyxHQUFBTixFQUFBTyxPQUNBTCxFQUFBSSxHQUFBTixFQUFBTyxPQUNBL0YsU0FBQUMsY0FBQSxvQ0FBQU0sVUFBQUksSUFBQSw2Q0FHQVgsU0FBQUMsY0FBQSxxQ0FBQUssaUJBQUEsUUFBQSxXQUNBa0YsRUFBQU0sR0FBQUwsRUFBQU0sT0FDQS9GLFNBQUFDLGNBQUEsb0NBQUFNLFVBQUFLLE9BQUEsNkNBR0FaLFNBQUFDLGNBQUEsc0NBQUFLLGlCQUFBLFFBQUEsV0FDQWtGLEVBQUFNLEdBQUFMLEVBQUFNLE9BQ0EvRixTQUFBQyxjQUFBLG9DQUFBTSxVQUFBSyxPQUFBLDZDQUdBNEUsRUFBQS9CLFFBQ0FnQyxFQUFBaEMsUUFDQWlDLEVBQUFqQyxXQzNEQXpELFNBQUFNLGlCQUFBLG1CQUFBLFdBQ0EsSUFBQThFLEVBQUEsNkJBRUFwRixTQUFBQyxjQUFBbUYsSUFDQSxJQUFBdEMsT0FBQXNDLEVBQUEsQ0FDQXJDLEtBQUEsT0FDQU0sWUFBQSxJQUNBSSIsImZpbGUiOiJjdXN0b21lci5qcyIsInNvdXJjZXNDb250ZW50IjpbIigoKSA9PiB7XHJcbiAgY29uc3QgYjJjTWVudVF1ZXJ5ID0gXCIuYjJjLW1lbnVcIjtcclxuICBjb25zdCBiMmNNZW51Q29udGVudFF1ZXJ5ID0gXCIuYjJjLW1lbnVfX2NvbnRlbnRcIjtcclxuICBjb25zdCBiMmNUcmlnZ2VyUXVlcnkgPSBcIi5iMmMtbWVudV9fdHJpZ2dlclwiO1xyXG5cclxuICBjb25zdCBiMmNNZW51QWN0aXZlQ2xhc3MgPSBcImIyYy1tZW51LS1hY3RpdmVcIjtcclxuICBjb25zdCBiMmNNZW51VG9SaWdodENsYXNzID0gXCJiMmMtbWVudS0tdG8tcmlnaHRcIjtcclxuXHJcbiAgY29uc3QgYjJjTWVudUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGIyY01lbnVRdWVyeSk7XHJcbiAgY29uc3QgYjJjTWVudUNvbnRlbnRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihiMmNNZW51Q29udGVudFF1ZXJ5KTtcclxuICBjb25zdCBiMmNUcmlnZ2VyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYjJjVHJpZ2dlclF1ZXJ5KTtcclxuXHJcbiAgaWYgKCFiMmNNZW51RWxlbWVudCAmJiAhYjJjTWVudUNvbnRlbnRFbGVtZW50ICYmICFiMmNUcmlnZ2VyRWxlbWVudCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgYjJjTWVudUNvbnRlbnRFbGVtZW50LnN0eWxlLmFuaW1hdGlvbiA9IFwibm9uZVwiO1xyXG4gIFxyXG4gIGNvbnN0IGhhbmRsZVNjcm9sbCA9ICgpID0+IHtcclxuICAgIGlmICh3aW5kb3cuc2Nyb2xsWSAtIDIzMiA+IDApIHtcclxuICAgICAgYjJjTWVudUVsZW1lbnQuY2xhc3NMaXN0LmFkZChiMmNNZW51VG9SaWdodENsYXNzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGIyY01lbnVFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoYjJjTWVudVRvUmlnaHRDbGFzcyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdG9nZ2xlTWVudSA9ICgpID0+IHtcclxuICAgIGIyY01lbnVDb250ZW50RWxlbWVudC5zdHlsZS5hbmltYXRpb24gPSBcIlwiO1xyXG4gICAgYjJjTWVudUVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShiMmNNZW51QWN0aXZlQ2xhc3MpO1xyXG4gIH07XHJcblxyXG4gIGIyY1RyaWdnZXJFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0b2dnbGVNZW51KTtcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwpO1xyXG59KSgpOyIsIigoKSA9PiB7XHJcbiAgY29uc3QgZGF0YVNlY3Rpb25UcmlnZ2VyQXR0cmlidXRlTmFtZSA9IFwicmgtY291bnRyeS1kYXRhLXNlY3Rpb24tdHJpZ2dlclwiO1xyXG4gIGNvbnN0IGRhdGFTZWN0aW9uQXR0cmlidXRlTmFtZSA9IFwicmgtY291bnRyeS1kYXRhLXNlY3Rpb25cIjtcclxuICBjb25zdCBkYXRhVHJpZ2dlckF0dHJpYnV0ZU5hbWUgPSBcInJoLWNvdW50cnktZGF0YS10cmlnZ2VyXCI7XHJcbiAgY29uc3QgZGF0YUF0dHJpYnV0ZU5hbWUgPSBcInJoLWNvdW50cnktZGF0YVwiO1xyXG4gIGNvbnN0IGRhdGFUaXRsZUF0dHJpYnV0ZU5hbWUgPSBcInJoLWNvdW50cnktZGF0YS10aXRsZVwiO1xyXG4gIGNvbnN0IGdvbGRCZ0NsYXNzID0gXCJDb3VudHJ5UGFnZV9fVGFiTGluay0tQWN0aXZlXCI7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGVOYW1lXHJcbiAgICogQHJldHVybnMgIHtzdHJpbmd9XHJcbiAgICovXHJcbiAgY29uc3QgYXR0cmlidXRlTmFtZVRvUXVlcnkgPSBhdHRyaWJ1dGVOYW1lID0+IGBbJHthdHRyaWJ1dGVOYW1lfV1gO1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bWJlcn0gaWRcclxuICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgKi9cclxuICAgY29uc3QgY3JlYXRlUXVlcnlGb3JEYXRhQnlJZCA9IGlkID0+IGBbJHtkYXRhQXR0cmlidXRlTmFtZX0gPSBcIiR7aWR9XCJdYDtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudW1iZXJ9IGlkXHJcbiAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICovXHJcbiAgY29uc3QgY3JlYXRlUXVlcnlGb3JEYXRhU2VjdGlvbkJ5SWQgPSBpZCA9PiBgWyR7ZGF0YVNlY3Rpb25BdHRyaWJ1dGVOYW1lfSA9IFwiJHtpZH1cIl1gO1xyXG5cclxuICAgLyoqXHJcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudW1iZXJ9IGlkXHJcbiAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICovXHJcbiAgY29uc3QgY3JlYXRlUXVlcnlGb3JEYXRhVGl0bGVCeUlkID0gaWQgPT4gYFske2RhdGFUaXRsZUF0dHJpYnV0ZU5hbWV9ID0gXCIke2lkfVwiXWA7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcclxuICAgKiBAcmV0dXJucyB7dm9pZH0gXHJcbiAgICovXHJcbiAgY29uc3QgaGlkZUVsZW1lbnQgPSBlbGVtZW50ID0+IHtcclxuICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcclxuICAgKiBAcmV0dXJucyB7dm9pZH0gXHJcbiAgICovXHJcbiAgY29uc3Qgc2hvd0VsZW1lbnQgPSBlbGVtZW50ID0+IHtcclxuICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICB9O1xyXG5cclxuICBjb25zdCBkYXRhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYXR0cmlidXRlTmFtZVRvUXVlcnkoZGF0YUF0dHJpYnV0ZU5hbWUpKTtcclxuICBjb25zdCBkYXRhU2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGF0dHJpYnV0ZU5hbWVUb1F1ZXJ5KGRhdGFTZWN0aW9uQXR0cmlidXRlTmFtZSkpO1xyXG4gIGNvbnN0IGRhdGFUcmlnZ2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYXR0cmlidXRlTmFtZVRvUXVlcnkoZGF0YVRyaWdnZXJBdHRyaWJ1dGVOYW1lKSk7XHJcbiAgY29uc3QgZGF0YVRpdGxlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYXR0cmlidXRlTmFtZVRvUXVlcnkoZGF0YVRpdGxlQXR0cmlidXRlTmFtZSkpO1xyXG5cclxuICBkYXRhcy5mb3JFYWNoKGRhdGEgPT4gaGlkZUVsZW1lbnQoZGF0YSkpO1xyXG4gIGRhdGFTZWN0aW9ucy5mb3JFYWNoKGRhdGFTZWN0aW9uID0+IGhpZGVFbGVtZW50KGRhdGFTZWN0aW9uKSk7XHJcbiAgZGF0YVRpdGxlcy5mb3JFYWNoKGRhdGFUaXRsZSA9PiBkYXRhVGl0bGUuY2xhc3NMaXN0LnJlbW92ZShnb2xkQmdDbGFzcykpO1xyXG5cclxuICBkYXRhVHJpZ2dlcnMuZm9yRWFjaChkYXRhVHJpZ2dlciA9PiB7XHJcbiAgICBkYXRhVHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBkYXRhcy5mb3JFYWNoKGRhdGEgPT4gaGlkZUVsZW1lbnQoZGF0YSkpO1xyXG4gICAgICBkYXRhU2VjdGlvbnMuZm9yRWFjaChkYXRhU2VjdGlvbiA9PiBoaWRlRWxlbWVudChkYXRhU2VjdGlvbikpO1xyXG4gICAgICBkYXRhVGl0bGVzLmZvckVhY2goZGF0YVRpdGxlID0+IGRhdGFUaXRsZS5jbGFzc0xpc3QucmVtb3ZlKGdvbGRCZ0NsYXNzKSk7XHJcblxyXG4gICAgICBzaG93RWxlbWVudChcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgY3JlYXRlUXVlcnlGb3JEYXRhQnlJZChkYXRhVHJpZ2dlci5nZXRBdHRyaWJ1dGUoZGF0YVRyaWdnZXJBdHRyaWJ1dGVOYW1lKSlcclxuICAgICAgICApXHJcbiAgICAgICk7XHJcbiAgICAgIHNob3dFbGVtZW50KFxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY3JlYXRlUXVlcnlGb3JEYXRhU2VjdGlvbkJ5SWQoXHJcbiAgICAgICAgICBkYXRhVHJpZ2dlci5nZXRBdHRyaWJ1dGUoZGF0YVNlY3Rpb25UcmlnZ2VyQXR0cmlidXRlTmFtZSlcclxuICAgICAgICApKVxyXG4gICAgICApO1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNyZWF0ZVF1ZXJ5Rm9yRGF0YVRpdGxlQnlJZChcclxuICAgICAgICBkYXRhVHJpZ2dlci5nZXRBdHRyaWJ1dGUoZGF0YVRyaWdnZXJBdHRyaWJ1dGVOYW1lKVxyXG4gICAgICApKS5mb3JFYWNoKGRhdGFUaXRsZSA9PiBkYXRhVGl0bGUuY2xhc3NMaXN0LmFkZChnb2xkQmdDbGFzcykpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pKCk7IiwiKCgpID0+IHtcbiAgY29uc3QgZmVlZGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLkZlZWRiYWNrXCIpO1xuICBjb25zdCBmZWVkYmFja1RyaWdnZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5GZWVkYmFja19fVHJpZ2dlclwiKTtcbiAgY29uc3QgZmVlZGJhY2tTY3JlZW5sb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5GZWVkYmFja19fU2NyZWVubG9ja1wiKTtcbiAgY29uc3QgZmVlZGJhY2tDbG9zZVRyaWdnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLkZlZWRiYWNrX19DbG9zZVRyaWdnZXJcIik7XG5cbiAgY29uc3QgZmVlZGJhY2tBY3RpdmVDbGFzcyA9IFwiRmVlZGJhY2stLUFjdGl2ZVwiO1xuXG4gIGlmICghZmVlZGJhY2sgfHwgIWZlZWRiYWNrVHJpZ2dlcnMgfHwgIWZlZWRiYWNrU2NyZWVubG9jayB8fCAhZmVlZGJhY2tDbG9zZVRyaWdnZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmZWVkYmFja1RyaWdnZXJzLmZvckVhY2goZmVlZGJhY2tUcmlnZ2VyID0+IHtcbiAgICBmZWVkYmFja1RyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGZlZWRiYWNrLmNsYXNzTGlzdC5hZGQoZmVlZGJhY2tBY3RpdmVDbGFzcyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGZlZWRiYWNrU2NyZWVubG9jay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGZlZWRiYWNrLmNsYXNzTGlzdC5yZW1vdmUoZmVlZGJhY2tBY3RpdmVDbGFzcyk7XG4gIH0pO1xuXG4gIGZlZWRiYWNrQ2xvc2VUcmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgZmVlZGJhY2suY2xhc3NMaXN0LnJlbW92ZShmZWVkYmFja0FjdGl2ZUNsYXNzKTtcbiAgfSk7XG59KSgpO1xuIiwiKCgpID0+IHtcbiAgY29uc3QgZGF0YVRyaWdnZXJBdHRyaWJ1dGVOYW1lID0gXCJob3RlbC10YWItdHJpZ2dlci1pbmRleFwiO1xuICBjb25zdCBkYXRhQXR0cmlidXRlTmFtZSA9IFwiaG90ZWwtZGF0YVwiO1xuICBjb25zdCBnb2xkQmdDbGFzcyA9IFwiSG90ZWxQYWdlX19UYWJMaW5rLS1BY3RpdmVcIjtcbiAgXG4gIGNvbnN0IGF0dHJpYnV0ZU5hbWVUb1F1ZXJ5ID0gYXR0cmlidXRlTmFtZSA9PiBgWyR7YXR0cmlidXRlTmFtZX1dYDtcbiAgY29uc3QgY3JlYXRlUXVlcnlGb3JEYXRhQnlJZCA9IGlkID0+IGBbJHtkYXRhQXR0cmlidXRlTmFtZX0gPSBcIiR7aWR9XCJdYDtcbiAgY29uc3QgaGlkZUVsZW1lbnQgPSBlbGVtZW50ID0+IHsgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7IH07XG4gIGNvbnN0IHNob3dFbGVtZW50ID0gZWxlbWVudCA9PiB7IGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjsgfTtcbiAgXG4gIGxldCBob3RlbFBob3Rvc0luaXRlZCA9IGZhbHNlO1xuXG4gIGNvbnN0IGluaXRTbGlkZXJzID0gKCkgPT4ge1xuICAgIGhvdGVsUGhvdG9zSW5pdGVkID0gdHJ1ZTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3Qgbm9tZXJFbGVtZW50UXVlcnkgPSBcIi5Ib3RlbFBhZ2VfX05vbWVyXCI7XG4gICAgICBcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwobm9tZXJFbGVtZW50UXVlcnkpLmZvckVhY2gobm9tZXIgPT4ge1xuICAgICAgICBjb25zdCBzbGlkZXJEZXNrdG9wRWxlbWVudFF1ZXJ5ID0gXCIuSG90ZWxQYWdlX19Ob21lclBob3RvU2xpZGVyXCI7XG4gICAgICAgIGNvbnN0IHNsaWRlck1vYmlsZUVsZW1lbnRRdWVyeSA9IFwiLkhvdGVsUGFnZV9fTm9tZXJNb2JpbGVQaG90b1NsaWRlclwiO1xuICAgICAgICBjb25zdCBzbGlkZXJQb3B1cEVsZW1lbnRRdWVyeSA9IFwiLkhvdGVsUGFnZV9fTm9tZXJQb3B1cFBob3RvU2xpZGVyLS1EZXNrdG9wXCI7XG5cbiAgICAgICAgY29uc3Qgc3BsaWRlRGVza3RvcCA9IG5ldyBTcGxpZGUobm9tZXIucXVlcnlTZWxlY3RvcihzbGlkZXJEZXNrdG9wRWxlbWVudFF1ZXJ5KSwge1xuICAgICAgICAgIHR5cGU6IFwibG9vcFwiLFxuICAgICAgICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgICAgICAgIHBlclBhZ2U6IDMsXG4gICAgICAgICAgcGVyTW92ZTogMSxcbiAgICAgICAgICBkaXJlY3Rpb246IFwidHRiXCIsXG4gICAgICAgICAgaGVpZ2h0OiBcIjY3NXB4XCIsXG4gICAgICAgICAgcGFnaW5hdGlvbjogZmFsc2UsXG4gICAgICAgICAgbGF6eUxvYWQ6IFwibmVhcmJ5XCIsXG4gICAgICAgICAgcHJlbG9hZFBhZ2VzOiAzLFxuICAgICAgICAgIGFycm93UGF0aDogXCJNMi4wMTYyIDM5Ljk1NDFDMy4zNzkyMyA0MS4zNDg2IDUuNTgwNTYgNDEuMzQ4NiA2Ljk0MzU5IDM5Ljk1NDFMMjIuOTgzOCAyMy40NDUyQzI0LjMzODcgMjIuMDQyMyAyNC4zMzg3IDE5Ljc3NjcgMjIuOTgzOCAxOC4zNzM4TDYuOTQzNTkgMS44NjQ4N0M1LjU1NzA3IDAuNjQyNzkgMy40OTAyNSAwLjcyNDk1NCAyLjE5OTQ1IDIuMDUzNDdDMC45MDg2NTQgMy4zODE5OSAwLjgyODgyMSA1LjUwOTIxIDIuMDE2MiA2LjkzNjI0TDE1LjU3NTIgMjAuOTI3NUwyLjAxNjIgMzQuODgyN0MwLjY2MTI2NiAzNi4yODU2IDAuNjYxMjY2IDM4LjU1MTIgMi4wMTYyIDM5Ljk1NDFaXCJcbiAgICAgICAgfSkubW91bnQoKTtcblxuICAgICAgICBjb25zdCBzbGlkZXJNb2JpbGUgPSBuZXcgU3BsaWRlKG5vbWVyLnF1ZXJ5U2VsZWN0b3Ioc2xpZGVyTW9iaWxlRWxlbWVudFF1ZXJ5KSwge1xuICAgICAgICAgIHR5cGU6IFwibG9vcFwiLFxuICAgICAgICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgICAgICAgIHBlclBhZ2U6IDEsXG4gICAgICAgICAgcGVyTW92ZTogMSxcbiAgICAgICAgICBwYWdpbmF0aW9uOiBmYWxzZSxcbiAgICAgICAgICBsYXp5TG9hZDogXCJuZWFyYnlcIixcbiAgICAgICAgICBwcmVsb2FkUGFnZXM6IDMsXG4gICAgICAgICAgZ2FwOiBcIjJlbVwiLFxuICAgICAgICAgIGFycm93UGF0aDogXCJNMS4wNjAzOSAzOC45NTQxQzIuNDgyNjcgNDAuMzQ4NiA0Ljc3OTcyIDQwLjM0ODYgNi4yMDIgMzguOTU0MUwyMi45Mzk2IDIyLjQ0NTJDMjQuMzUzNSAyMS4wNDIzIDI0LjM1MzUgMTguNzc2NyAyMi45Mzk2IDE3LjM3MzhMNi4yMDIgMC44NjQ4NzFDNC43NTUyIC0wLjM1NzIxIDIuNTk4NTIgLTAuMjc1MDQ2IDEuMjUxNiAxLjA1MzQ3Qy0wLjA5NTMxODggMi4zODE5OSAtMC4xNzg2MjMgNC41MDkyMSAxLjA2MDM5IDUuOTM2MjRMMTUuMjA5IDE5LjkyNzVMMS4wNjAzOSAzMy44ODI3Qy0wLjM1MzQ2MyAzNS4yODU2IC0wLjM1MzQ2MyAzNy41NTEyIDEuMDYwMzkgMzguOTU0MVpcIlxuICAgICAgICB9KS5tb3VudCgpO1xuXG4gICAgICAgIGNvbnN0IHNsaWRlclBvcHVwID0gbmV3IFNwbGlkZShub21lci5xdWVyeVNlbGVjdG9yKHNsaWRlclBvcHVwRWxlbWVudFF1ZXJ5KSwge1xuICAgICAgICAgIHR5cGU6IFwibG9vcFwiLFxuICAgICAgICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgICAgICAgIHBlclBhZ2U6IDEsXG4gICAgICAgICAgcGVyTW92ZTogMSxcbiAgICAgICAgICBwYWdpbmF0aW9uOiBmYWxzZSxcbiAgICAgICAgICBsYXp5TG9hZDogXCJuZWFyYnlcIixcbiAgICAgICAgICBwcmVsb2FkUGFnZXM6IDMsXG4gICAgICAgICAgYXJyb3dQYXRoOiBcIk0xLjA2MDM5IDM4Ljk1NDFDMi40ODI2NyA0MC4zNDg2IDQuNzc5NzIgNDAuMzQ4NiA2LjIwMiAzOC45NTQxTDIyLjkzOTYgMjIuNDQ1MkMyNC4zNTM1IDIxLjA0MjMgMjQuMzUzNSAxOC43NzY3IDIyLjkzOTYgMTcuMzczOEw2LjIwMiAwLjg2NDg3MUM0Ljc1NTIgLTAuMzU3MjEgMi41OTg1MiAtMC4yNzUwNDYgMS4yNTE2IDEuMDUzNDdDLTAuMDk1MzE4OCAyLjM4MTk5IC0wLjE3ODYyMyA0LjUwOTIxIDEuMDYwMzkgNS45MzYyNEwxNS4yMDkgMTkuOTI3NUwxLjA2MDM5IDMzLjg4MjdDLTAuMzUzNDYzIDM1LjI4NTYgLTAuMzUzNDYzIDM3LjU1MTIgMS4wNjAzOSAzOC45NTQxWlwiXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNsaWRlclBvcHVwLnN5bmMoc3BsaWRlRGVza3RvcCkubW91bnQoKTtcbiAgICAgICAgXG4gICAgICAgIHNwbGlkZURlc2t0b3Aub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgbm9tZXIucXVlcnlTZWxlY3RvcihcIi5Ib3RlbFBhZ2VfX05vbWVyUG9wdXBQaG90b1NsaWRlckNvbnRhaW5lclwiKS5jbGFzc0xpc3QuYWRkKFwiSG90ZWxQYWdlX19Ob21lclBvcHVwUGhvdG9TbGlkZXJDb250YWluZXItLUFjdGl2ZURlc2t0b3BcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5vbWVyLnF1ZXJ5U2VsZWN0b3IoXCIuSG90ZWxQYWdlX19Ob21lclBvcHVwU2NyZWVubG9ja1wiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgIG5vbWVyLnF1ZXJ5U2VsZWN0b3IoXCIuSG90ZWxQYWdlX19Ob21lclBvcHVwUGhvdG9TbGlkZXJDb250YWluZXJcIikuY2xhc3NMaXN0LnJlbW92ZShcIkhvdGVsUGFnZV9fTm9tZXJQb3B1cFBob3RvU2xpZGVyQ29udGFpbmVyLS1BY3RpdmVNb2JpbGVcIiwgXCJIb3RlbFBhZ2VfX05vbWVyUG9wdXBQaG90b1NsaWRlckNvbnRhaW5lci0tQWN0aXZlRGVza3RvcFwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LCAxMDApO1xuICB9O1xuXG4gIGNvbnN0IGRhdGFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChhdHRyaWJ1dGVOYW1lVG9RdWVyeShkYXRhQXR0cmlidXRlTmFtZSkpO1xuICBjb25zdCBkYXRhVHJpZ2dlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGF0dHJpYnV0ZU5hbWVUb1F1ZXJ5KGRhdGFUcmlnZ2VyQXR0cmlidXRlTmFtZSkpO1xuXG4gIGRhdGFzLmZvckVhY2goZGF0YSA9PiBoaWRlRWxlbWVudChkYXRhKSk7XG5cbiAgZGF0YVRyaWdnZXJzLmZvckVhY2goZGF0YVRyaWdnZXIgPT4ge1xuICAgIGRhdGFUcmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBkYXRhcy5mb3JFYWNoKGRhdGEgPT4gaGlkZUVsZW1lbnQoZGF0YSkpO1xuXG4gICAgICBkYXRhVHJpZ2dlcnMuZm9yRWFjaChkYXRhVHJpZ2dlcjIgPT4ge1xuICAgICAgICBkYXRhVHJpZ2dlcjIuY2xhc3NMaXN0LnJlbW92ZShnb2xkQmdDbGFzcyk7XG4gICAgICB9KTtcblxuICAgICAgZGF0YVRyaWdnZXIuY2xhc3NMaXN0LmFkZChnb2xkQmdDbGFzcyk7XG5cbiAgICAgIHNob3dFbGVtZW50KFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgIGNyZWF0ZVF1ZXJ5Rm9yRGF0YUJ5SWQoZGF0YVRyaWdnZXIuZ2V0QXR0cmlidXRlKGRhdGFUcmlnZ2VyQXR0cmlidXRlTmFtZSkpXG4gICAgICAgIClcbiAgICAgICk7XG5cbiAgICAgIGlmIChkYXRhVHJpZ2dlci5nZXRBdHRyaWJ1dGUoZGF0YVRyaWdnZXJBdHRyaWJ1dGVOYW1lKSA9PT0gXCI2XCIgJiYgIWhvdGVsUGhvdG9zSW5pdGVkKSB7XG4gICAgICAgIGluaXRTbGlkZXJzKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufSkoKTsiLCIoKCkgPT4ge1xyXG4gIGNvbnN0IG1vYmlsZVNpZGViYXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2JpbGUtc2lkZWJhclwiKTtcclxuICBjb25zdCBtb2JpbGVTaWRlYmFyVHJpZ2dlckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vYmlsZS1zaWRlYmFyLXRyaWdnZXJcIik7XHJcbiAgY29uc3QgbW9iaWxlU2lkZWJhckNsb3NlVHJpZ2dlckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vYmlsZS1zaWRlYmFyX19jbG9zZS10cmlnZ2VyXCIpO1xyXG4gIGNvbnN0IG1vYmlsZVNpZGViYXJTY3JlZW5sb2NrRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9iaWxlLXNpZGViYXJfX3NjcmVlbmxvY2tcIik7XHJcbiAgY29uc3QgbW9iaWxlU2lkZWJhckl0ZW1FbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9iaWxlLXNpZGViYXJfX2l0ZW1cIik7XHJcblxyXG4gIGNvbnN0IG1vYmlsZVNpZGViYXJBY3RpdmVDbGFzcyA9IFwibW9iaWxlLXNpZGViYXItLWFjdGl2ZVwiO1xyXG5cclxuICBpZiAoXHJcbiAgICAhbW9iaWxlU2lkZWJhckVsZW1lbnQgXHJcbiAgICB8fCAhbW9iaWxlU2lkZWJhclRyaWdnZXJFbGVtZW50IFxyXG4gICAgfHwgIW1vYmlsZVNpZGViYXJDbG9zZVRyaWdnZXJFbGVtZW50IFxyXG4gICAgfHwgIW1vYmlsZVNpZGViYXJTY3JlZW5sb2NrRWxlbWVudFxyXG4gICAgfHwgbW9iaWxlU2lkZWJhckl0ZW1FbGVtZW50cy5sZW5ndGggPT09IDAgXHJcbiAgKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCBvcGVuU2lkZWJhciA9ICgpID0+IHtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG4gICAgbW9iaWxlU2lkZWJhckVsZW1lbnQuY2xhc3NMaXN0LmFkZChtb2JpbGVTaWRlYmFyQWN0aXZlQ2xhc3MpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9ICgpID0+IHtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImF1dG9cIjtcclxuICAgIG1vYmlsZVNpZGViYXJFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUobW9iaWxlU2lkZWJhckFjdGl2ZUNsYXNzKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBtb2JpbGVXaWR0aExpbWl0ID0gNzY5O1xyXG4gICAgXHJcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPj0gbW9iaWxlV2lkdGhMaW1pdCkge1xyXG4gICAgICBjbG9zZVNpZGViYXIoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBtb2JpbGVTaWRlYmFySXRlbUVsZW1lbnRzLmZvckVhY2gobW9iaWxlU2lkZWJhckl0ZW1FbGVtZW50ID0+IHtcclxuICAgIGNvbnN0IHRyaWdnZXIgPSBtb2JpbGVTaWRlYmFySXRlbUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2JpbGUtc2lkZWJhcl9fc3VibWVudS10cmlnZ2VyXCIpO1xyXG4gICAgY29uc3Qgc3VibWVudSA9IG1vYmlsZVNpZGViYXJJdGVtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vYmlsZS1zaWRlYmFyX19zdWJtZW51XCIpO1xyXG4gICAgXHJcbiAgICB0cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9iaWxlLXNpZGViYXJfX3N1Ym1lbnVcIilcclxuICAgICAgICAuZm9yRWFjaChzdWJtZW51RWFjaCA9PiB7XHJcbiAgICAgICAgICBpZiAoc3VibWVudUVhY2ggIT09IHN1Ym1lbnUpIHtcclxuICAgICAgICAgICAgc3VibWVudUVhY2guY2xhc3NMaXN0LnJlbW92ZShcIm1vYmlsZS1zaWRlYmFyX19zdWJtZW51LS1hY3RpdmVcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIHN1Ym1lbnUuY2xhc3NMaXN0LnRvZ2dsZShcIm1vYmlsZS1zaWRlYmFyX19zdWJtZW51LS1hY3RpdmVcIik7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKTtcclxuICBtb2JpbGVTaWRlYmFyVHJpZ2dlckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5TaWRlYmFyKTtcclxuICBtb2JpbGVTaWRlYmFyQ2xvc2VUcmlnZ2VyRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VTaWRlYmFyKTtcclxuICBtb2JpbGVTaWRlYmFyU2NyZWVubG9ja0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlU2lkZWJhcik7XHJcbn0pKCk7XHJcblxyXG5cclxuKCgpID0+IHtcclxuICBjb25zdCBtb2JpbGVTaWRlYmFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuTW9iaWxlU2lkZWJhclwiKTtcclxuICBjb25zdCBtb2JpbGVTaWRlYmFyVHJpZ2dlckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vYmlsZS1zaWRlYmFyLXRyaWdnZXJcIik7XHJcbiAgY29uc3QgbW9iaWxlU2lkZWJhckNsb3NlVHJpZ2dlckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLk1vYmlsZVNpZGViYXJfX0Nsb3NlVHJpZ2dlclwiKTtcclxuICBjb25zdCBtb2JpbGVTaWRlYmFyU2NyZWVubG9ja0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLk1vYmlsZVNpZGViYXJfX1NjcmVlbkxvY2tcIik7XHJcbiAgY29uc3QgbW9iaWxlU2lkZWJhckl0ZW1FbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuTW9iaWxlU2lkZWJhcl9fU2Vjb25kQ29udGVudEl0ZW1cIik7XHJcblxyXG4gIGNvbnN0IG1vYmlsZVNpZGViYXJBY3RpdmVDbGFzcyA9IFwiTW9iaWxlU2lkZWJhci0tQWN0aXZlXCI7XHJcblxyXG4gIGlmIChcclxuICAgICFtb2JpbGVTaWRlYmFyRWxlbWVudCBcclxuICAgIHx8ICFtb2JpbGVTaWRlYmFyVHJpZ2dlckVsZW1lbnQgXHJcbiAgICB8fCAhbW9iaWxlU2lkZWJhckNsb3NlVHJpZ2dlckVsZW1lbnQgXHJcbiAgICB8fCAhbW9iaWxlU2lkZWJhclNjcmVlbmxvY2tFbGVtZW50XHJcbiAgICB8fCBtb2JpbGVTaWRlYmFySXRlbUVsZW1lbnRzLmxlbmd0aCA9PT0gMCBcclxuICApIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IG9wZW5TaWRlYmFyID0gKCkgPT4ge1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcbiAgICBtb2JpbGVTaWRlYmFyRWxlbWVudC5jbGFzc0xpc3QuYWRkKG1vYmlsZVNpZGViYXJBY3RpdmVDbGFzcyk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY2xvc2VTaWRlYmFyID0gKCkgPT4ge1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiYXV0b1wiO1xyXG4gICAgbW9iaWxlU2lkZWJhckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShtb2JpbGVTaWRlYmFyQWN0aXZlQ2xhc3MpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IG1vYmlsZVdpZHRoTGltaXQgPSA3Njk7XHJcbiAgICBcclxuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+PSBtb2JpbGVXaWR0aExpbWl0KSB7XHJcbiAgICAgIGNsb3NlU2lkZWJhcigpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIG1vYmlsZVNpZGViYXJJdGVtRWxlbWVudHMuZm9yRWFjaChtb2JpbGVTaWRlYmFySXRlbUVsZW1lbnQgPT4ge1xyXG4gICAgY29uc3QgdHJpZ2dlciA9IG1vYmlsZVNpZGViYXJJdGVtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLk1vYmlsZVNpZGViYXJfX1NlY29uZENvbnRlbnRTdWJtZW51VHJpZ2dlclwiKTtcclxuICAgIGNvbnN0IHN1Ym1lbnUgPSBtb2JpbGVTaWRlYmFySXRlbUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5Nb2JpbGVTaWRlYmFyX19TZWNvbmRDb250ZW50U3VibWVudVwiKTtcclxuICAgIFxyXG4gICAgdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLk1vYmlsZVNpZGViYXJfX1NlY29uZENvbnRlbnRTdWJtZW51XCIpXHJcbiAgICAgICAgLmZvckVhY2goc3VibWVudUVhY2ggPT4ge1xyXG4gICAgICAgICAgaWYgKHN1Ym1lbnVFYWNoICE9PSBzdWJtZW51KSB7XHJcbiAgICAgICAgICAgIHN1Ym1lbnVFYWNoLmNsYXNzTGlzdC5yZW1vdmUoXCJNb2JpbGVTaWRlYmFyX19TZWNvbmRDb250ZW50U3VibWVudS0tQWN0aXZlXCIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICBzdWJtZW51LmNsYXNzTGlzdC50b2dnbGUoXCJNb2JpbGVTaWRlYmFyX19TZWNvbmRDb250ZW50U3VibWVudS0tQWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSk7XHJcbiAgbW9iaWxlU2lkZWJhclRyaWdnZXJFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuU2lkZWJhcik7XHJcbiAgbW9iaWxlU2lkZWJhckNsb3NlVHJpZ2dlckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlU2lkZWJhcik7XHJcbiAgbW9iaWxlU2lkZWJhclNjcmVlbmxvY2tFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZVNpZGViYXIpO1xyXG59KSgpO1xyXG4iLCIoKCkgPT4ge1xyXG4gIGNvbnN0IGFjY29yZGlvblF1ZXJ5ID0gXCIucmgtYWNjb3JkaW9uXCI7XHJcbiAgY29uc3QgYWNjb3JkaW9uVHJpZ2dlclF1ZXJ5ID0gXCIucmgtYWNjb3JkaW9uX190cmlnZ2VyXCI7XHJcbiAgY29uc3QgYWNjb3JkaW9uQWN0aXZlQ2xhc3MgPSBcInJoLWFjY29yZGlvbi0tYWN0aXZlXCI7XHJcblxyXG4gIGNvbnN0IGFjY29yZGlvbkVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChhY2NvcmRpb25RdWVyeSk7XHJcblxyXG4gIGlmICghYWNjb3JkaW9uRWxlbWVudHMpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGFjY29yZGlvbkVsZW1lbnRzLmZvckVhY2goYWNjb3JkaW9uID0+IHtcclxuICAgIGFjY29yZGlvbi5xdWVyeVNlbGVjdG9yKGFjY29yZGlvblRyaWdnZXJRdWVyeSkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgYWNjb3JkaW9uLmNsYXNzTGlzdC50b2dnbGUoYWNjb3JkaW9uQWN0aXZlQ2xhc3MpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pKCk7XHJcblxyXG4oKCkgPT4ge1xyXG4gIGNvbnN0IGFjY29yZGlvblF1ZXJ5ID0gXCIuUkhBY2NvcmRpb25cIjtcclxuICBjb25zdCBhY2NvcmRpb25UcmlnZ2VyUXVlcnkgPSBcIi5SSEFjY29yZGlvbl9fVHJpZ2dlclwiO1xyXG4gIGNvbnN0IGFjY29yZGlvbkFjdGl2ZUNsYXNzID0gXCJSSEFjY29yZGlvbi0tQWN0aXZlXCI7XHJcblxyXG4gIGNvbnN0IGFjY29yZGlvbkVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChhY2NvcmRpb25RdWVyeSk7XHJcblxyXG4gIGlmICghYWNjb3JkaW9uRWxlbWVudHMpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGFjY29yZGlvbkVsZW1lbnRzLmZvckVhY2goYWNjb3JkaW9uID0+IHtcclxuICAgIGFjY29yZGlvbi5xdWVyeVNlbGVjdG9yKGFjY29yZGlvblRyaWdnZXJRdWVyeSkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgYWNjb3JkaW9uLmNsYXNzTGlzdC50b2dnbGUoYWNjb3JkaW9uQWN0aXZlQ2xhc3MpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pKCk7XHJcbiIsIigoKSA9PiB7XHJcbiAgY29uc3QgdG91clNlYXJjaEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1mb3JtLXN3aXRjaF9fYnV0dG9uX3RvdXJcIik7XHJcbiAgY29uc3QgaG90ZWxTZWFyY2hCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtZm9ybS1zd2l0Y2hfX2J1dHRvbl9ob3RlbFwiKTtcclxuICBjb25zdCB0b3VyU2VhcmNoRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1mb3JtLXN3aXRjaF9fZm9ybV90b3VyXCIpO1xyXG4gIGNvbnN0IGhvdGVsU2VhcmNoRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1mb3JtLXN3aXRjaF9fZm9ybV9ob3RlbFwiKTtcclxuXHJcbiAgaWYgKFxyXG4gICAgIXRvdXJTZWFyY2hCdXR0b25FbGVtZW50IFxyXG4gICAgfHwgIWhvdGVsU2VhcmNoQnV0dG9uRWxlbWVudFxyXG4gICAgfHwgIXRvdXJTZWFyY2hGb3JtRWxlbWVudFxyXG4gICAgfHwgIWhvdGVsU2VhcmNoRm9ybUVsZW1lbnRcclxuICApIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IGJ1dHRvbkFjdGl2ZUNsYXNzID0gXCJzZWFyY2gtZm9ybS1zd2l0Y2hfX2J1dHRvbi0tYWN0aXZlXCI7XHJcbiAgY29uc3QgZm9ybUFjdGl2ZUNsYXNzID0gXCJzZWFyY2gtZm9ybS1zd2l0Y2hfX2Zvcm0tLWFjdGl2ZVwiO1xyXG5cclxuICB0b3VyU2VhcmNoQnV0dG9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgdG91clNlYXJjaEJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChidXR0b25BY3RpdmVDbGFzcyk7XHJcbiAgICB0b3VyU2VhcmNoRm9ybUVsZW1lbnQuY2xhc3NMaXN0LmFkZChmb3JtQWN0aXZlQ2xhc3MpO1xyXG4gICAgaG90ZWxTZWFyY2hCdXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoYnV0dG9uQWN0aXZlQ2xhc3MpO1xyXG4gICAgaG90ZWxTZWFyY2hGb3JtRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGZvcm1BY3RpdmVDbGFzcyk7XHJcbiAgfSk7XHJcblxyXG4gIGhvdGVsU2VhcmNoQnV0dG9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgaG90ZWxTZWFyY2hCdXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoYnV0dG9uQWN0aXZlQ2xhc3MpO1xyXG4gICAgaG90ZWxTZWFyY2hGb3JtRWxlbWVudC5jbGFzc0xpc3QuYWRkKGZvcm1BY3RpdmVDbGFzcyk7XHJcbiAgICB0b3VyU2VhcmNoQnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGJ1dHRvbkFjdGl2ZUNsYXNzKTtcclxuICAgIHRvdXJTZWFyY2hGb3JtRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGZvcm1BY3RpdmVDbGFzcyk7XHJcbiAgfSk7XHJcbn0pKCk7XHJcbiIsImRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgY29uc3Qgc2xpZGVyRWxlbWVudFF1ZXJ5ID0gXCIuQ291bnRyeVBhZ2VfX1RhYnNDb250YWluZXItLVNjcm9sbFwiO1xuXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNsaWRlckVsZW1lbnRRdWVyeSkpIHtcbiAgICBuZXcgU3BsaWRlKHNsaWRlckVsZW1lbnRRdWVyeSwge1xuICAgICAgYXV0b3BsYXk6IGZhbHNlLFxuICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgIHBhZ2luYXRpb246IGZhbHNlLFxuICAgICAgYXV0b1dpZHRoOiB0cnVlLFxuICAgIH0pLm1vdW50KCk7XG4gIH1cbn0pO1xuIiwiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICBjb25zdCBzbGlkZXJFbGVtZW50UXVlcnkgPSBcIi5Ib3RlbFBhZ2VfX1RhYnNDb250YWluZXItLVNjcm9sbFwiO1xuXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNsaWRlckVsZW1lbnRRdWVyeSkpIHtcbiAgICBuZXcgU3BsaWRlKHNsaWRlckVsZW1lbnRRdWVyeSwge1xuICAgICAgYXV0b3BsYXk6IGZhbHNlLFxuICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgIHBlck1vdmU6IDEsXG4gICAgICBwYWdpbmF0aW9uOiBmYWxzZSxcbiAgICAgIGF1dG9XaWR0aDogdHJ1ZSxcbiAgICB9KS5tb3VudCgpO1xuICB9XG59KTtcbiIsImRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuSG90ZWxQYWdlX19QaG90b1NsaWRlci0tQmFzZVwiKSkge1xuICAgIGNvbnN0IHNwbGlkZSA9IG5ldyBTcGxpZGUoXCIuSG90ZWxQYWdlX19QaG90b1NsaWRlci0tQmFzZVwiLCB7XG4gICAgICB0eXBlOiBcImxvb3BcIixcbiAgICAgIGF1dG9XaWR0aDogdHJ1ZSxcbiAgICAgIHBlclBhZ2U6IDUsXG4gICAgICBwZXJNb3ZlOiAxLFxuICAgICAgcGFnaW5hdGlvbjogZmFsc2UsXG4gICAgICBsYXp5TG9hZDogXCJuZWFyYnlcIixcbiAgICAgIHByZWxvYWRQYWdlczogNSxcbiAgICAgIHByZWxvYWRQYWdlczogNSxcbiAgICAgIGFycm93UGF0aDogXCJNMS4wNjAzOSAzOC45NTQxQzIuNDgyNjcgNDAuMzQ4NiA0Ljc3OTcyIDQwLjM0ODYgNi4yMDIgMzguOTU0MUwyMi45Mzk2IDIyLjQ0NTJDMjQuMzUzNSAyMS4wNDIzIDI0LjM1MzUgMTguNzc2NyAyMi45Mzk2IDE3LjM3MzhMNi4yMDIgMC44NjQ4NzFDNC43NTUyIC0wLjM1NzIxIDIuNTk4NTIgLTAuMjc1MDQ2IDEuMjUxNiAxLjA1MzQ3Qy0wLjA5NTMxODggMi4zODE5OSAtMC4xNzg2MjMgNC41MDkyMSAxLjA2MDM5IDUuOTM2MjRMMTUuMjA5IDE5LjkyNzVMMS4wNjAzOSAzMy44ODI3Qy0wLjM1MzQ2MyAzNS4yODU2IC0wLjM1MzQ2MyAzNy41NTEyIDEuMDYwMzkgMzguOTU0MVpcIlxuICAgIH0pO1xuXG4gICAgY29uc3Qgc3BsaWRlUG9wdXAgPSBuZXcgU3BsaWRlKFwiLkhvdGVsUGFnZV9fUGhvdG9TbGlkZXItLVBvcHVwXCIsIHtcbiAgICAgIHR5cGU6IFwibG9vcFwiLFxuICAgICAgYXV0b1dpZHRoOiB0cnVlLFxuICAgICAgcGVyUGFnZTogMSxcbiAgICAgIHBlck1vdmU6IDEsXG4gICAgICBwYWdpbmF0aW9uOiBmYWxzZSxcbiAgICAgIGxhenlMb2FkOiBcIm5lYXJieVwiLFxuICAgICAgcHJlbG9hZFBhZ2VzOiA1LFxuICAgICAgYXJyb3dQYXRoOiBcIk0xLjA2MDM5IDM4Ljk1NDFDMi40ODI2NyA0MC4zNDg2IDQuNzc5NzIgNDAuMzQ4NiA2LjIwMiAzOC45NTQxTDIyLjkzOTYgMjIuNDQ1MkMyNC4zNTM1IDIxLjA0MjMgMjQuMzUzNSAxOC43NzY3IDIyLjkzOTYgMTcuMzczOEw2LjIwMiAwLjg2NDg3MUM0Ljc1NTIgLTAuMzU3MjEgMi41OTg1MiAtMC4yNzUwNDYgMS4yNTE2IDEuMDUzNDdDLTAuMDk1MzE4OCAyLjM4MTk5IC0wLjE3ODYyMyA0LjUwOTIxIDEuMDYwMzkgNS45MzYyNEwxNS4yMDkgMTkuOTI3NUwxLjA2MDM5IDMzLjg4MjdDLTAuMzUzNDYzIDM1LjI4NTYgLTAuMzUzNDYzIDM3LjU1MTIgMS4wNjAzOSAzOC45NTQxWlwiXG4gICAgfSk7XG5cbiAgICBjb25zdCBzcGxpZGVQb3B1cEJvdHRvbSA9IG5ldyBTcGxpZGUoXCIuSG90ZWxQYWdlX19QaG90b1NsaWRlci0tUG9wdXBCb3R0b21cIiwge1xuICAgICAgdHlwZTogXCJsb29wXCIsXG4gICAgICBhdXRvV2lkdGg6IHRydWUsXG4gICAgICBwZXJQYWdlOiAxLFxuICAgICAgcGVyTW92ZTogMSxcbiAgICAgIHBhZ2luYXRpb246IGZhbHNlLFxuICAgICAgbGF6eUxvYWQ6IFwibmVhcmJ5XCIsXG4gICAgICBwcmVsb2FkUGFnZXM6IDUsXG4gICAgICBkcmFnOiBmYWxzZSxcbiAgICAgIGFycm93czogZmFsc2UsXG4gICAgICB1cGRhdGVPbk1vdmU6IHRydWUsXG4gICAgICBhcnJvd1BhdGg6IFwiTTEuMDYwMzkgMzguOTU0MUMyLjQ4MjY3IDQwLjM0ODYgNC43Nzk3MiA0MC4zNDg2IDYuMjAyIDM4Ljk1NDFMMjIuOTM5NiAyMi40NDUyQzI0LjM1MzUgMjEuMDQyMyAyNC4zNTM1IDE4Ljc3NjcgMjIuOTM5NiAxNy4zNzM4TDYuMjAyIDAuODY0ODcxQzQuNzU1MiAtMC4zNTcyMSAyLjU5ODUyIC0wLjI3NTA0NiAxLjI1MTYgMS4wNTM0N0MtMC4wOTUzMTg4IDIuMzgxOTkgLTAuMTc4NjIzIDQuNTA5MjEgMS4wNjAzOSA1LjkzNjI0TDE1LjIwOSAxOS45Mjc1TDEuMDYwMzkgMzMuODgyN0MtMC4zNTM0NjMgMzUuMjg1NiAtMC4zNTM0NjMgMzcuNTUxMiAxLjA2MDM5IDM4Ljk1NDFaXCJcbiAgICB9KTtcblxuICAgIHNwbGlkZVBvcHVwQm90dG9tLnN5bmMoc3BsaWRlUG9wdXApO1xuXG4gICAgc3BsaWRlLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgc3BsaWRlUG9wdXAuZ28oc3BsaWRlLmluZGV4KTtcbiAgICAgIHNwbGlkZVBvcHVwQm90dG9tLmdvKHNwbGlkZS5pbmRleCk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLkhvdGVsUGFnZV9fUGhvdG9TbGlkZXJDb250YWluZXJcIikuY2xhc3NMaXN0LmFkZChcIkhvdGVsUGFnZV9fUGhvdG9TbGlkZXJDb250YWluZXItLUFjdGl2ZVwiKTsgICAgICBcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuSG90ZWxQYWdlX19QaG90b1NsaWRlclNjcmVlbkxvY2tcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHNwbGlkZS5nbyhzcGxpZGVQb3B1cC5pbmRleCk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLkhvdGVsUGFnZV9fUGhvdG9TbGlkZXJDb250YWluZXJcIikuY2xhc3NMaXN0LnJlbW92ZShcIkhvdGVsUGFnZV9fUGhvdG9TbGlkZXJDb250YWluZXItLUFjdGl2ZVwiKTtcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuSG90ZWxQYWdlX19QaG90b1NsaWRlckNsb3NlQnV0dG9uXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBzcGxpZGUuZ28oc3BsaWRlUG9wdXAuaW5kZXgpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5Ib3RlbFBhZ2VfX1Bob3RvU2xpZGVyQ29udGFpbmVyXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJIb3RlbFBhZ2VfX1Bob3RvU2xpZGVyQ29udGFpbmVyLS1BY3RpdmVcIik7XG4gICAgfSk7XG5cbiAgICBzcGxpZGUubW91bnQoKTtcbiAgICBzcGxpZGVQb3B1cC5tb3VudCgpO1xuICAgIHNwbGlkZVBvcHVwQm90dG9tLm1vdW50KCk7XG4gIH1cbn0pO1xuIiwiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICBjb25zdCBzbGlkZXJFbGVtZW50UXVlcnkgPSBcIi5Nb2JpbGVXaXRoWW91X19TcGxpZGVSb290XCI7XG5cbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2xpZGVyRWxlbWVudFF1ZXJ5KSkge1xuICAgIG5ldyBTcGxpZGUoc2xpZGVyRWxlbWVudFF1ZXJ5LCB7XG4gICAgICB0eXBlOiBcImxvb3BcIixcbiAgICAgIHBhZ2luYXRpb246IGZhbHNlXG4gICAgfSkubW91bnQoKTtcbiAgfVxufSk7XG4iXX0=
